<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 063 Minutes 2024-01-30</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 063 Minutes 2024-01-30</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/10]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[12/13]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[3/7]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#merge-without-discussion">1.6.1. Merge without discussion</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#pr-956">2.1. PR #956: 850-partial Editorial improvements to parse-html()</a></li>
<li><a href="#pr-957">2.2. PR #957: 948 Added fn:scan-left and fn:scan-right</a></li>
<li><a href="#pr-953">2.3. PR #953: 617 Define record constructors</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/10]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-052-02: NW to consider how to schedule an “editor’s meeting”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-056-04: MK to write a proposal for adding a select attribute to xsl:text</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-058-02: MK to consider providing more advice about the pitfalls of mixing decimal and double when sorting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-03: JK to revise the fn:hash function along the lines discussed at the meeting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-01: MK to revise #956 especially with respect to the options parameter</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-02: JK to consider whether the roman numeral example is appropriate for the spec.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-03: DN to address the editorial remarks from meeting 063 in a new PR.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-04: NW to try to add test review to the editorial meeting.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-05: MK to revise PR #953 to take account of CG’s comments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-06: MK to consider refactoring the declare item type syntax to something like declare record</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[12/13]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: MSM.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:05-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JLY)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> Adam Retter (AR) [:10-]</li>
<li class="off"><code>[&#xa0;]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>

<p>
Welcome, Adam!
</p>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/01-30.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="org171c066" class="figure">
<p><img src="./issues-open-2024-01-30.png" alt="issues-open-2024-01-30.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="org6825f0c" class="figure">
<p><img src="./issues-by-spec-2024-01-30.png" alt="issues-by-spec-2024-01-30.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="org3b434de" class="figure">
<p><img src="./issues-by-type-2024-01-30.png" alt="issues-by-type-2024-01-30.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/01-23.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2024/02-06.html">is scheduled for Tuesday, 6 February 2024</a>.
</p>

<p>
Any regrets for the next meeting? MSM?
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[3/7]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-052-02: NW to consider how to schedule an “editor’s meeting”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-056-04: MK to write a proposal for adding a select attribute to xsl:text</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-058-02: MK to consider providing more advice about the pitfalls of mixing decimal and double when sorting</li>
<li class="on"><code>[X]</code> QT4CG-061-01: MK to review the comments CG made on the PR #927.</li>
<li class="on"><code>[X]</code> QT4CG-062-01: CG to make an email proposal of a list of functions (re issue #843) to add</li>
<li class="on"><code>[X]</code> QT4CG-062-02: MK to check that the expansion of subsequence gives the correct result when neither from nor to match (INF - INF)</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-03: JK to revise the fn:hash function along the lines discussed at the meeting</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.1.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-965">#965</a>: XQFO: minor edits and bug fixes</li>
</ul>

<p>
Proposal: accept without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-956" class="outline-3">
<h3 id="pr-956"><span class="section-number-3">2.1.</span> PR #956: 850-partial Editorial improvements to parse-html()</h3>
<div class="outline-text-3" id="text-pr-956">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-956">#956</a>
</p>

<p>
Needs revision before discussion.
</p>

<p>
ACTION: QT4CG-063-01: MK to revise #956 especially with respect to the options parameter
</p>
</div>
</div>

<div id="outline-container-pr-957" class="outline-3">
<h3 id="pr-957"><span class="section-number-3">2.2.</span> PR #957: 948 Added fn:scan-left and fn:scan-right</h3>
<div class="outline-text-3" id="text-pr-957">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-957">#957</a>
</p>

<p>
DN introduces the PR, <code>fn:scan-left</code> and <code>fn:scan-right</code>.
</p>

<ul class="org-ul">
<li>DN: JK provided some comments about how to improve the descriptions; thank you JK.
<ul class="org-ul">
<li>… Signature of <code>fn:scan-left</code> is the same as <code>fn:fold-left</code> but the return type is different.</li>
</ul></li>
<li>MK: Why are both arguments to the callback function sequences?</li>
</ul>

<p>
Some discussion of whether this is the same as <code>fn:fold-left</code>
</p>

<ul class="org-ul">
<li>DN: You are probably right. I’ll check that.</li>
</ul>

<p>
DN continues to review the PR.
</p>

<ul class="org-ul">
<li>DN: Similarly, signature of <code>fn:scan-right</code> is the same as
<code>fn:fold-right</code> but the return type is different.</li>
<li>JLY: Is there a simpler definition, effectively taking partial
subsequences of the input and then doing fold right or left on them
and putting them together in an array. You wouldn’t do it that way,
but it might be one way to define it.</li>
<li>DN: Yes. I suggest we look at how these functions are defined in Haskell.
<ul class="org-ul">
<li>… Since we’re aligning with these definitions, I think we should
use the same summary.</li>
</ul></li>
<li>RD: The summary mentions “accumulators” but maybe that could be
confusing with XSLT accumulators.</li>
<li>DN: Yes, if we go with the Haskell definition, that use of
“accumulators” will go away.</li>
<li>MK: The aim of the summary isn’t precision, it’s tutorial. Finding a
good summary is difficult. Perhaps we should think about it.</li>
</ul>

<p>
Some discussion of whether or not the Haskell definition is suitable
for our specification.
</p>

<ul class="org-ul">
<li>MK: Let’s focus on the technical questions before we worry about the
editorial details.</li>
<li>DN: The current definition of <code>fn:fold-left</code> is wrong.
<ul class="org-ul">
<li>… It’s wrong to provide positions to the fold function.</li>
<li>… They should be removed from fold and where they are needed,
there should be a separate overload so that the types work
correctly.</li>
</ul></li>
<li>JK: I was just trying to point out an inconsistency.</li>
<li>MK: We added the position argument as an optional argument to all
the callbacks because there are use cases for them and they’re
consistently provided that way in JavaScript. The equivalent
function in JavaScript does have an index argument.</li>
<li>JLO: I wanted to make the same remark as Mike; I have use cases
where I need the position argument. It should be made clear that the
third argument is optional.</li>
<li>JK: Why not just increase the arity of fold-left so that it can
produce the cumulative results. Why do we need two new functions.</li>
<li>MK: I think the functions are sufficiently different that they
should be different. They return different result types, for
example.</li>
<li>CG: We could think of returning a sequence, map-for-each for example
returns everything as a sequence but you can put them in arrays in
the action function if you want.
<ul class="org-ul">
<li>… For some uses you don’t need the separate results.</li>
</ul></li>
<li>DN: Returning sequences is completely destructive, so we shouldn’t do that.</li>
<li>CG: Have you thought about adding array:scan-left and/or
array:scan-right, then you could work with arrays. If you use
arrays, then you want to structure your data.</li>
<li>DN: No, we have lots of use cases when the partial results are a
sequence, that’s why we must not return just a sequence.</li>
<li>CG: What about the array functions?</li>
<li>DN: Array versions wouldn’t be a problem.</li>
<li>JLO: I’m very much in favor of CG’s remark.</li>
<li>JLY: It strikes me, can’t you make this in a fold-left or fold-right
by making the function returns a sequence of arrays of the partial
results? So if you wanted a scan-left you can make one with a
fold-left and a small wrapper function?
<ul class="org-ul">
<li>… Is it sufficiently important to have a new function?</li>
</ul></li>
<li>DN: It can be done in many ways. There’s an implementation in the
specification. It’s in lots of languages.</li>
<li>MK: I’ve certainly come across cases where scan-left would be
useful. I have doubts about scan-right.</li>
<li>DN: Another use case is that both scan-left and scan-right can be
used as tracing/debugging tools for people who are using fold-left
and fold-right.</li>
<li>NW: Having one without the other just seems like it would cause confusion.</li>
<li>CG: The discusison about having two functions instead of just one. We have fold-left
and fold-right but we know in practice that few people use fold-right.</li>
<li>DN: A quick example is JK’s example of arithmetic on roman numbers
that uses fold-right.</li>
<li>CG: So please add an example.</li>
</ul>

<p>
ACTION: QT4CG-063-02: JK to consider whether the roman numeral example is appropriate for the spec.
</p>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>

<p>
ACTION: QT4CG-063-03: DN to address the editorial remarks from meeting 063 in a new PR.
</p>

<ul class="org-ul">
<li>MK: We don’t normally product manage the test suite here, but it’s common to add PRs.</li>
<li>DN: All of the examples should be tests.</li>
<li>MK: There are often tests that aren’t suitable for the spec that are suitable for the test suite.</li>
<li>RD: We can look at adapting the fold-left and fold-right tests.</li>
<li>JK: Along those lines, I want to propose that we have some sort of
orientation meeting about the test suites.</li>
</ul>

<p>
ACTION: QT4CG-063-04: NW to try to add test review to the editorial meeting.
</p>
</div>
</div>

<div id="outline-container-pr-953" class="outline-3">
<h3 id="pr-953"><span class="section-number-3">2.3.</span> PR #953: 617 Define record constructors</h3>
<div class="outline-text-3" id="text-pr-953">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-953">#953</a>
</p>

<p>
MK introduces the issue and describes the PR.
</p>

<ul class="org-ul">
<li>MK: Note that there’s a method for generating an NCName if the record field isn’t.
<ul class="org-ul">
<li>… There are rules for dealing with optionality.</li>
<li>… We could make it nicer if we said that all optional fields have to come at the end.</li>
<li>… But that’s not always natural either (consider ‘middleName’).</li>
<li>… You can’t create extension fields this way.</li>
<li>… It would be nice to start with a simpler example and CG doesn’t
like my coding style. Fair points.</li>
</ul></li>
<li>JLY: The order is now critical in the record declaration. Can you label the names of the
arguments in the call now?</li>
<li>MK: Yes, you can use keywords for the arguments.</li>
<li>JLO: I was wondering why the indicator for an optional argument is
added to the name of the parameter instead of the type?</li>
<li>MK: In the record syntax itself?</li>
<li>JLO: Yes.</li>
<li>MK: Because there’s a difference between allowing a field to be
optional and allowing the value to be optional. The committee picked
both.</li>
</ul>

<p>
MK proposes to discuss some of CG’s comments.
</p>

<ul class="org-ul">
<li>MK: Do we want to back off allowing records with general string
properties to be used in constructor functions.
<ul class="org-ul">
<li>… We could say you can’t have a constructor function for those records.</li>
</ul></li>
<li>NW: I don’t know. Depends how often the arise in practice, I guess.</li>
<li>MK: I suggest that I revise it to take account of CG’s comments and
put it back on the agenda to accept without discussion.</li>
</ul>

<p>
ACTION: QT4CG-063-05: MK to revise PR #953 to take account of CG’s comments
</p>

<p>
We’ll put the revised PR on the “accept without discussion” for next week.
</p>

<p>
ACTION: QT4CG-063-06: MK to consider refactoring the declare item type syntax to something like declare record
</p>

<p>
Some discussion of defaults.
</p>

<ul class="org-ul">
<li>MK: My reservation is that there could be confusion about what defaults mean: that they don’t</li>
</ul>
<p>
mean that’s a value you get back if the key isn’t in the record.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>