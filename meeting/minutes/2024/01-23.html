<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 062 Minutes 2024-01-23</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 062 Minutes 2024-01-23</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/7]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[10/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[0/4]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#issue-843">2.1. Issue #843:  Standard, array &amp; map functions: Equivalencies</a></li>
<li><a href="#pr-940">2.2. PRs #940 and #874: 878 Add subsequence-where function</a></li>
<li><a href="#pr-937">2.3. PR #937: 779 hash function</a></li>
<li><a href="#pr-962">2.4. PR #962: 946 fn:iterate-while → fn:while-do, fn:do-until</a></li>
<li><a href="#pr-956">2.5. PR #956: 850-partial Editorial improvements to parse-html()</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2024/01-30.html">at meeting 063</a> on 30 January 2024
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/7]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-052-02: NW to consider how to schedule an “editor’s meeting”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-056-04: MK to write a proposal for adding a select attribute to xsl:text</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-058-02: MK to consider providing more advice about the pitfalls of mixing decimal and double when sorting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-061-01: MK to review the comments CG made on the PR #927.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-01: CG to make an email proposal of a list of functions (re issue #843) to add</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-02: MK to check that the expansion of subsequence gives the correct result when neither from nor to match (INF - INF)</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-03: JK to revise the fn:hash function along the lines discussed at the meeting</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[10/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: MSM, SF.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="off"><code>[&#xa0;]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JLY)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>

<p>
Welcome, Juri!
</p>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/01-23.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="orga6129dc" class="figure">
<p><img src="./issues-open-2024-01-23.png" alt="issues-open-2024-01-23.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="org7e499f6" class="figure">
<p><img src="./issues-by-spec-2024-01-23.png" alt="issues-by-spec-2024-01-23.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="org9137a53" class="figure">
<p><img src="./issues-by-type-2024-01-23.png" alt="issues-by-type-2024-01-23.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/01-16.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2024/01-30.html">is scheduled for Tuesday, 30 January 2024</a>.
</p>

<p>
Any regrets for the next meeting? MSM.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[0/4]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-052-02: NW to consider how to schedule an “editor’s meeting”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-056-04: MK to write a proposal for adding a select attribute to xsl:text</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-058-02: MK to consider providing more advice about the pitfalls of mixing decimal and double when sorting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-061-01: MK to review the comments CG made on the PR #927.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-795">#795</a>: 655: fn:sort-with</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-529">#529</a>: 528: revision of json(), and renaming to elements-to-maps()</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-958">#958</a>: 951 Parameters with default values: fn:lang, fn:id, fn:idref, fn:element-id</li>

<li>MK asks for a quick discussion of the rationale.</li>
<li>CG attempts to explain. The PR is an attempt to resolve some special
cases. In <code>fn:lang</code> for example, we can’t determine statically if
the function is context dependent.</li>

<li>PR <a href="https://qt4cg.org/dashboard/#pr-952">#952</a>: 945 module import contradiction</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-950">#950</a>: Minor edits (examples, rules)</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-941">#941</a>: 939 Remove fn:numeric-compare</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-936">#936</a>: 877 revised rules for op:binary-less-than</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-927">#927</a>: 861 Rewrite spec of deep lookup operator</li>
</ul>

<p>
Proposal: merge without discussion
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/818">#818</a>: Foxpath integration</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/693">#693</a>: QT4 Tests without counterpart in the specs</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/639">#639</a>: fn:void: Naming, Arguments</li>
</ul>

<p>
Proposal: close without action
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-issue-843" class="outline-3">
<h3 id="issue-843"><span class="section-number-3">2.1.</span> Issue #843:  Standard, array &amp; map functions: Equivalencies</h3>
<div class="outline-text-3" id="text-issue-843">
<p>
Christian Gruen proposed putting a discussion of issue 843 on today’s
agenda as a supplement to further discussion of issue 872. I’m going
to suggest we time box that to about 15 minutes unless we feel like
we’re making very substantial progress. He also proposed a list of PRs
for discussion this week which I’ve included below.
</p>

<ul class="org-ul">
<li>CG: Not one of the most exciting issues, but it’s about consistency.
The issue lists all of the functions that are currently part of the
specification. The question is, do we need array and map versions
recently added functions?</li>
<li>JLO: observes that these functions are not all exactly comparable.</li>
<li>DN: What is the question, exactly? We’ve done this before. We should
instead be trying to find a common collection type. We could avoid
all these tables and the possibility of adding new columns.
Automatically making array versions of sequence functions seems not
very logical.</li>
<li>CG: The difference is that ideally, I only want to spend a few
minutes on this summary and then not discuss it again. Finding a
common collection type would be an interesting approach, but here we
have some things we can do quickly.</li>
<li>DN: This isn’t going to be the best approach.</li>
<li>MK: If someone has a proposal for a collection type, worked out in
detail, I look forward to reading it. In the meantime, it makes
sense to try to make the case more uniform.</li>
<li>NW: Should someone just take an action to make a proposal?</li>
<li>RD: Sequences are a flat representation of items, arrays can contain
nested arrays, and maps have key/value pairs and the value can be an
sequence or an array. How would something like <code>array:some</code> or
<code>array:every</code> even work?</li>
<li>CG: I completely agree with RD. It would be nice to go through the
list.</li>
<li>WP: I think there’s a bit of a stress between long term goals and
shorter-term goals. Some of DN’s concerns might be addressed by
agreeing that the longer term goal is some sort of uniformity.
<ul class="org-ul">
<li>… If we’re publishing this table, what message does that send?</li>
</ul></li>
<li>JLY: It strikes me that there are some of these that can be created
from some and every expression over things like filters and
selectors. For example <code>fn:duplicate-members</code> could be done that
way. Which do you have to have, that can’t be easily constructed
from existing functions.</li>
<li>MK: Procedurally, I think our time is much better spent discussing
concrete proposals. It’s hard to get agreement on policy questions;
we should encourage people to make concrete proposals.</li>
<li>JLO: I wonder if we could at least for the new functions already and
make it work for the new functions?</li>
<li>DN: I totally agree with MK that we need a constructive approach. I
think that <code>array:every</code>, <code>array:some</code>, etc. should be added so that
it doesn’t appear that we’re favoring sequences.</li>
<li>RD: One of the challenges with creating a unified function even with
the existing data types is that an array is an item. So it’s hard to
distinguish them.</li>
</ul>

<p>
ACTION QT4CG-062-01: CG to make an email proposal of a list of functions (re issue #843) to add
</p>
</div>
</div>

<div id="outline-container-pr-940" class="outline-3">
<h3 id="pr-940"><span class="section-number-3">2.2.</span> PRs #940 and #874: 878 Add subsequence-where function</h3>
<div class="outline-text-3" id="text-pr-940">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-940">#940</a> and PR <a href="https://qt4cg.org/dashboard/#pr-874">#874</a>.
</p>

<ul class="org-ul">
<li>MK introduces #940 as a replacement of his previous proposal to extend subsequence.</li>
<li>MK: The PR gets rid of the quartet of functions and replaces them
with <code>subequence-where</code> that’s inclusive.
<ul class="org-ul">
<li>… MK explains the semantics of the function</li>
<li>… It’s defined in terms of <code>fn:index-where</code></li>
<li>… Being inclusive at both end points makes a few use cases more difficult.</li>
<li>… It’s inclusive because it’s easier to get rid of an item than add one</li>
<li>… The only tricky case I’ve found is that it’s hard to tell if the
last item was selected (as opposed to stopping at an item before the last).</li>
</ul></li>
<li>JLY: In most cases, you can get to an exclusive result with head/tail.</li>
<li>MK: That use case inspired me to add a while close to for
expressions that handles that case quite well.</li>
<li>DN: The use of <code>INF</code> in the description concerns me.</li>
<li>MK: The <code>subsequence</code> function handles <code>INF</code> so its fine.</li>
</ul>

<p>
Proposal: accept #940, discard #878
</p>

<p>
Accepted.
</p>

<p>
Some discussion of subtraction of <code>INF</code> values.
</p>

<p>
ACTION QT4CG-062-02: MK to check that the expansion of subsequence gives the correct result when neither from nor to match (INF - INF)
</p>
</div>
</div>

<div id="outline-container-pr-937" class="outline-3">
<h3 id="pr-937"><span class="section-number-3">2.3.</span> PR #937: 779 hash function</h3>
<div class="outline-text-3" id="text-pr-937">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-937">#937</a>
</p>

<ul class="org-ul">
<li>JK introduces the proposed <code>hash</code> function.</li>
<li>JK: The input is turned into a sequence of octets and fed to the algorithm
<ul class="org-ul">
<li>… There were comments about providing a salt function, but I was
hoping to start with a basic building block.</li>
<li>… Two of the three algorithms have been cracked; caveat user.</li>
</ul></li>
<li>RD: Should the algorithm names be matched in a case-insensitive
manner. I note that <code>sha-1</code> is lower case in one of my examples.</li>
<li>JK: Yes, that’s in the spec.</li>
<li>MK: Another minor point, the conversion from an octet sequence to a
string is under-specified. It should say that it does it as if using
the hexbinary to string cast.</li>
<li>DN: I this proposal a lot, what strikes me is that there are just
three algorithms. I’d like to have more or make the list open-ended.</li>
<li>JK: Benito asked why we don’t have a hash function library, I don’t
have an opinion on that.</li>
<li>MK: Why are we returning a string rather than a binary value?</li>
<li>JK: That’s what most people expect.</li>
</ul>

<p>
Some discussion of what kind of string representation might be wanted.
</p>

<ul class="org-ul">
<li>NW: I think it should have an options algorithm.</li>
<li>MK: Have a single required option</li>
<li>JK: Replace the second argument with a map.</li>
<li>JLO: I like the idea of an options map. The options map could also
specify the desired output format.
<ul class="org-ul">
<li>… I would like to have a core function.</li>
</ul></li>
<li>RD: On the question of implementing it in a library, the hash
algorithms mutate the values so it’s hard to do in an XQuery or XSLT
function.</li>
<li>MK: I think the question of what module and namespace this function
goes in and whether it can be implemented in XQuery are completely
orthogonal.</li>
</ul>

<p>
Some discussion of whether or not this should be an independent module.
</p>

<ul class="org-ul">
<li>MK: What about the name of the function? Is <code>fn:hash</code> the right name?</li>
<li>JK: It’s always a mystery to me where the dividing line is between hash and checksum.</li>
</ul>

<p>
Proposal: Accepted this PR
</p>

<p>
Accepted.
</p>

<p>
ACTION QT4CG-062-03: JK to revise the fn:hash function along the lines discussed at the meeting
</p>
</div>
</div>

<div id="outline-container-pr-962" class="outline-3">
<h3 id="pr-962"><span class="section-number-3">2.4.</span> PR #962: 946 fn:iterate-while → fn:while-do, fn:do-until</h3>
<div class="outline-text-3" id="text-pr-962">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-962">#962</a>
</p>

<p>
CG introduces the rational for creating <code>while-do</code> and <code>do-until</code>
instead of <code>iterate-while</code>. It allows the user to check before or
after the condition. This provides a broader set of semantics.
</p>

<p>
CG shows how <code>do-until</code> makes some use cases easier because the
iteration always happens at least once.
</p>

<ul class="org-ul">
<li>DN: I think <code>do-until</code> is something that would be very handy. I
think <code>while-do</code> should be renamed to just <code>while</code>.</li>
<li>CG: I thought of that. But we are considering a <code>while</code> clause on a
FLOWR expression and that could lead to ambiguity if the beginning
of the FLOWR clause is omitted.</li>
<li>MK: Choosing names that we might want to use as language keywords seems unwise.</li>
<li>DN: We want to avoid specifying order and ordering in functional
programming as much as possible.</li>
<li>MK: Yes, but we also want names that are intuitive to users. I like the symmetry.</li>
<li>CG: There really is an order here.</li>
</ul>

<p>
Some discussion of the order of the arguments to the two functions.
</p>

<ul class="org-ul">
<li>RD: Would it be clearer if <code>$seq</code> in the first example was <code>$value</code>.</li>
<li>JL: If <code>$p</code> is the position, that would be better.</li>
<li>MK: Or <code>$index</code></li>
<li>JLO: I thought we could rename them to apply-until, but I don’t know
if that’s any better. But do-while is well known.</li>
</ul>

<p>
Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-956" class="outline-3">
<h3 id="pr-956"><span class="section-number-3">2.5.</span> PR #956: 850-partial Editorial improvements to parse-html()</h3>
<div class="outline-text-3" id="text-pr-956">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-956">#956</a>
</p>

<p>
Some discussion of the semantics. RD suggests that the way that the
HTML version and type work have changed but the names haven’t been
changed in the record type.
</p>

<p>
MK proposes to look at it again, encourages RD to make his comments on
the PR.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>