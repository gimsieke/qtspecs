<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 072 Minutes 2024-04-09</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 072 Minutes 2024-04-09</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/10]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[9/15]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[5/10]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#merge-without-discussion">1.6.1. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.2. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#pr-1132">2.1. PR #1132: 122 Choice item types (generalizing local union types)</a></li>
<li><a href="#pr-1131">2.2. PR #1131: 796,231 - Extend XPath for and let expressions</a></li>
<li><a href="#pr-1120">2.3. PR #1120: 99v2 deep equal with callback</a></li>
<li><a href="#pr-1108">2.4. PR #1108: 566-partial Describe a less aggressive %-encoding for fn:build-uri</a></li>
<li><a href="#pr-1098">2.5. PR #1098: 566-partial Editorial improvements for parse-uri</a></li>
<li><a href="#pr-1093">2.6. PR #1093: 1091 Add fn:collation function</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2024/04-16.html">at meeting 073</a> on 16 April 2024.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/10]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-063-06: MK to consider refactoring the declare item type syntax to something like declare record</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-08: NW to open an issue to try to resolve $search to $target consistently.</li>
<li class="trans"><code>[-]</code> QT4CG-069-02: NW to coordinate with MK to use the introspection features on the test suite.
<ul class="org-ul">
<li>In progress…</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-070-01: NW to review how records are formatted.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-071-06: NW to clarify the cases that are distinguished by the leading empty string in path segments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-072-01: MK to consider whether and when a choice type should be classified as a schema type</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-072-02: MK to clarify that the position variable is a single, positive integer.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-072-03: NW to clarify the round-tripping of URIs</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-072-04: DN to raise an issue about having a function to test if a collation URI is supported</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[9/15]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: WP, JK.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="off"><code>[&#xa0;]</code> Mukul Gandhi (MG)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="off"><code>[&#xa0;]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JLY)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="off"><code>[&#xa0;]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Liam Quin (LQ)</li>
<li class="off"><code>[&#xa0;]</code> Adam Retter (AR)</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/04-09.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="orgcc8acdd" class="figure">
<p><img src="./issues-open-2024-04-09.png" alt="issues-open-2024-04-09.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="org1e65035" class="figure">
<p><img src="./issues-by-spec-2024-04-09.png" alt="issues-by-spec-2024-04-09.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="orgb4cb2bd" class="figure">
<p><img src="./issues-by-type-2024-04-09.png" alt="issues-by-type-2024-04-09.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/03-26.html">the minutes of the previous meeting</a>.
</p>

<ul class="org-ul">
<li>JLO: The minutes mixed up JLO and JLY in one place.</li>
<li>NW: Okay, send it in chat and I’ll fix it.</li>
</ul>

<p>
Accepted with that revision.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2024/04-16.html">is scheduled for Tuesday, 16 April 2024</a>.
</p>

<p>
JLY gives regrets for 16 and 23 April.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[5/10]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-063-06: MK to consider refactoring the declare item type syntax to something like declare record</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-08: NW to open an issue to try to resolve $search to $target consistently.</li>
<li class="trans"><code>[-]</code> QT4CG-069-02: NW to coordinate with MK to use the introspection features on the test suite.
<ul class="org-ul">
<li>In progress…</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-070-01: NW to review how records are formatted.</li>
<li class="on"><code>[X]</code> QT4CG-071-01: MK to put namespace bindings for XQuery back on the issue list
<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1119">#1119</a></li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-071-02: MK to raise a PR that changes map construction examples as appropriate</li>
<li class="on"><code>[X]</code> QT4CG-071-03: MK to review the definition of map equality in <code>fn:equal</code>
<ul class="org-ul">
<li>See PR <a href="https://qt4cg.org/dashboard/#pr-1120">#1120</a></li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-071-04: MK to update the prose to highlight differences between <code>fn:equal</code> and <code>fn:deep-equal</code>
<ul class="org-ul">
<li>No longer relevant</li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-071-05: MK to consider the name of the function argument.
<ul class="org-ul">
<li>No longer relevant</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-071-06: NW to clarify the cases that are distinguished by the leading empty string in path segments</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.1.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1134">#1134</a>: 1133 Correct map:filter callback signature</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1128">#1128</a>: 1020 Further notes on the consequences of function coercion</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1123">#1123</a>: 1118 Drop the "map" keyword in adaptive serialization output</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1112">#1112</a>: 1110-partial New error codes</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.2.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1105">#1105</a>: Casting to numerical type from strings with underscores</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/983">#983</a>: fn:reduce (or fn:fold without initial value)</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/834">#834</a>: Add creation function for `csv-row-record` type</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/713">#713</a>: Annotations: Editorial notes</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/666">#666</a>: Polyfill function implementations</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/613">#613</a>: Allow "union" as synonym for "|" everywhere</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/132">#132</a>: Clarify if redirects should be followed</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/67">#67</a>: Allow optional parameters and keyword arguments on map and sequence variadic functions.</li>
</ul>

<p>
Proposal: close without further action.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-1132" class="outline-3">
<h3 id="pr-1132"><span class="section-number-3">2.1.</span> PR #1132: 122 Choice item types (generalizing local union types)</h3>
<div class="outline-text-3" id="text-pr-1132">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1132">#1132</a>
</p>

<p>
MK describes the PR.
</p>

<ul class="org-ul">
<li>MK: This PR replaces local union types and generalizes them.
<ul class="org-ul">
<li>… Union of sequence types didn’t satisfy the requirements and got complicated</li>
<li>… Stuck with a union of item types.</li>
<li>… Kept the terminology “local union type” to reduce churn in the spec</li>
<li>… No substantial changes to enumeration types.</li>
<li>… Subtyping turned out to be relatively easy.</li>
</ul></li>
<li>JLY: Two things: what is the semantics of casting when the union type could be ambiguous?</li>
<li>MK: You take the first one that works. It is ordered, as with union types.</li>
<li>JLY: So A union B isn’t necessarily the same as B union A (wrt casting)</li>
<li>MK: That’s right.</li>
<li>JLY: Can you use union everywhere you can use |?</li>
<li>MK: No, there are places where | and <code>union</code> are different</li>
<li>MSM: At the very end of the first section, there was a paragraph that said
“this is a schema type even though it’s not defined in any schema?” Is it
always true that it isn’t in a schema, or is it meant to say “even if it’s
created in some other way, it still counts as a schema type?”</li>
<li>MK: That’s a good question. It relates to what we day about schema types. It
was primarily an attempt to avoid rewriting that section.
<ul class="org-ul">
<li>… The current definition of “schema type” is a little bit fuzzy.</li>
</ul></li>
<li>CG: Why were union types renamed to choice item types?</li>
<li>MK: To avoid confusion with union types in XSD.</li>
<li>JLO: I’m wondering about the decision not to use sequence types. Can I still
use them in a return type or parameter type?</li>
<li>MK: Yes, but you’re only allowed one occurrenc indicator. You can’t say it’s a
map or a sequence of strings. You have to say it’s a sequence of things that
are maps or strings.</li>
<li>DN: I like having this. I recently had to specify unions between maps and
arrays and this is an improvement over local union types. We have too many
union types now: pure union types, union types, choice items types. It becomes
confusing.
<ul class="org-ul">
<li>… Can we say union types and not choice item types</li>
</ul></li>
<li>MK: Well, as I explained, I wanted to give it a different name so it was distinct from XSD.</li>
<li>DN: Perhaps “XSD union types” and “XPath union types”</li>
<li>MK: I’d be worried about making sure all the existing uses of “union types” got clarified.</li>
<li>DN: Okay, then I just want to be on record as saying I think we have too many union types.</li>
<li>RD: I like the proposal. It would be nice to see if we could get sequence type
unions working. The example of “a list of strings or a map” is used in some
MarkLogic APIs. There might be some other places too.</li>
<li>MK: The area where I found it most difficult to deal with sequence types was
in coercion rules. General unions start by getting a handle on the required
item type, and that assumes you can base the rules on what the target item
type is.</li>
</ul>

<p>
Some discussion. Would require more thought. This is the “easy 80% of the problem”.
</p>

<ul class="org-ul">
<li>JLO: Following up, what happens if I have a union type of xs:integer and
xs:string and I want to have a sequence of those. This allows a mixed sequence
of integers and strings.</li>
<li>MK: Yes.</li>
<li>RD: Yes, but you can’t say “a list of strings or a list of only strings”</li>
<li>MK: Right. You can only have a list of things each of which is either a string or an integer.</li>
<li>DN: I was wondering how this would effect our rules for overloading of
functions. If one specifies a argument type as the union of several types,
that will make it more difficult to make the overload more specific.</li>
<li>RD: Overloading only functions on the arity of the function.</li>
<li>MK: What you can do now is have one function with <b>alternative</b> item types.
You can’t have two different functions in that case, but you can have one
function that accepts either.</li>
<li>DN: That makes the logic in the function a little bit complex.</li>
</ul>

<p>
Some discussion of how you can currently use typeswitch in a function.
</p>

<ul class="org-ul">
<li>MK: The current <code>fn:serialize</code> function accepts either an item or a map, and
now you can get a more precises signature for that.</li>
<li>DN: We should comment that this facility can lead to cases where things become more complex.</li>
<li>JLY: Is there a proposal to put typeswitch into XPath?</li>
<li>MK: Not at the moment.</li>
<li>JLY: Why not?</li>
<li>MK: The whole question of what should be in XPath ends up being a matter of
opinion: keep it as small as possible, or make it as powerful as possible.
Pick one.</li>
<li>DN: I want to put as many things as possible in XPath. But I’m against putting
typeswitch in XPath because it would encourage messy programming.</li>
<li>RD: I just wanted to say that as opposed to what DN said, this lets you be
more restrictive about types.</li>
</ul>

<p>
ACTION QT4CG-072-01: MK to consider whether and when a choice type should be classified as a schema type
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1131" class="outline-3">
<h3 id="pr-1131"><span class="section-number-3">2.2.</span> PR #1131: 796,231 - Extend XPath for and let expressions</h3>
<div class="outline-text-3" id="text-pr-1131">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1131">#1131</a>
</p>

<ul class="org-ul">
<li>MK: This absorbs several separate issues. It allows XPath to have a larger
subset of FLOWR expressions.
<ul class="org-ul">
<li>… The semantics are the same as XQuery, it just extends the XPath subset a bit.</li>
</ul></li>
</ul>

<p>
MK reviews the grammar changes.
</p>

<ul class="org-ul">
<li>MK: The names have to be unique across XPath and XQuery, so we get <code>XPForClause</code>
<ul class="org-ul">
<li>… The grammar is defined in a slightly different way than XQuery, but its still a subset.</li>
<li>… There’s not much change to the way its described.</li>
<li>… Let expressions reuse the same constructs</li>
</ul></li>
<li>DN: The <code>at</code> argument allows variables; can it be a single integer or a sequence…</li>
<li>MK: It’s a single integer.</li>
<li>DN: Can we just say that the position variable should contain a single, positive integer.</li>
<li>RD: I found the recursive definition of the for and let expressions to be a little confusing.
<ul class="org-ul">
<li>… I initially wondered if this would allow a duplicated for clause.</li>
<li>… I wonder if the grammar could be similar to the XQuery grammar where a
ForLet expression is at the top.</li>
</ul></li>
<li>MK: Yes. This ties in closely to the way the semantics are described in XPath.
Doing the grammar differently would make it harder to express the semantics in
those terms.
<ul class="org-ul">
<li>… In effect, this is just saying that you can leave out the return keyword in some cases.</li>
<li>… The recursive description would up being simplest.</li>
</ul></li>
</ul>

<p>
ACTION QT4CG-072-02: MK to clarify that the position variable is a single, positive integer.
</p>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1120" class="outline-3">
<h3 id="pr-1120"><span class="section-number-3">2.3.</span> PR #1120: 99v2 deep equal with callback</h3>
<div class="outline-text-3" id="text-pr-1120">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1120">#1120</a>
</p>

<ul class="org-ul">
<li>MK: At the last meeting, we looked at a proposal I made for a function named
<code>fn:equal</code>. There was pushback on that proposal about the limitations and
there were questions about how it’s different from <code>fn:deep-equal</code>.
<ul class="org-ul">
<li>… I decided that we could satisfy the requirement by adding a callback to <code>fn:deep-equal</code>.</li>
<li>… The <code>fn:deep-equal</code> function is extended with a <code>items-equal</code> function.</li>
<li>… The function can say two items are equal, or not equal, or “ignore this
call back and figure out per usual”.</li>
<li>… This means you can overload the logic only for nodes or only for timestamps, etc.</li>
</ul></li>
<li>MK: It’s not a big change, but it does satisfy all of the use cases.</li>
<li>JLY: This use of a triple-valued return, are there other places where this might be helpful?
<ul class="org-ul">
<li>… Strikes me as a technique we could use a little more generally.</li>
</ul></li>
<li>MK: Potentially, though I can’t think of any.</li>
<li>DN: This could be generalized to provide a “deep compare” function.
<ul class="org-ul">
<li>… We are in need of comparison function for two arrays.</li>
<li>… Maybe we need to think how to unify these concepts.</li>
</ul></li>
<li>MK: I did go down that avenue, but fell back to “doing one thing at a time.”
There’s a gap in that area waiting to be filled.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1108" class="outline-3">
<h3 id="pr-1108"><span class="section-number-3">2.4.</span> PR #1108: 566-partial Describe a less aggressive %-encoding for fn:build-uri</h3>
<div class="outline-text-3" id="text-pr-1108">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1108">#1108</a>
</p>

<p>
NW outlines the proposal and observes that this will require changes to the test
suite, but proposes to do them separately.
</p>

<ul class="org-ul">
<li>CG: What about query parmaters, should they also use these new rules?</li>
<li>NW: … uh …
<ul class="org-ul">
<li>… Dang it. I’m not going to try to decide that on the fly. Apologies for
having over looked them.</li>
</ul></li>
</ul>

<p>
Some discussion about how round-tripping comes into play and what effect it has.
MSM proposes that it might be clearer if the spec described how fully unescaped,
fully escaped, and partially escaped URIs are effected.
</p>

<p>
ACTION QT4CG-072-03: NW to clarify the round-tripping of URIs
</p>
</div>
</div>

<div id="outline-container-pr-1098" class="outline-3">
<h3 id="pr-1098"><span class="section-number-3">2.5.</span> PR #1098: 566-partial Editorial improvements for parse-uri</h3>
<div class="outline-text-3" id="text-pr-1098">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1098">#1098</a>
</p>

<p>
Not ready for review.
</p>
</div>
</div>

<div id="outline-container-pr-1093" class="outline-3">
<h3 id="pr-1093"><span class="section-number-3">2.6.</span> PR #1093: 1091 Add fn:collation function</h3>
<div class="outline-text-3" id="text-pr-1093">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1093">#1093</a>
</p>

<p>
MK reviews the proposal.
</p>

<ul class="org-ul">
<li>MK: This is a convenience function that means you don’t have to remember the
URIs for UCA collations.
<ul class="org-ul">
<li>… it takes a map and does two things: constructs a string consisting and
then either returns it or reports an error if the resulting collation isn’t
supported by the implementation.</li>
<li>… There’s a little subtlty in the option parameter conventions; there’s a
slight difference with respect to properties not defined in the spec.
Implementation defined options are aligned with UCA collations.</li>
</ul></li>
<li>DN: I think I like this. Everything seems logical, but what about the fact
that we don’t have try/catch facilities in XPath. It would be good to have a
function to ask the question “is a collation supported”?</li>
<li>MK: If you say fallback=true, the function will never fail</li>
<li>DN: How would I know that I can use the collation?</li>
<li>MK: You don’t. It’s not exactly what you’re looking for.</li>
</ul>

<p>
Some discussion of supporting try/catch in XPath
</p>

<ul class="org-ul">
<li>JLY: Even better would be able to pass the map in where a collation URI is used.</li>
<li>CG: What about avoiding the camel case and converting them to UCA.</li>
<li>MK: I wouldn’t be opposed to that.</li>
<li>RD: I concur.</li>
</ul>

<p>
ACTION QT4CG-072-04: DN to raise an issue about having a function to test if a collation URI is supported
</p>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
