<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 064 Minutes 2024-02-06</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 064 Minutes 2024-02-06</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/18]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[11/13]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[0/10]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#merge-without-discussion">1.6.1. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.2. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#h-F0CA0595-1E69-415A-AEB3-E581D85C3770">2.1. PR #993: 989 (partial) Allow char() to take integer argument</a></li>
<li><a href="#h-83F2F3A1-2489-49A8-87D7-AB6027F7B977">2.2. PR #984: 959-partial Add fn:seconds function</a></li>
<li><a href="#h-3EBFCA4C-BE3E-4E12-A3E0-C8814FB4D983">2.3. PR #975: 973 fn:parse-json, fn:json-to-xml: number-parser, fallback</a></li>
<li><a href="#h-54AE0638-A009-43BA-B7A9-77089F952602">2.4. PR #969: 843-partial Standard, array &amp; map functions: Equivalencies</a></li>
<li><a href="#h-0416C7F0-561F-40E3-9579-05385F261D14">2.5. PR #968: 260 array:index-of</a></li>
<li><a href="#h-C6835AB9-49C4-435C-9DA1-7C093CE7F8B5">2.6. PR #943: 187 Add FLWOR expression while clause</a></li>
<li><a href="#h-B681422B-BB11-4411-B22C-F387E163612E">2.7. PR #795: 655 fn:sort-with</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2024/02-13.html">at meeting 065</a> on 13 February 2024.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/18]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-052-02: NW to consider how to schedule an “editor’s meeting”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-056-04: MK to write a proposal for adding a select attribute to xsl:text</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-058-02: MK to consider providing more advice about the pitfalls of mixing decimal and double when sorting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-03: JK to revise the fn:hash function along the lines discussed at the meeting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-01: MK to revise #956 especially with respect to the options parameter</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-02: JK to consider whether the roman numeral example is appropriate for the spec.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-03: DN to address the editorial remarks from meeting 063 in a new PR.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-04: NW to try to add test review to the editorial meeting.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-05: MK to revise PR #953 to take account of CG’s comments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-06: MK to consider refactoring the declare item type syntax to something like declare record</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-01: MK to remove “#…” and “#x…” arguments from <code>fn:char</code></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-02: CG to update the fallback function to use the new <code>char</code> argument.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-03: CG to add examples to show how JSON parsing changes are useful.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-04: CG to change the return type of <code>fallback</code> to <code>xs:untypedAtomic?</code></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-05: CG to amend the names in the keys-where example to be more inclusive</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-06: Add a <code>keys-where</code> example that uses the value in a more interesting way.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-07: CG to add an <code>array:index-of</code> example that uses a collation</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-064-08: NW to open an issue to try to resolve $search to $target consistently.</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[11/13]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: MSM.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF) [:06-]</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:08-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JLY)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Adam Retter (AR) [:10-]</li>
<li class="off"><code>[&#xa0;]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/02-06.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="org88ac4e7" class="figure">
<p><img src="./issues-open-2024-02-06.png" alt="issues-open-2024-02-06.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="org947db25" class="figure">
<p><img src="./issues-by-spec-2024-02-06.png" alt="issues-by-spec-2024-02-06.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="org61bce07" class="figure">
<p><img src="./issues-by-type-2024-02-06.png" alt="issues-by-type-2024-02-06.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/01-30.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2024/02-13.html">is scheduled for Tuesday, 13 February 2024</a>.
</p>

<p>
Any regrets for the next meeting? MSM.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[0/10]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-052-02: NW to consider how to schedule an “editor’s meeting”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-056-04: MK to write a proposal for adding a select attribute to xsl:text</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-058-02: MK to consider providing more advice about the pitfalls of mixing decimal and double when sorting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-062-03: JK to revise the fn:hash function along the lines discussed at the meeting</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-01: MK to revise #956 especially with respect to the options parameter</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-02: JK to consider whether the roman numeral example is appropriate for the spec.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-03: DN to address the editorial remarks from meeting 063 in a new PR.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-04: NW to try to add test review to the editorial meeting.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-05: MK to revise PR #953 to take account of CG’s comments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-063-06: MK to consider refactoring the declare item type syntax to something like declare record</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.1.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-997">#997</a>: 830 Drop F+O appendix D.4</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-996">#996</a>: 816 Allow a predicate in a filter expression to be a sequence of numbers</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-995">#995</a>: 937 revised in light of CG feedback</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-992">#992</a>: 888, 963: Error handling for unsatisfied context dependencies</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-987">#987</a>: 628 Define result order for distinct-values and duplicate-values</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-980">#980</a>: 911 Coercion to allow double to decimal etc</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-979">#979</a>: 966 Minor fixes to deep lookup</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-971">#971</a>: 970 XQFO: Context item → value</li>
</ul>

<p>
Proposal: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.2.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/964">#964</a>: fn:has-attributes</li>
</ul>

<p>
Proposal: close without action.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-h-F0CA0595-1E69-415A-AEB3-E581D85C3770" class="outline-3">
<h3 id="h-F0CA0595-1E69-415A-AEB3-E581D85C3770"><span class="section-number-3">2.1.</span> PR #993: 989 (partial) Allow char() to take integer argument</h3>
<div class="outline-text-3" id="text-h-F0CA0595-1E69-415A-AEB3-E581D85C3770">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-993">#993</a>
</p>

<p>
MK reviews the PR.
</p>

<ul class="org-ul">
<li>RD: Does this mention errors if you use an invalid Uniecode codepoint value?</li>
<li>MK: Yes.</li>
<li>RD: Should we add more detail to the error?</li>
<li>MK: We didn’t before.</li>
<li>JLO: If we drop the ability to use “#x20” then we always have to
convert to integer in XQuery.</li>
<li>CG: You can now specify hex integer literals.</li>
<li>DN: I’m confused it says that it returns something that is a
character or more than one characters. We don’t have character
strictly defined. The second question is what is the difference
between this and just using numeric character references.</li>
<li>MK: This isn’t related to the change we’re proposing, but the
question of multiple characters is that you can use HTML names and
some of those return to multiple characters.</li>
<li>DN: Then it’s not a very accurate name.</li>
<li>MK: True, but the HTML spec isn’t very clear. We don’t need to
change the function because there are edge cases.</li>
<li>DN: What about numeric character references?</li>
<li>MK: Two reasons: for clarity and because the argument can be a
variable. And XQuery doesn’t define &amp;-entity references.</li>
<li>RD: For reference, character is defined as a reference to the XML
char which is a predefined range of valid Unicode characters.</li>
<li>CG: Regarding the question, I think we should drop the string variants.</li>
</ul>

<p>
Anyone want to keep the numeric forms “#…” and “#x…”?
</p>

<p>
No one does.
</p>

<p>
ACTION QT4CG-064-01: MK to remove “#…” and “#x…” arguments from <code>fn:char</code>
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-83F2F3A1-2489-49A8-87D7-AB6027F7B977" class="outline-3">
<h3 id="h-83F2F3A1-2489-49A8-87D7-AB6027F7B977"><span class="section-number-3">2.2.</span> PR #984: 959-partial Add fn:seconds function</h3>
<div class="outline-text-3" id="text-h-83F2F3A1-2489-49A8-87D7-AB6027F7B977">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-984">#984</a>
</p>

<p>
MK explains that this is designed to make it easier to compute a number of seconds.
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-3EBFCA4C-BE3E-4E12-A3E0-C8814FB4D983" class="outline-3">
<h3 id="h-3EBFCA4C-BE3E-4E12-A3E0-C8814FB4D983"><span class="section-number-3">2.3.</span> PR #975: 973 fn:parse-json, fn:json-to-xml: number-parser, fallback</h3>
<div class="outline-text-3" id="text-h-3EBFCA4C-BE3E-4E12-A3E0-C8814FB4D983">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-975">#975</a>
</p>

<p>
CG explains the PR.
</p>

<ul class="org-ul">
<li>CG: This is a revision to a change that’s already been accepted.
When numbers are specified in the input JSON, how should they be
converted to the XDM representation?
<ul class="org-ul">
<li>… This is a few tweaks on the <code>number-parser</code> function in parsing JSON.</li>
<li>… Added a default type for the return value.</li>
</ul></li>
<li>CG: Also a few similar changes to the <code>fallback</code> function.</li>
</ul>

<p>
ACTION QT4CG-064-02: CG to update the fallback function to use the new <code>char</code> argument.
</p>

<p>
ACTION QT4CG-064-03: CG to add examples to show how JSON parsing changes are useful.
</p>

<p>
The reasons for the changes are along the lines of <code>fn:replace</code> where
we want to avoid explicit string conversions.
</p>

<ul class="org-ul">
<li>MK: Why is this necessary? The input will always be a string.</li>
<li>CG: In the body of the function, you don’t have to do explicit string conversions.</li>
<li>MK: It now returns <code>item()?</code> which allows you to return a string if the JSON has a number in it.</li>
<li>CG: This is already the case because of things like num.</li>
<li>RD: Or if you want to return <code>null</code> as an empty value.</li>
<li>MK: Are there constraints on this? What if you returned a map?</li>
<li>CG: For number parsing, I think that’s okay. But for <code>fallback</code> maybe it needs to be <code>xs:untypedAtomic?</code></li>
</ul>

<p>
ACTION QT4CG-064-04: CG to change the return type of <code>fallback</code> to <code>xs:untypedAtomic?</code>
</p>

<ul class="org-ul">
<li>JLY: In the text, the function is called to parse a string. From
reading the function name, I thought it would only be involved with
numbers.</li>
<li>CG: That’s right. It converts JSON numbers.</li>
</ul>

<p>
Some discussion of how the input is passed to the string. It’s always
a sequence of characters, but it can be things like <code>INF</code>.
</p>

<ul class="org-ul">
<li>JLY: So I could even do weird things and output a record fo type complex number?</li>
<li>CG: Basically, yes.</li>
<li>MK: It’s intended for cases where you want to change out-of-range
values into <code>INF</code> for example.</li>
</ul>

<p>
Also: recognizing that there’s no decimal point and returning an
integer instead of a double.
</p>

<p>
JLY observes that the complex number cases are hard to support because
there’s no context.
</p>

<ul class="org-ul">
<li>DN: I think this definintion is good; what JLY asked about untyped
atomic. It would survive even if JSON changed what numbers are.</li>
</ul>

<p>
CG continues with changes.
</p>

<ul class="org-ul">
<li>CG: These options are also added to the <code>json-to-xml</code> function.</li>
</ul>

<p>
Proposal: Accept this PR.
</p>
</div>
</div>

<div id="outline-container-h-54AE0638-A009-43BA-B7A9-77089F952602" class="outline-3">
<h3 id="h-54AE0638-A009-43BA-B7A9-77089F952602"><span class="section-number-3">2.4.</span> PR #969: 843-partial Standard, array &amp; map functions: Equivalencies</h3>
<div class="outline-text-3" id="text-h-54AE0638-A009-43BA-B7A9-77089F952602">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-969">#969</a>
</p>

<p>
CG reviews the PR.
</p>

<ul class="org-ul">
<li>CG: This is an attempt to apply some of the ideas that arose out of the discussion.
<ul class="org-ul">
<li>… Add <code>map:empty</code></li>
<li>… Made <code>map:keys-where</code> isntead of having a second argument on <code>map:keys</code></li>
</ul></li>
</ul>

<p>
ACTION QT4CG-064-05: CG to amend the names in the keys-where example to be more inclusive
</p>

<ul class="org-ul">
<li>JK: Are there places where <code>keys-where</code> is an improvement over a predicate following <code>keys</code>?</li>
<li>CG: You can also compare values in <code>keys-where</code></li>
<li>MK: Another example is, give me the keys where the entry isn’t an empty sequence.</li>
</ul>

<p>
ACTION QT4CG-064-06: Add a <code>keys-where</code> example that uses the value in a more interesting way.
</p>

<ul class="org-ul">
<li>DN: I think <code>values-where</code> would also be useful here.</li>
<li>MK: It’s very easily implemented with a filter.</li>
<li>JLY: There is an example that looks at the value; it’s the birthday example.</li>
</ul>

<p>
Some discussion of whether additonal examples are needed. Leave it up to CG.
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-0416C7F0-561F-40E3-9579-05385F261D14" class="outline-3">
<h3 id="h-0416C7F0-561F-40E3-9579-05385F261D14"><span class="section-number-3">2.5.</span> PR #968: 260 array:index-of</h3>
<div class="outline-text-3" id="text-h-0416C7F0-561F-40E3-9579-05385F261D14">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-968">#968</a>
</p>

<p>
CG introduces the PR.
</p>

<ul class="org-ul">
<li>CG: This is like the <code>fn:index</code> function except it operates on arrays.
<ul class="org-ul">
<li>… There are repeated use cases where you want something simpler than searching.</li>
<li>… The main challenge is how to compare the values.</li>
<li>… For the <code>fn:index</code>, there’s only a single value. It’s more complicated here.</li>
</ul></li>
</ul>

<p>
CG describes the equality expression chosen.
</p>

<ul class="org-ul">
<li>CG: This makes the solution closest to what <code>fn:index</code> does.</li>
</ul>

<p>
CG describes the examples.
</p>

<ul class="org-ul">
<li>JLO: I’d like to see at least one example that uses an explicit collation.</li>
<li>MK: It’s easy to add an example that uses the HTML collation.</li>
</ul>

<p>
ACTION QT4CG-064-07: CG to add an <code>array:index-of</code> example that uses a collation
</p>

<ul class="org-ul">
<li>DN: Is <code>xs:anyAtomicType</code> a reasonable search type?</li>
<li>CG: We made this like <code>fn:index</code>, you can use other functions for more complex searches.</li>
<li>DN: I think “search” implies some sort of action, like it should be
a function. We should use a name that’s more noun-like, perhaps
<code>$target</code>.</li>
<li>MK: I guess target would work.</li>
<li>JLO: What about term or terms?</li>
</ul>

<p>
ACTION QT4CG-064-08: NW to open an issue to try to resolve $search to $target consistently.
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-C6835AB9-49C4-435C-9DA1-7C093CE7F8B5" class="outline-3">
<h3 id="h-C6835AB9-49C4-435C-9DA1-7C093CE7F8B5"><span class="section-number-3">2.6.</span> PR #943: 187 Add FLWOR expression while clause</h3>
<div class="outline-text-3" id="text-h-C6835AB9-49C4-435C-9DA1-7C093CE7F8B5">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-943">#943</a>
</p>

<ul class="org-ul">
<li>MK: This is quite a simple change. I put it in XQuery only but so is the <code>where</code> clause.
<ul class="org-ul">
<li>… It parallels there <code>where</code> clause. It’s described as a filter over the tuples.</li>
<li>… Identical to the where clause except that it drops all subsequent tuples.</li>
</ul></li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-B681422B-BB11-4411-B22C-F387E163612E" class="outline-3">
<h3 id="h-B681422B-BB11-4411-B22C-F387E163612E"><span class="section-number-3">2.7.</span> PR #795: 655 fn:sort-with</h3>
<div class="outline-text-3" id="text-h-B681422B-BB11-4411-B22C-F387E163612E">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-795">#795</a>
</p>

<ul class="org-ul">
<li>CG: We discussed this a while ago. When I asked if folks thought
this would be useful, they said yes.
<ul class="org-ul">
<li>… This implements the sort-with function like you find in other languages.</li>
<li>… It uses <code>fn:compare</code> which we introduced recently.</li>
<li>… The user must ensure that the comparitor function provided is transitive.</li>
</ul></li>
<li>JLO: I’m using the old sort function a lot and I love the
flexibility to just return the sequence. Why only a single value?</li>
<li>CG: It helps keep the comparitor function tractable.</li>
<li>JLO: Why is that different in the sort function? I wouldn’t use it.</li>
<li>CG: The implementations for <code>sort</code> and <code>sort-with</code> are quite different,
I’d have to think about it. 
<ul class="org-ul">
<li>… I’d like to see an example.</li>
</ul></li>
<li>JLO: It’s not a sequence of comparitors, it’s a sequence of return
values. You could return -1, 2, etc. It would be sorted by those
values.</li>
<li>CG: Right…I’ll have to think about that a bit more.</li>
<li>MK: You just use the first non-zero value.</li>
<li>DN: Why is this limited only to sequences and items? Such a function
would be useful to sort the values of a map or the members of an
array.</li>
<li>CG: The rational is the same as <code>fn:sort</code>. It’s hard to know what to
do with an item if it’s an array.</li>
<li>DN: I’d like to see something more unified.</li>
<li>CG: We already have the collection issue, but I think it would require a lot of thought.</li>
<li>MK: A couple of small comments:
<ul class="org-ul">
<li>… The formal equivalence is defined normatively where the bit abou
transitivity is non-normative. The equivalence should only apply
if the function is transitive and we should say that normatively.</li>
</ul></li>
<li>CG: Suggestion?</li>
<li>MK: Move the second paragraph of the note up into the normative text.</li>
<li>MK: In the XML sorting example, the age sort should be numeric.</li>
</ul>

<p>
We’ve run out of time, we’ll return to this next week.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
Chair proposes to continue this agenda next week. Nods of agreement.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>