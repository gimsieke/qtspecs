<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 045 Minutes 2023-09-12</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 045 Minutes 2023-09-12</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[1/10]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[8/11]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[1/7]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
<li><a href="#xslt-focused">1.6.4. XSLT focused</a></li>
<li><a href="#substantive">1.6.5. Substantive PRs</a></li>
<li><a href="#h-D87FC813-5BD6-4F9C-9013-91E47CC6DC92">1.6.6. Requires confirmation</a></li>
<li><a href="#h-365344C1-99A5-4161-B5F0-27C1CE8F9922">1.6.7. Proposed for V4.0</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#h-2EA8CA5F-DAA1-46CE-97C5-FEA7ACC0ACF3">2.1. PRs</a>
<ul>
<li><a href="#h-574D19F6-F003-4431-AAD5-7B2017039300">2.1.1. PR #659: 647: schema location hints</a></li>
<li><a href="#h-4CFD14DD-17A1-4E18-9D2B-98D8EFDA9813">2.1.2. PR #673: HTML namespace changes</a></li>
</ul>
</li>
<li><a href="#h-F60492E6-D0D3-4325-B640-B1201EB30024">2.2. Issues</a>
<ul>
<li><a href="#h-D8A3B62B-C816-4F24-A3F5-26A39109E0FC">2.2.1. Issue #129: Context item → Context value?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business?</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<p>
<a href="../">Agenda index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="./09-19.html">at meeting 046</a> on 19 September 2023.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[1/10]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-026-01: MK to write a summary paper that outlines the decisions we need to make on “value sequences”
<ul class="org-ul">
<li>This is related to PR #368: Issue 129 - Context item generalized to context value and
subsequent discussion.</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-029-07: NW to open the next discussion of #397 with a demo from DN
See PR <a href="https://qt4cg.org/dashboard/#pr-449">#449</a></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-039-01: NW to schedule discussion of issue <a href="https://github.com/qt4cg/qtspecs/issues/52">#52</a>, <i>Allow record(*) based RecordTests</i></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-042-02: NW to make the query into a simple map with repeated values.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-042-03: NW to consider revisions to query parses.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-045-01: MK to redraft PR #659 to reflect “search path” semantics.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-045-02: RD to address comments on HTML namespaces in another PR</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-045-03: MK to write a PR for context values (issue #129)</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[8/11]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: JL, SF.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="off"><code>[&#xa0;]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:05-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="off"><code>[&#xa0;]</code> John Lumley (JL)</li>
<li class="off"><code>[&#xa0;]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
<li class="on"><code>[X]</code> Wendell Piez</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2023/09-12.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="org2887f86" class="figure">
<p><img src="./issues-open-2023-09-12.png" alt="issues-open-2023-09-12.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="org01443be" class="figure">
<p><img src="./issues-by-spec-2023-09-12.png" alt="issues-by-spec-2023-09-12.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="orga8d6cf9" class="figure">
<p><img src="./issues-by-type-2023-09-12.png" alt="issues-by-type-2023-09-12.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2023/09-05.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2023/09-19.html">is scheduled for Tuesday, 19 September 2023</a>.
</p>

<p>
Regrets: None heard.
</p>

<p>
Proposal: the meeting of 26 September will focus on XSLT issues.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[1/7]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-026-01: MK to write a summary paper that outlines the decisions we need to make on “value sequences”
<ul class="org-ul">
<li>This is related to PR #368: Issue 129 - Context item generalized to context value and
subsequent discussion.</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-029-07: NW to open the next discussion of #397 with a demo from DN
See PR <a href="https://qt4cg.org/dashboard/#pr-449">#449</a></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-039-01: NW to schedule discussion of issue <a href="https://github.com/qt4cg/qtspecs/issues/52">#52</a>, <i>Allow record(*) based RecordTests</i></li>
<li class="on"><code>[X]</code> QT4CG-042-01: NW to use sequences instead of arrays in <code>parse-uri</code> output.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-042-02: NW to make the query into a simple map with repeated values.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-042-03: NW to consider revisions to query parses.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/635">#635</a>: 451: Schema compatibility</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/538">#538</a>: Attempt to allow xs:string to be 'promoted to' xs:anyURI</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/529">#529</a>: 528: revision of json(), and renaming to xdm-to-json()</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/470">#470</a>: 369 add fixed-prefixes attribute in XSLT</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/412">#412</a>: 409, QT4CG-027-01: xsl:next-match</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/368">#368</a>: 129: Context item generalized to context value</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs were discussed <a href="../../minutes/2023/09-05.html#open-prs">last week</a> and identified as “merge
next week” if there have been no comments to the contrary.
</p>

<ul class="org-ul">
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/631">#631</a>: 600: fn:decode-from-uri</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/623">#623</a>: 93: sort descending</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-599">#599</a>: 90: Simplified stylesheets with no xsl:version</li>
</ul>

<p>
Accepted.
</p>

<p>
The following editorial or otherwise minor PRs were open when this
agenda was prepared. The chairs propose that these can be merged
without discussion. If you think discussion is necessary, please say
so.
</p>

<ul class="org-ul">
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/682">#682</a>: 637: allow true() and false() as function annotation values</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/681">#681</a>: 665: Fix typos in fn:items-XX functions</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/679">#679</a>: 669 - fix typo "appearing appearing"</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/678">#678</a>: 671 switch sans operand</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/672">#672</a>: XFO minor edits, chap. 1</li>
</ul>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be <a href="https://github.com/qt4cg/qtspecs/labels/Propose%20Closing%20with%20No%20Action">closed without action</a>.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/160">#160</a>: Support named arguments on dynamic function calls</li>

<li>MK: I couldn’t figure out how to make this work, so let’s just abandon it.
<ul class="org-ul">
<li>… It’s not undesirable, but there’s a technical problem when you
pass a function as an argument. When you want to call it from a
function it’s been passed to, you don’t know it’s argument names.</li>
<li>… Various mechanisms proposed to alleviate that problem are all
hideously complicated.</li>
</ul></li>
<li>NW: Yeah, with regrets.</li>
</ul>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-xslt-focused" class="outline-4">
<h4 id="xslt-focused"><span class="section-number-4">1.6.4.</span> XSLT focused</h4>
<div class="outline-text-4" id="text-xslt-focused">
<p>
The following PRs appear to be candidates for a future XSLT-focussed
meeting.
</p>

<ul class="org-ul">
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/674">#674</a>: 663: Describe how calls to xsl:original with keywords work</li>
<li>PR <a href="https://github.com/qt4cg/qtspecs/pull/650">#650</a>: 649: fix an xsl:fallback problem</li>
</ul>

<p>
(And also <a href="https://github.com/qt4cg/qtspecs/pull/470">#470</a> and <a href="https://github.com/qt4cg/qtspecs/pull/412">#412</a> from the “blocked” list above.)
</p>

<p>
These issues identify the XSLT-focused changes that have been made to
the specifications but which have not been established by the
community group as the status quo.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/571">#571</a>: XSLT: xsl:for-each-group/@break-when</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/233">#233</a>: Declare the result type of a mode, via @as</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/172">#172</a>: Record Tests Feature</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/169">#169</a>: Handling of duplicate keys in xsl:map Enhancement</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/168">#168</a>: XSLT Extension Instructions invoking Named Templates</li>
</ul>
</div>
</div>

<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.5.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-691">#691</a>: 688 Semantics of local union types, enumeration types, etc</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-690">#690</a>: 687 Clarify constructor functions for user-defined types</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-680">#680</a>: 668 define case insensitive collation normatively</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-673">#673</a>: HTML namespace changes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-659">#659</a>: 647: schema location hints</li>
</ul>
</div>
</div>

<div id="outline-container-h-D87FC813-5BD6-4F9C-9013-91E47CC6DC92" class="outline-4">
<h4 id="h-D87FC813-5BD6-4F9C-9013-91E47CC6DC92"><span class="section-number-4">1.6.6.</span> Requires confirmation</h4>
<div class="outline-text-4" id="text-h-D87FC813-5BD6-4F9C-9013-91E47CC6DC92">
<p>
These issues identify changes that have been made to the specifications but
which have not been established by the community group as the status quo.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/372">#372</a>: Separate default namespace for elements from the default namespace for types</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/283">#283</a>: Enumeration types</li>
</ul>
</div>
</div>

<div id="outline-container-h-365344C1-99A5-4161-B5F0-27C1CE8F9922" class="outline-4">
<h4 id="h-365344C1-99A5-4161-B5F0-27C1CE8F9922"><span class="section-number-4">1.6.7.</span> Proposed for V4.0</h4>
<div class="outline-text-4" id="text-h-365344C1-99A5-4161-B5F0-27C1CE8F9922">
<p>
The following issues are labled “proposed for V4.0”.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/479">#479</a>: fn:deep-equal: Input order</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/359">#359</a>: fn:void: Absorb result of evaluated argument</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/340">#340</a>: fn:format-number: Specifying decimal format</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/260">#260</a>: array:index-of</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/238">#238</a>: Support Invisible XML</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/130">#130</a>: New super/union type xs:binary?</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/129">#129</a>: Context item → Context value?</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/36">#36</a>: Allow support for user-defined annotations.</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-h-2EA8CA5F-DAA1-46CE-97C5-FEA7ACC0ACF3" class="outline-3">
<h3 id="h-2EA8CA5F-DAA1-46CE-97C5-FEA7ACC0ACF3"><span class="section-number-3">2.1.</span> PRs</h3>
<div class="outline-text-3" id="text-h-2EA8CA5F-DAA1-46CE-97C5-FEA7ACC0ACF3">
<p>
Try to resolve as many of these PRs as we can, leaving 20 minutes to discuss issues.
</p>
</div>

<div id="outline-container-h-574D19F6-F003-4431-AAD5-7B2017039300" class="outline-4">
<h4 id="h-574D19F6-F003-4431-AAD5-7B2017039300"><span class="section-number-4">2.1.1.</span> PR #659: 647: schema location hints</h4>
<div class="outline-text-4" id="text-h-574D19F6-F003-4431-AAD5-7B2017039300">
<ul class="org-ul">
<li>MK: This is XQuery. XQuery allows an import schema to have more than
one location hint. I don’t know why, and it doesn’t say what the
multiple hints should mean, but we can try to describe the semantics.
<ul class="org-ul">
<li>MK describes the proposed semantics for multiple hints, giving a
preferred strategy that hopefully will lead to a convergence of
behavior.</li>
</ul></li>
<li>NW: Is this what processors do now?</li>
<li>MK: There aren’t that many schema aware processors.</li>
<li>RD: I was wondering whether it makes sense to do this for module
imports as well.</li>
<li>MK: We did add something about that in 3.1. This is doing the same
for schema imports.</li>
<li>MSM: I’m not convinced that these are the right semantics. Having
some hint is better than having none. Thinking back to the early
days of XSD and XQuery, I think that some of the database people
were motivated by the idea of a search path. I suspect that’s what
this was for. 
<ul class="org-ul">
<li>… There are certainly cases where multiple schema documents are
used to make a schema, but in that case I think it’s more common
to have a single schema document that includes them.</li>
</ul></li>
<li>MK: I can see the sense of that.</li>
<li>NW: A search path is what I would have guessed if you’d asked me to
reply without investigating.</li>
<li>RD: I’m looking through github using search and I can only see
single schema imports.</li>
</ul>

<p>
Proposal: rework this PR so that the meaning of multiple hints is that
the first one that’s dereferencable is used.
</p>

<ul class="org-ul">
<li>MSM: Do we want the first one you can dereference or the first one
from which you can successfully construct a schema?</li>
</ul>

<p>
Dereferencing is easier to describe. Fall over if you find something you can’t use.
</p>

<ul class="org-ul">
<li>RD: Would it make sense to try to resolve them all and give a
warning if multiple are found?</li>
<li>MSM: No, because one of the useful scenarios for a search path is to
select from different packages.</li>
</ul>

<p>
ACTION QT4CG-045-01: MK to redraft PR #659 to reflect “search path” semantics.
</p>
</div>
</div>

<div id="outline-container-h-4CFD14DD-17A1-4E18-9D2B-98D8EFDA9813" class="outline-4">
<h4 id="h-4CFD14DD-17A1-4E18-9D2B-98D8EFDA9813"><span class="section-number-4">2.1.2.</span> PR #673: HTML namespace changes</h4>
<div class="outline-text-4" id="text-h-4CFD14DD-17A1-4E18-9D2B-98D8EFDA9813">
<p>
RD walks us through the PR.
</p>

<ul class="org-ul">
<li>RD: Added a note about the fact that there are two algorithms
defined in the HTML specification.
<ul class="org-ul">
<li>… And added a note about namespace nodes in the HTML DOM being ignored.</li>
<li>… MK suggests this should be normative.</li>
<li>… The implementation part should be a note but the actual
description should be normative.</li>
<li>… Also included notes about implementation defined behavior if
shadow DOM nodes are passed in by APIs.</li>
<li>… Removed all of the section about namespace nodes; simply say
it’s an empty sequence per MK’s suggestion. We synthetically
construct namespace nodes as needed.</li>
</ul></li>
<li>MK: You could have a high-level note that says the namepaces are the
minimum needed to satisfy the constraints in the Data Model.</li>
<li>RD: Removed the section about dealing with attribute namespace
nodes, dealt with elsewhere.
<ul class="org-ul">
<li>… Expanded the discussion of node-name to deal with colons and
other characters that would make the name not a valid NCName.</li>
</ul></li>
<li>NW: I think that should be normative then.</li>
<li>RD: If I remember correctly, the HTML one is only an example.
<ul class="org-ul">
<li>… Similar, corresponding changes in related sections.</li>
</ul></li>
<li>NW: It sounded like there were a couple of different kinds of
changes you wanted to make. Some quite editorial, like moving things
out of notes, others more substantial. Do you want to do the
editorial ones and get this merged before moving on, or would you
like to do it all at once?</li>
<li>RD: It would probably make sense to merge this.</li>
</ul>

<p>
Proposal: merge this PR and address the corrections in another
</p>

<p>
Accepted.
</p>

<p>
ACTION QT4CG-045-02: RD to address comments on HTML namespaces in another PR
</p>
</div>
</div>
</div>

<div id="outline-container-h-F60492E6-D0D3-4325-B640-B1201EB30024" class="outline-3">
<h3 id="h-F60492E6-D0D3-4325-B640-B1201EB30024"><span class="section-number-3">2.2.</span> Issues</h3>
<div class="outline-text-3" id="text-h-F60492E6-D0D3-4325-B640-B1201EB30024">
<p>
CG offered to update us on issue #129.
</p>
</div>

<div id="outline-container-h-D8A3B62B-C816-4F24-A3F5-26A39109E0FC" class="outline-4">
<h4 id="h-D8A3B62B-C816-4F24-A3F5-26A39109E0FC"><span class="section-number-4">2.2.1.</span> Issue #129: Context item → Context value?</h4>
<div class="outline-text-4" id="text-h-D8A3B62B-C816-4F24-A3F5-26A39109E0FC">
<p>
CG reviews issue #129.
</p>

<ul class="org-ul">
<li>CG: The idea is to extend the context item to context value.
<ul class="org-ul">
<li>… Context item can be referenced with a “.”</li>
<li>… The context item is singular, but variables can contain sequences</li>
<li>… It would be straightforward to allow the context to hold sequences.</li>
<li>CG walks through some examples in the issue.</li>
<li>… Could add a “declare context value” declaration to describe the value.</li>
<li>… It’s especially interesting when the context value is bound externally.</li>
<li>… For example, you could bind the value to a collection and then
XPath can be used to address items from the collection.</li>
</ul></li>
<li>RD: That’s also similar to what MarkLogic does. As I understand, the
way MarkLogic handles the example in the external binding section is
that it has a different definition of the double slash expression
that isn’t attached to any other step.
<ul class="org-ul">
<li>… When it’s the root step it expands to something like
<code>fn:collection</code> instead of the normal root document.</li>
</ul></li>
<li>CG: There’s been some discussion about whether the semantics should
be similar for single items or sequences.</li>
<li>CG: New in QT4.0 are “focus functions”. It works fine for single
items and it could be extended to sequences.
<ul class="org-ul">
<li>… Arrow expressions also work the way you would expect.</li>
<li>… One idea was to use ~ instead of . when using sequences.</li>
<li>… The other challenge is if the semantics should really be
identical, or should binding sequences to paths have different
semantics.</li>
</ul></li>
<li>NW: Thank you.</li>
<li>MK: The PR I did a long time ago is probably now out of date. I
think the devil here is in the detail and we wouldn’t understand
them until we try to draft the technical changes.
<ul class="org-ul">
<li>… In fact my conclusion from writing that PR is that it wasn’t as
big a problem as I thought.</li>
<li>… I adopted the approach of using “.” for a single item and “~”
for the more general case.</li>
<li>… That’s partly because I was concerned about type checking and
optimization because we always know that “.” is a singleton and we
can optimize for that.</li>
<li>… XSLT uses the context item much more than Query, so it’s
possibly quite a bit more complex. It probably needs to remain a
singleton in many of those cases even if it would be nice if it
could be a sequence.</li>
<li>… I think it’s feasible. It’s disruptive but can probably done
without backwards incompatibilities. It’ll just leave some odd
rules in the spec reflecting its history. This really helps with arrays.</li>
</ul></li>
<li>MSM: I think I have two questions. Is there anything that currently
sets the context item where people are going to think it would make
more sense if it set a sequence. Or is the only way I’m going to get
a sequence is by declaring a context value?</li>
<li>CG: I think right now declaring a context value is the only way. I
opened another issue where I discussed some different constructs
where you could explicitly bind a value.</li>
<li>MK: Another use case I introduced was a notation for predicates on
arrays.</li>
<li>MSM: I suppose, if we had had this from the beginning, the
definition of “/” would have been different. The other question was
about “~”. If I’m understanding the suggestion correctly, if as a
user I want to simplify my life the rule I expect to follow would be
always “~” where you’re used to using “.”. And now sometimes it can
be a sequence. Then I guess the optimization opportunities go away.
But will users who do that run into problems?</li>
<li>MK: In many ways there’s less confusion if we use a single symbol.
And we lose the ability to use the ~ for things like in for each group.
<ul class="org-ul">
<li>… I think the optimization question is, do we still know whether
“.” is a singleton? I think the main XSLT case there is in where
we’re in a template rule and I think we would make sure it was
always a singleton.</li>
</ul></li>
<li>RD: I was wondering if there’s a case where just using “.” would
cause an ambiguity. In the example where you’re passing “.” to a
count function, but if you were passing it to something that only
accepted a singleton item, would this functionality cause an
ambiguity or errors?</li>
<li>MK: I don’t think so.</li>
<li>CG: We’ve been doing this for 10 years and we’ve never encountered
any ambiguities.</li>
</ul>

<p>
Consensus is that we want to do this, yes?
</p>

<p>
Agreed.
</p>

<p>
ACTION QT4CG-045-03: MK to write a PR for context values (issue #129)
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business?</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>