:PROPERTIES:
:ID:       4C7D835E-FBC1-4124-B4BE-2AAC3B5A821A
:END:
#+title: QT4 CG Meeting 048 Minutes 2023-10-03
#+author: Norm Tovey-Walsh
#+filetags: :qt4cg:
#+options: html-style:nil h:6
#+html_head: <link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
#+html_head: <link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
#+html_head: <link rel="shortcut icon" href="/img/QT4-64.png" />
#+html_head: <link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
#+html_head: <link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
#+options: author:nil email:nil creator:nil timestamp:nil
#+startup: showall

[[../][Agenda index]] / [[https://qt4cg.org][QT4CG.org]] / [[https://qt4cg.org/dashboard][Dashboard]] / [[https://github.com/qt4cg/qtspecs/issues][GH Issues]] / [[https://github.com/qt4cg/qtspecs/pulls][GH Pull Requests]]

* Draft Minutes
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: minutes
:END:

(Lightly edited by NW to simplify publication.)

* Summary of new and continuing actions [0/12]
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: new-actions
:END:

+ [ ] QT4CG-029-07: NW to open the next discussion of #397 with a demo from DN
  + See PR [[https://qt4cg.org/dashboard/#pr-449][#449]]. Discussion planned for meeting 049, 10 October 2023.
+ [ ] QT4CG-045-02: RD to address comments on HTML namespaces in another PR
+ [ ] QT4CG-046-01: MK to continue the work on #129 for the other specs (we accepted #703)
+ [ ] QT4CG-046-02: RD to draft the specification changes to allow record(*)
+ [ ] QT4CG-046-03: MK to roll back the changes related to default namespaces for elments and types (issue #372)
+ [ ] QT4CG-046-04: CG to flesh out changes related to annotations in other parts of the specs
+ [ ] QT4CG-046-05: NW to updated parse-uri to use decode-from-uri (issue #566)
+ [ ] QT4CG-047-01: MK to make a PR that renames break-when to split-when
+ [ ] QT4CG-048-01: MK - to identify what happens with the mode default rule behaviours. 
+ [ ] QT4CG-048-02: MK to clean up the proposal for adding @as to xsl:sequence and elsewhere
+ [ ] QT4CG-048-03: MK 5.4. - the section on type patterns - replace 3rd paragraph - belongs with predicate patterns. Fix cut-and-paste issues.
+ [ ] QT4CG-048-04: MK to use xs: prefix

** Agenda: Approved
:PROPERTIES:
:CUSTOM_ID: h-670FE983-0B70-4E61-912F-640F6F9830CD
:END:
** Last minutes: Approved
:PROPERTIES:
:CUSTOM_ID: h-3D2855AE-D0B5-470C-B650-EFB72A83FB1E
:END:
** Next meeting: 10 October 2023
:PROPERTIES:
:CUSTOM_ID: h-6CF9B8F6-70C2-42E8-8418-1EC0251213CD
:END:
** Regrets: JL (and 17th)
:PROPERTIES:
:CUSTOM_ID: h-39B170D3-7C85-4C88-A847-A30410985E7C
:END:

** Roll call
:PROPERTIES:
:CUSTOM_ID: h-121CF876-BD2D-4D62-820F-7B933315BDCF
:END:

Regrets NW.

+ [X] Reece Dunn (RD)
+ [X] Sasha Firsov (SF)
+ [ ] Christian Grün (CG)
+ [X] Joel Kalvesmaki (JK)
+ [X] Michael Kay (MK)
+ [X] John Lumley (JL) Scribe.
+ [X] Dimitre Novatchev (DN)
+ [X] Wendell Piez (WP)
+ [X] Ed Porter (EP)
+ [X] C. M. Sperberg-McQueen (MSM). Chair
+ [ ] Norm Tovey-Walsh (NW).

** 1.5. Review of open action items 
:PROPERTIES:
:CUSTOM_ID: h-550A2EB4-306A-482C-9F88-68B6D0498D29
:END:

+ [ ] QT4CG-029-07: NW to open the next discussion of #397 with a demo from DN
See PR #449. Discussion planned for meeting 048, 3 October 2023.
+ [ ] QT4CG-045-02: RD to address comments on HTML namespaces in another PR
	Still working on it
+ [ ] QT4CG-046-01: MK to continue the work on #129 for the other specs (we accepted #703)
	Pending
+ [ ] QT4CG-046-02: RD to draft the specification changes to allow record(*)
	Still working on it. MK thought he'd raised a PR on this one.
+ [ ] QT4CG-046-03: MK to roll back the changes related to default namespaces for elments and types (issue #372)
	PR raised on this one - pending
+ [ ] QT4CG-046-04: CG to flesh out changes related to annotations in other parts of the specs
+ [ ] QT4CG-046-05: NW to updated parse-uri to use decode-from-uri (issue #566)
+ [ ] QT4CG-047-01: MK to make a PR that renames break-when to split-when
	Pending

** 1.6. Review of open pull requests and issues related to XSLT
:PROPERTIES:
:CUSTOM_ID: h-87C4C4BD-D307-4203-928B-8B74B58B0574
:END:

*** 1.6.1. Blocked
:PROPERTIES:
:CUSTOM_ID: h-1B6E9807-A2EF-4832-B996-F110FFB6818F
:END:

The following PRs are open but have merge conflicts or comments which suggest they aren’t ready for action.

+ PR #650: 649: fix an xsl:fallback problem
+ PR #470: 369 add fixed-prefixes attribute in XSLT
+ PR #412: 409, QT4CG-027-01: xsl:next-match

MK: lots problems with GIT useage to solve the blocking. Maybe associated with authentication. 
Talk to NW when he's well.

*** 1.6.2. XSLT-related issues
:PROPERTIES:
:CUSTOM_ID: h-3707E401-2FAB-4041-AD8E-57D638ECEEDF
:END:

These issues identify the XSLT-focused changes that have been made to the specifications but which have not been established by the community group as the status quo.

+ Issue #233: Declare the result type of a mode, via @as
+ Issue #172: Record Tests Feature
+ Issue #169: Handling of duplicate keys in xsl:map Enhancement
+ Issue #168: XSLT Extension Instructions invoking Named Templates

MK: These are in the spec but not realy discussion, so need to decide their fate. 
Has tackled a few by raising PRs. Others on the agenda

** Issue #233: Declare the result type of a mode, via @as
:PROPERTIES:
:CUSTOM_ID: h-2476E3A4-7AB9-474C-8122-04FA7CDC9551
:END:

+ MK: This is required more as a mode in 3.0+ introduces the distinct
  possibility that templates in a mode might be returning
  functions,maps, arrays, etc. This can be declared as a default for
  the templates within a mode,
+ JL: It this a default or a constraint on consistency of the return type from anything in the mode.
+ MK: Both
+ DN: Should this be mandatory? Perhaps a bit restrictive - what about internal templates (not accessed from outside)?
+ MSM: The subtyping rule for the @as. In some cases the mode might produce T1 and others T2. Use different modes, or a union type
+ MK: Or don't use the feature. You might find yourself using more modes than normal. 
+ DN: I would find it too restrictive.
+ MK: The driving use case was a schema-validator written in XSLT that use maps (records) VERY heavily.
  Every template rule in a mode had the same @as.
+ JK: Note that the question I posed has now been resolved. 
  Add a note suggesting feature designed for homogenous modes. 
+ JL: Very much in favour, especially with enclosed modes.
+ WP: May be difficult if you're working with multiple mode templates.
+ MSM: Homegeneity - useful if the mapping is of type T to type T, but perhaps less so for types X,Y,Z to type T,
  but with homogeneous cases it very much increases type checking.
+ MK: Result type of a mode DOES invoked coercion, so e.g. @as="string" would invoke stringification
  (if permitted) or results.
+ JL: Built-in actions (e.g. shallow-copy) - does it affect them.

ACTION QT4CG-048-01: MK - to identify what happens with the mode default rule behaviours. 

+ MK: It can also add compile-time checking of xsl:apply-templates.
+ MSM: Add @as to apply-templates? 
+ MK: There is a proposal to add @as to xsl:sequence and others. Needs some more mulling other  

Implicit general approval for letting this be status quo.

ACTION QT4CG-048-02: MK to clean up the proposal for adding @as to xsl:sequence and elsewhere

** Issue #172: Record Tests Feature
:PROPERTIES:
:CUSTOM_ID: h-2A975F7E-9A4C-469B-9102-16E450DC8B88
:END:

+ MK: Given record type is accepted, but we need to look in some more
  detail. It is not just relevant to XSLT.
+ RD: I don't think we've discussed record matching in XSMLT match patterns.
+ JK: Record constructors in XSLT?
+ MK: No proposals at present.
+ MSM: Given not just XSLT - I would like to bring this back in a future meeting.
+ MK: It should be in the XSLT spec section on patterns. In type patterns particular.

ACTION QT4CG-048-03: MK 5.4. - the section on type patterns - replace 3rd paragraph - belongs with predicate patterns. Fix cut-and-paste issues.

+ MSM: Can we use ComplexItemType in these patterns
+ MK: No - they are not an ItemType.

Some discussion on the WrappedItemType (type(....)) and short forms.

ACTION QT4CG-048-04: MK to use xs: prefix

Agreed it should be accepted for XSLT.

* Adjourned at 1659
:PROPERTIES:
:unnumbered: t
:CUSTOM_ID: adjourned
:END:




