<item>
   <title>Issue #653 created</title>
   <pubDate>2023-08-07T17:18:20Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/653</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-653</guid>
   <description>&lt;div&gt;&lt;p&gt;XQuery - option to suppress entity expansion&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;As an enabler for #652 (and for other reasons) I propose that XQuery should have an option to suppress recognition of entity references. This is appropriate for any context in which XQuery expressions are embedded in XML (including our own test suite), where entity expansion will have already been done before the XQuery text is parsed. With this change, any XPath expression becomes a valid and equivalent XQuery expression.&lt;/p&gt;
&lt;p&gt;This could be done using a new prolog declaration such as&lt;/p&gt;
&lt;p&gt;&lt;code&gt;declare entity-expansion on|off;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;If set to "off", &lt;code&gt;&amp;amp;&lt;/code&gt; is treated as a normal character in contexts such as string literals and direct element constructors, rather than signalling an entity reference. The default remains "on".&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
