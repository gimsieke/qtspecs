<item>
   <title>Issue #729 created</title>
   <pubDate>2023-09-28T11:50:08Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/729</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-729</guid>
   <description>&lt;div&gt;&lt;p&gt;xsi:schemaLocation&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The specifications (XQuery and XSLT) should say something about the effect of requesting validation on a document that contains &lt;code&gt;xsi:schemaLocation&lt;/code&gt; and/or &lt;code&gt;xsi:noNamespaceSchemaLocation&lt;/code&gt; attributes. At present XQuery says nothing, and XSLT says very little.&lt;/p&gt;
&lt;p&gt;XQuery 3.1 says: &lt;em&gt;A validate expression can be used to validate a document node or an element node with respect to the [in-scope schema definitions], using the schema validation process defined in [[XML Schema 1.0]] or [[XML Schema 1.1]].&lt;/em&gt; This doesn't really answer the question. The "with respect to" phrase could be read as implying that ONLY the in-scope schema definitions are used. Particular problems occur if xsi:schemaLocation refers to a schema document that attempts to override or redefine the schema components that have been statically imported.&lt;/p&gt;
&lt;p&gt;XSLT 3.0 says nothing of interest about what schema (=set of schema components) is used when validation is requested, though it does mention in passing that &lt;code&gt;xsi:schemaLocation&lt;/code&gt; attributes might be interpreted in some way by a schema processor.&lt;/p&gt;
&lt;p&gt;If we look to the behaviour of Saxon as a reference implementation, then we'll quickly find fault. There's a configuration option to control whether &lt;code&gt;xsi:schemaLocation&lt;/code&gt; attributes are considered or ignored; if they are considered, then the schema components referenced are added to a global pool of schema components which are used not only to validate the document in question, but to validate any subsequent documents. We're in the process of redesigning this to do something that makes more sense.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
