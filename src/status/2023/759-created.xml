<item>
   <title>Issue #759 created</title>
   <pubDate>2023-10-18T08:41:04Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/759</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-759</guid>
   <description>&lt;div&gt;&lt;p&gt;Serialization: JSON Parameters&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;We have more and more serialization parameters that are specific to JSON (related: #530, #756, #576, #641). It won’t get better with each new option we add, so maybe it’s time to introduce a custom serialization parameter for JSON (and possibly other methods):&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;serialize(
  map { "abc": 123 },
  map { 'method': 'json', 'json': map { 'escape-solidus': true(), 'number-format':'#' }
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we want to be able to use output options in the XQuery prolog, we additionally need to define a syntax for serializing the options to a single string:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;declare namespace output = 'http://www.w3.org/2010/xslt-xquery-serialization';
declare option output:method 'json';
declare option output:json 'escape-solidus=yes,number-format=#';
map { "abc": 123 }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Both suggestions are inspired by our own implementation; we use it for our custom JSON and CSV options.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
