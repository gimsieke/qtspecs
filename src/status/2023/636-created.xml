<item>
   <title>Issue #636 created</title>
   <pubDate>2023-07-25T03:53:03Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/636</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-636</guid>
   <description>&lt;div&gt;&lt;p&gt;Ternary operator&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Per #171 the WG decided to allow the ternary operator. I'm looking at &lt;a href="https://qt4cg.org/specifications/xquery-40/xpath-40-diff.html#id-conditionals"&gt;4.16 of the current version of XPath 4.0&lt;/a&gt; and the ternary operator is presented as illustrative, but the operator does not appear to have been properly introduced and defined in the specs. The terms "ternary", "??", and "!!" appear only twice each, and in contexts that could be confused as being illustrative.&lt;/p&gt;
&lt;p&gt;By my reading, the definition of &lt;code&gt;[11] ExprSingle&lt;/code&gt; should be expanded to allow a new option, call it &lt;code&gt;TernaryOption&lt;/code&gt;, and to the grammar should be new entry &lt;code&gt;TernaryOption ::= Expr "??" ExprSingle "!!" ExprSingle&lt;/code&gt;. Does such a definition allow any ambiguous constructs?&lt;/p&gt;
&lt;p&gt;I propose that 4.16 be subdivided into two subsections, the first one briefly introducing the ternary operator and the second handling if/then statements. Slight aside: the latter should also include a note pointing out how to avoid a then branch (and an example), a courtesy to developers who are overly accustomed to the unbraced approach as to not give the braced approach much thought.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
