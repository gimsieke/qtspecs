<item>
   <title>Issue #652 created</title>
   <pubDate>2023-08-07T17:04:48Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/652</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-652</guid>
   <description>&lt;div&gt;&lt;p&gt;Defining a common function library for XPath, XSLT, and XQuery applications&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;This issue is motivated by Mary Holstege's talk at Balisage 2023: Adventures in Single-Sourcing XSLT and XQuery&lt;/p&gt;
&lt;p&gt;https://www.balisage.net/Proceedings/vol28/html/Holstege01/BalisageVol28-Holstege01.html&lt;/p&gt;
&lt;p&gt;It is also motivated by other issues that have been raised here proposing improved capabilities for writing applications in pure XPath.&lt;/p&gt;
&lt;p&gt;I propose that we define a syntax for creating a module containing a set of function definitions that can be used to define a function library available to both XQuery and XSLT applications, and potentially also by pure XPath applications. A file should contain all the functions in one namespace. The format should be suitable for translation into other formats such as XSLT and XQuery, which means it should be in XML (though we could also consider JSON). We should provide XSLT stylesheets that convert libraries in this format into XSLT stylesheet modules or XQuery library modules.&lt;/p&gt;
&lt;p&gt;Function signatures should be expressed in an XML syntax similar to &lt;code&gt;xsl:function&lt;/code&gt; in XSLT.&lt;/p&gt;
&lt;p&gt;Function bodies should generally be written in the form of a single XPath expression, though there should be fallback mechanisms to allow XSLT and XQuery implementations to be supplied in cases where XPath lacks sufficient expressive power.&lt;/p&gt;
&lt;p&gt;There should be mechanisms to define the more important components of the static context, such as namespace bindings and dependencies on other function libraries.&lt;/p&gt;
&lt;p&gt;We could consider using this format to publish "polyfill" implementations of many of the new XPath 4.0 functions.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
