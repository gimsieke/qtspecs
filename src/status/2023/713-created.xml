<item>
   <title>Issue #713 created</title>
   <pubDate>2023-09-19T16:22:04Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/713</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-713</guid>
   <description>&lt;div&gt;&lt;p&gt;Annotations: Editorial notes&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Copied from https://github.com/qt4cg/qtspecs/pull/710#pullrequestreview-1630129066:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For avoidance of doubt, we should say in XQuery 4.6.2.4 (Named Function References) that the function created by a named function reference has its annotations taken from the function definition. There are other places where we are not explicit about the annotations of a function item, for example with partial function application. We should add a note that in XPath and XSLT, it is not possible to define function annotations, so this function will always return an empty result. (However, we should consider giving user-defined functions in XSLT annotations based on their attributes, e.g. visibility and streamability).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;…and my complementary note in the PR thread:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I decided to merge the PR without changes, and not add the reference to XPath and XSLT, because the function may also return results for XQuery functions imported via fn:load-xquery-module.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Additional notes from today’s meeting:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For annotations without values, we could assign &lt;code&gt;true()&lt;/code&gt; as a default value.&lt;/li&gt;
&lt;li&gt;Examples could be added to &lt;code&gt;fn:function-annotations&lt;/code&gt; to demonstrate how to check for annotations without values (or with values whose EBV is &lt;code&gt;false()&lt;/code&gt;: &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;""&lt;/code&gt;, etc.).&lt;/li&gt;
&lt;li&gt;Dimitre suggested restructuring the spec for features that are not available in XPath.&lt;/li&gt;
&lt;li&gt;Maybe annotations would also be helpful in XPath.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Feel free everyone to add more comments.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
