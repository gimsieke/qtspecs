<item>
   <title>Issue #649 created</title>
   <pubDate>2023-08-05T19:06:07Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/649</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-649</guid>
   <description>&lt;div&gt;&lt;p&gt;xsl:fallback&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I made the mistake of writing a test that said:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    &amp;lt;xsl:array version="4.0"&amp;gt;
      &amp;lt;xsl:fallback select="array{1 to 10}"/&amp;gt;
      &amp;lt;xsl:sequence select="1 to 10"/&amp;gt;
    &amp;lt;/xsl:array&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, the &lt;code&gt;xsl:fallback&lt;/code&gt; instruction doesn't allow an &lt;code&gt;@select&lt;/code&gt; attribute; and there's not much point in adding one, because xsl:fallback is only there for a processor implementing XSLT 1.0, 2.0, or 3.0, and such processors will ignore anything the XSLT 4.0 specification says.&lt;/p&gt;
&lt;p&gt;However, we could supply some clarification of what such a processor is expected to do when it finds an &lt;code&gt;xsl:fallback&lt;/code&gt; element with an unexpected &lt;code&gt;@select&lt;/code&gt; attribute. At present, it seems that because we don't say anything else, the &lt;code&gt;xsl:fallback&lt;/code&gt; element is itself evaluated in forwards compatibility mode, which means that the select attribute is ignored. Since the whole purpose of xsl:fallback is to provide code that an earlier XSLT processor can handle, I think it would make much more sense to say: "the effective version for an xsl:fallback element and its descendants, unless overridden with an explicit [xsl:]version attribute, is the version of the processor in use", so a 3.0 processor executing an &lt;code&gt;xsl:fallback&lt;/code&gt; instruction in a 4.0 stylesheet reports a static error if it finds a construct like the above.&lt;/p&gt;
&lt;p&gt;Although the 4.0 spec cannot dictate what a 3.0 processor does, we could add a non-normative note encouraging this interpretation.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
