<item>
   <title>Issue #712 created</title>
   <pubDate>2023-09-19T13:50:37Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/712</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-712</guid>
   <description>&lt;div&gt;&lt;p&gt;array:sort: to be aligned with fn:sort&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Related: #623. And an editorial note:&lt;/p&gt;
&lt;p&gt;https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-sort&lt;/p&gt;
&lt;p&gt;I think the type for the 3rd argument of &lt;code&gt;fn:sort&lt;/code&gt;…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$key  as (function(item()) as xs:anyAtomicType*)+  := fn:data#1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;…should be changed to zero-or-more:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$key  as (function(item()) as xs:anyAtomicType*)*  := fn:data#1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;While it will be rare to encounter queries with &lt;code&gt;key := ()&lt;/code&gt;, there seems to be no urgent reason to enforce at least one sort key. The change would also be in alignment with the corresponding rule (with the current signature, &lt;code&gt;$key&lt;/code&gt; cannot be empty), which says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The number of sort key definitions is determined by the number of function items supplied in the &lt;code&gt;$key&lt;/code&gt; argument. If the argument is absent or empty, the default is a single sort key definition using the function &lt;code&gt;data#1&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
