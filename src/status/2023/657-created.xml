<item>
   <title>Issue #657 created</title>
   <pubDate>2023-08-10T12:14:16Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/657</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-657</guid>
   <description>&lt;div&gt;&lt;p&gt;User-defined functions in main modules without `local` prefix&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I wonder where this has been discussed before (but I can’t find it):&lt;/p&gt;
&lt;p&gt;For simple scripts and main modules, the necessity to prefix all functions with a &lt;code&gt;local&lt;/code&gt; prefix is cumbersome. Next, it’s counterintuitive as the prefix is not required for variable declarations:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;declare function local:f() { 1 };
declare variable $x := 1;
$x + local:f()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It’s possible to use &lt;code&gt;declare default function namespace '...';&lt;/code&gt;, but that’s doesn’t feel much easier:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;declare default function namespace 'x';
declare function f() { 1 };
f()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I wonder if we can do one of the following things?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Allow functions without namespace (&lt;code&gt;declare function x() {}&lt;/code&gt;, &lt;code&gt;declare function Q{}x() {}&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Assign functions without namespace to the default function namespace.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
