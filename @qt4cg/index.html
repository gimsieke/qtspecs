<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-787"><h2>Pull request #787 created<span class="toot-id"> #created-787</span></h2><div class="pubdate">27 Oct at 07:46:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/787">https://github.com/qt4cg/qtspecs/pull/787</a></div><details><summary>783(part) - Editorial changes to Serialization spec</summary><div class="markup"><ol>
<li>Errors are raised, not signaled</li>
<li>Cross-references point to 4.0 specs rather than 3.0/3.1</li>
<li>Some internal markup changes for tidiness</li>
</ol>
<p>Partial fix for #783 as it affects the serialization spec.</p>
</div></details></div>
<div class="toot" id="closed-695"><h2>Issue #695 closed<span class="toot-id"> #closed-695</span></h2><div class="pubdate">26 Oct at 22:22:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/695">https://github.com/qt4cg/qtspecs/issues/695</a></div><p>Step in RangeExpression</p></div>
<div class="toot" id="created-786"><h2>Pull request #786 created<span class="toot-id"> #created-786</span></h2><div class="pubdate">26 Oct at 22:21:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/786">https://github.com/qt4cg/qtspecs/pull/786</a></div><details><summary>695: Added xref to fn:slice()</summary><div class="markup"><p>This closes #695 .</p>
</div></details></div>
<div class="toot" id="closed-777"><h2>Issue #777 closed<span class="toot-id"> #closed-777</span></h2><div class="pubdate">26 Oct at 22:09:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/777">https://github.com/qt4cg/qtspecs/issues/777</a></div><p>new replace() parameter $action</p></div>
<div class="toot" id="created-785"><h2>Pull request #785 created<span class="toot-id"> #created-785</span></h2><div class="pubdate">26 Oct at 22:07:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/785">https://github.com/qt4cg/qtspecs/pull/785</a></div><details><summary>777: updated history</summary><div class="markup"><p>Closes issue #777</p>
</div></details></div>
<div class="toot" id="created-784"><h2>Pull request #784 created<span class="toot-id"> #created-784</span></h2><div class="pubdate">26 Oct at 21:54:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/784">https://github.com/qt4cg/qtspecs/pull/784</a></div><details><summary>fos xsd</summary><div class="markup"><p><a href="xsd:assert">xsd:assert</a> is illegal in schema version 1.0; updated to specify version 1.1.</p>
</div></details></div>
<div class="toot" id="created-783"><h2>Issue #783 created<span class="toot-id"> #created-783</span></h2><div class="pubdate">26 Oct at 21:49:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/783">https://github.com/qt4cg/qtspecs/issues/783</a></div><details><summary>Editorial: errors are raised (not reported, signaled, generated, or thrown).</summary><div class="markup"><p>The most common phrase we use when describing an error condition is "A (dynamic|static|type) error is raised if ...".</p>
<p>There are other cases where we use the verb "reported" or "signaled" (and occasionally, "thrown" or "generated"). We should avoid these verbs, partly in the interests of consistency, and partly because they are misleading: an error is not reported if it is caught by a try/catch, but it is still raised.</p>
<p>XSLT also commonly uses the phrase "It is a (dynamic|static|type) error if ... " which is also acceptable.</p>
</div></details></div>
<div class="toot" id="created-782"><h2>Pull request #782 created<span class="toot-id"> #created-782</span></h2><div class="pubdate">26 Oct at 13:26:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/782">https://github.com/qt4cg/qtspecs/pull/782</a></div><details><summary>469: array:of-members, map:of-pairs: Signatures, Examples</summary><div class="markup"><p>I’ve eventually renamed <code>$pairs</code> to <code>$input</code> (I didn’t rename <code>$input</code> to $members<code>as initially suggested, as we have</code>$member<code>parameters in other functions that are of type</code>item()<em><code>, not </code>record(value as item()</em>)`).</p>
<p>Closes #469</p>
</div></details></div>
<div class="toot" id="closed-776"><h2>Issue #776 closed<span class="toot-id"> #closed-776</span></h2><div class="pubdate">26 Oct at 11:37:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/776">https://github.com/qt4cg/qtspecs/issues/776</a></div><p>/etc/XT40 does not get built</p></div>
<div class="toot" id="closed-781"><h2>Issue #781 closed<span class="toot-id"> #closed-781</span></h2><div class="pubdate">26 Oct at 11:37:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/781">https://github.com/qt4cg/qtspecs/pull/781</a></div><p>Fix etc_XT40 output file</p></div>
<div class="toot" id="created-781"><h2>Pull request #781 created<span class="toot-id"> #created-781</span></h2><div class="pubdate">26 Oct at 11:37:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/781">https://github.com/qt4cg/qtspecs/pull/781</a></div><details><summary>Fix etc_XT40 output file</summary><div class="markup"><p>Fix #776</p>
<p>You'll need to pull and rebase <code>master</code> after I merge this.</p>
</div></details></div>
<div class="toot" id="closed-764"><h2>Issue #764 closed<span class="toot-id"> #closed-764</span></h2><div class="pubdate">26 Oct at 07:25:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/764">https://github.com/qt4cg/qtspecs/issues/764</a></div><p>XQuery: Simplify module imports</p></div>
<div class="toot" id="created-780"><h2>Issue #780 created<span class="toot-id"> #created-780</span></h2><div class="pubdate">26 Oct at 04:04:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/780">https://github.com/qt4cg/qtspecs/issues/780</a></div><details><summary>format-number() etc incompatibility</summary><div class="markup"><p>We have changed format-number() and some XSLT functions including system-property(), function-available() etc so that the QName-valued argument is now declared with type union(xs:string, xs:QName) rather than xs:string. I believe that there are edge cases where this is an incompatible change -- for example if the supplied value is an xs:anyURI value. I think the edge cases are probably sufficiently obscure and unlikely to occur in practice that it is sufficient to document them.</p>
</div></details></div>
<div class="toot" id="created-779"><h2>Issue #779 created<span class="toot-id"> #created-779</span></h2><div class="pubdate">26 Oct at 03:18:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/779">https://github.com/qt4cg/qtspecs/issues/779</a></div><details><summary>Hash/checksum function</summary><div class="markup"><p>I propose a new function for the core XPath functions, here called <code>fn:hash()</code> for the sake of discussion. The goal is to give XPath users access to CRC, checksum, and cryptographic hash functions.</p>
<h3>Rationale</h3>
<p>Simple checksums functions, such as those from the Fletcher family, are relatively easy to write in a host language such as XSLT. More complex ones are far more challenging to write, and may incur serious performance penalties. For example, from the TAN function library, see the <a href="https://github.com/textalign/TAN-2021/blob/master/functions/checksums/TAN-fn-hash-and-check.xsl">MD5 checksum/hash functions</a>. (Yes, one day I thought it would be fun to try to implement the MD5 algorithm in XSLT.) Most programming languages in which an implementation is written have access to cryptographic libraries that are highly performative.</p>
<p>Hash functions are widely used, and certainly important in XML-based workflows, whether as filenames, database fields, etc.</p>
<p>The closest comparable existing functions is <code>generate-id()</code>, but this was designed as an identifier for nodes.</p>
<p>In short, I believe there is a significant need that outstrips current functionality.</p>
<p>In the draft below, I have adopted only the MD-5 algorithm as a core requirement, to catalyze discussion. I have assumed the user wants the string form of the output, not the raw bits. I have not tried to flesh out prose that would warn users away from security complacency.</p>
<p>For discussion, <a href="https://en.wikipedia.org/wiki/List_of_hash_functions">here is a list of relevant algorithms</a>. I look forward to community feedback.</p>
<h3><code>fn:hash</code> Draft Specification</h3>
<h4>Summary</h4>
<p>This function takes as input a string or octet sequence and returns a string representation of the results from a specified hash, checksum, or cyclic redundancy check function.</p>
<h4>Signature</h4>
<pre><code>fn:hash(
   $value as union(xs:string, xs:hexBinary, 
                   xs:base64Binary)?   := fn:string(.),
   $algorithm as xs:string             := "md5"
) as xs:string?
</code></pre>
<h4>Properties</h4>
<p>The zero-argument form of this function is deterministic, context-dependent, and focus-dependent.</p>
<p>The one- and two-argument form of this function is deterministic, context-independent, and focus-independent.</p>
<h4>Rules</h4>
<p>If the zero-argument version of the function is used, the result is the same as calling the one-argument version, with <code>$value</code> set to <code>fn:string(.)</code>.</p>
<p>If the one-argument version of the function is used, the result is the same as calling the two-argument version, with <code>$algorithm</code> set to "md5".</p>
<p>The effective value of <code>$algorithm</code> is the value of the expression <code>fn:lower-case(fn:replace($function, '\W+', ''))</code>.</p>
<p>If <code>$value</code> is the empty sequence, or a string of zero length, the function returns the empty sequence.</p>
<p>If <code>$value</code> is an instance of <code>xs:string</code> it is cast to <code>xs:hexBinary</code> on the basis of UTF-8 encoding. If <code>$value</code> is an instance of <code>xs:base64Binary</code> it is cast to <code>xs:hexBinary</code>.</p>
<p>The function returns an <code>xs:string</code> representation of the bytes returned by passing the <code>xs:hexBinary</code> value of <code>$value</code> as an octet sequence through the specified hash or checksum function.</p>
<p>Conforming implementations MUST support <code>md5</code> and the associated MD5 Message-Digest algorithm defined by RFC 6151 (update to RFC 1321). They MAY support other checksum and hash functions with implementation-defined semantics.</p>
<h4>Error Conditions</h4>
<p>A dynamic error is raised <em>[err:XXXXXXX]</em> if the effective value of <code>$algorithm</code> is not one of the values supported by the implementation.</p>
<h4>Notes</h4>
<ul>
<li>The MD5 algorithm is normally not used for cryptographic purposes. <em>[More cautionary prose about not assuming that something can be trusted as secure.]</em></li>
</ul>
<h4>Examples</h4>
<p>Expression | Result
-- | --
fn:hash("abc") | 900150983cd24fb0d6963f7d28e17f72
fn:hash("ABC") | 902fbdd2b1df0c4f70b4a5d23525e932</p>
</div></details></div>
<div class="toot" id="created-778"><h2>Pull request #778 created<span class="toot-id"> #created-778</span></h2><div class="pubdate">26 Oct at 01:53:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/778">https://github.com/qt4cg/qtspecs/pull/778</a></div><details><summary>XQFO edits 5.4-5.6</summary><div class="markup"><p>Light edits for consistency.</p>
<ul>
<li>Examples in <code>char()</code> have been reordered so that the most interesting and useful examples are at top.</li>
<li>Substring functions were difficult to read in the specs because of the overly long collation URI. These are now bound to a variable, to enhance legibility.</li>
<li>Schema location fixed.</li>
<li>extra examples in <code>string-length()</code>, to help users recognize the role of combining characters.</li>
</ul>
</div></details></div>
<div class="toot" id="created-777"><h2>Issue #777 created<span class="toot-id"> #created-777</span></h2><div class="pubdate">26 Oct at 01:35:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/777">https://github.com/qt4cg/qtspecs/issues/777</a></div><details><summary>new replace() parameter $action</summary><div class="markup"><p>In the current draft for <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-replace">replace()</a> the history log states that the new parameter <code>$action</code> has not yet had community review. This ticket provides a placeholder for attention and discussion.</p>
<p>If the CG has already reviewed and accepted <code>$action</code>, comment here and I will update the function history accordingly.</p>
</div></details></div>
<div class="toot" id="created-776"><h2>Issue #776 created<span class="toot-id"> #created-776</span></h2><div class="pubdate">25 Oct at 21:54:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/776">https://github.com/qt4cg/qtspecs/issues/776</a></div><details><summary>/etc/XT40 does not get built</summary><div class="markup"><p>The serialisation spec has <code>xspecref spec="XT31"</code> references that need to be updated to <code>XT40</code>. But for some reason the <code>/etc/XT40</code> file isn't being built, so these references fail to resolve.</p>
</div></details></div>
<div class="toot" id="created-775"><h2>Pull request #775 created<span class="toot-id"> #created-775</span></h2><div class="pubdate">25 Oct at 21:14:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/775">https://github.com/qt4cg/qtspecs/pull/775</a></div><details><summary>517: Reflected Christian Gruen's remarks</summary><div class="markup"><p>I deleted my fork, got a new one and applied the latest changes. Seems this fixed the issues.</p>
</div></details></div>
<div class="toot" id="closed-773"><h2>Issue #773 closed<span class="toot-id"> #closed-773</span></h2><div class="pubdate">25 Oct at 20:38:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/773">https://github.com/qt4cg/qtspecs/pull/773</a></div><p>QT4CG-051-04/05: Reflected today's meeting editorial suggestions</p></div>
<div class="toot" id="closed-768"><h2>Issue #768 closed<span class="toot-id"> #closed-768</span></h2><div class="pubdate">25 Oct at 16:44:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/768">https://github.com/qt4cg/qtspecs/issues/768</a></div><p>Details about decode-for-uri</p></div>
<div class="toot" id="closed-769"><h2>Issue #769 closed<span class="toot-id"> #closed-769</span></h2><div class="pubdate">25 Oct at 16:44:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/769">https://github.com/qt4cg/qtspecs/pull/769</a></div><p>768: details about decode-from-uri</p></div>
<div class="toot" id="closed-517"><h2>Issue #517 closed<span class="toot-id"> #closed-517</span></h2><div class="pubdate">25 Oct at 15:11:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/517">https://github.com/qt4cg/qtspecs/issues/517</a></div><p>fn:chain (before: fn:multi-compose)</p></div>
<div class="toot" id="closed-758"><h2>Issue #758 closed<span class="toot-id"> #closed-758</span></h2><div class="pubdate">25 Oct at 15:10:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/758">https://github.com/qt4cg/qtspecs/issues/758</a></div><p>XQFO UCA keyword strength, quaternary setting</p></div>
<div class="toot" id="closed-686"><h2>Issue #686 closed<span class="toot-id"> #closed-686</span></h2><div class="pubdate">25 Oct at 15:09:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/686">https://github.com/qt4cg/qtspecs/issues/686</a></div><p>XQFO presentation of diagnostic functions</p></div>
<div class="toot" id="created-774"><h2>Issue #774 created<span class="toot-id"> #created-774</span></h2><div class="pubdate">25 Oct at 12:46:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/774">https://github.com/qt4cg/qtspecs/issues/774</a></div><details><summary>What should be percent-encoded in a URI?</summary><div class="markup"><p>(This is related to <code>fn:parse-uri</code>, <code>fn:build-uri</code>, and <code>fn:decode-from-uri</code>. I'm making it a distinct issue to call it out and see if we can get consensus on the right answer. I've come to the conclusion that what I've implemented isn't justified by any specific reading of the relevant specifications, so it's wrong.)</p>
<p>This question is slightly tricky because encoding (or not encoding) characters can change the meaning of the URI.</p>
<p>If you trace your way through the ABNF in RFC 3986 you eventually get to:</p>
<pre><code>   path-abempty  = *( "/" segment )
   path-absolute = "/" [ segment-nz *( "/" segment ) ]
   path-noscheme = segment-nz-nc *( "/" segment )
   path-rootless = segment-nz *( "/" segment )
   path-empty    = 0&lt;pchar&gt;
</code></pre>
<p>The various <code>segment</code> nonterminals boil down to some number of <code>pchar</code>. (The <code>segment-nz</code> form is used to forbid a zero length string before the first <code>/</code>; the <code>segment-nz-nc</code> form is used for a URI that does not begin with a scheme: it must have a non-zero length string before the first <code>/</code> that additionally must not contain a <code>:</code>.)</p>
<pre><code>  pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
</code></pre>
<p>Where:</p>
<pre><code>  unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
  pct-encoded   = "%" HEXDIG HEXDIG
  sub-delims    = "!" / "$" / "&amp;" / "'" / "(" / ")" / "*" / "+" / "," / ";" / "="
</code></pre>
<p>I think it follows that all characters <strong>except</strong> the following must be encoded:</p>
<p>Upper-and lower-case <code>A</code> to <code>Z</code>, the digits <code>0</code> to <code>9</code>, <code>-</code>, <code>.</code>, <code>_</code>, <code>~</code>, <code>%</code>, <code>!</code>, <code>$</code>, <code>&amp;</code>, <code>'</code>, <code>(</code>, <code>)</code>, <code>*</code>, <code>+</code>, <code>,</code>, <code>;</code>, <code>=</code>, <code>:</code>, and <code>@</code>.</p>
<p>or, conversely, that any characters <em>other than those</em> <strong>must</strong> be encoded.</p>
<p>Observe that <code>/</code> isn't among the characters that are not encoded. That's because the <code>/</code> in hierarchical URIs divides the segments. It's part of the URI syntax. That's <em>why</em> a literal forward slash that appears somewhere in an actual path segment must be encoded <code>%2F</code> and it's why causually unencoding such a character changes the URI.</p>
<p>Observe also that there's no provision here for encoding a space with <code>+</code>, even though it's fairly common. I've carried that error through to some of the test results for <code>fn:build-uri</code> and <code>fn:parse-uri</code>. I'll fix those tests.</p>
<p>I'm going to try changing my implementation to follow the rule above and see what happens.</p>
<p>If you think this analysis is incorrect, please explain where I went wrong.</p>
</div></details></div>
<div class="toot" id="created-773"><h2>Pull request #773 created<span class="toot-id"> #created-773</span></h2><div class="pubdate">24 Oct at 18:48:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/773">https://github.com/qt4cg/qtspecs/pull/773</a></div><details><summary>QT4CG-051-04/05: Reflected today's meeting editorial suggestions</summary><div class="markup"><p>All 3 editorial suggestions made in today's meeting are now reflected.</p>
</div></details></div>
<div class="toot" id="created-772"><h2>Pull request #772 created<span class="toot-id"> #created-772</span></h2><div class="pubdate">24 Oct at 17:17:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/772">https://github.com/qt4cg/qtspecs/pull/772</a></div><details><summary>Revise the fn:parse-html rules to make them clearer to follow.</summary><div class="markup"><p>This actions the comment in #767 that the rules for the function are unclear.</p>
<p>The SVG element name handling is correct in the spec per the comments in https://github.com/qt4cg/qt4tests/issues/57, so don't need changing.</p>
</div></details></div>
<div class="toot" id="minutes-10-24"><h2>QT4 CG meeting 051 draft minutes<span class="toot-id"> #minutes-10-24</span></h2><div class="pubdate">24 Oct at 16:10:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/10-24">https://qt4cg.org/meeting/minutes/2023/10-24</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-734"><h2>Issue #734 closed<span class="toot-id"> #closed-734</span></h2><div class="pubdate">24 Oct at 16:06:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/734">https://github.com/qt4cg/qtspecs/pull/734</a></div><p>517: fn:chain</p></div>
<div class="toot" id="closed-763"><h2>Issue #763 closed<span class="toot-id"> #closed-763</span></h2><div class="pubdate">24 Oct at 16:05:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/763">https://github.com/qt4cg/qtspecs/pull/763</a></div><p>686: XQFO diagnostic function documentation</p></div></div><p>See 1444
            more statuses in yearly archives.</p></article></main></body></html>