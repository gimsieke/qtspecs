<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-03-12"><h2>QT4 CG meeting 069 draft minutes<span class="toot-id"> #minutes-03-12</span></h2><div class="pubdate">12 Mar at 17:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/03-12">https://qt4cg.org/meeting/minutes/2024/03-12</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-220"><h2>Issue #220 closed<span class="toot-id"> #closed-220</span></h2><div class="pubdate">12 Mar at 17:18:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/220">https://github.com/qt4cg/qtspecs/issues/220</a></div><p>Encapsulation</p></div>
<div class="toot" id="closed-262"><h2>Issue #262 closed<span class="toot-id"> #closed-262</span></h2><div class="pubdate">12 Mar at 17:18:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/262">https://github.com/qt4cg/qtspecs/issues/262</a></div><p>Navigation in deep-structured arrays</p></div>
<div class="toot" id="closed-274"><h2>Issue #274 closed<span class="toot-id"> #closed-274</span></h2><div class="pubdate">12 Mar at 17:17:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/274">https://github.com/qt4cg/qtspecs/issues/274</a></div><p>What would it take/would it be possible to build a module repository for QT?</p></div>
<div class="toot" id="closed-295"><h2>Issue #295 closed<span class="toot-id"> #closed-295</span></h2><div class="pubdate">12 Mar at 17:17:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/295">https://github.com/qt4cg/qtspecs/issues/295</a></div><p>Extend support for self-reference in record types</p></div>
<div class="toot" id="closed-314"><h2>Issue #314 closed<span class="toot-id"> #closed-314</span></h2><div class="pubdate">12 Mar at 17:17:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/314">https://github.com/qt4cg/qtspecs/issues/314</a></div><p>Basic Operations on Maps and Arrays</p></div>
<div class="toot" id="closed-825"><h2>Issue #825 closed<span class="toot-id"> #closed-825</span></h2><div class="pubdate">12 Mar at 17:17:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/825">https://github.com/qt4cg/qtspecs/issues/825</a></div><p>array:members-at</p></div>
<div class="toot" id="closed-829"><h2>Issue #829 closed<span class="toot-id"> #closed-829</span></h2><div class="pubdate">12 Mar at 17:17:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/829">https://github.com/qt4cg/qtspecs/issues/829</a></div><p>fn:boolean: EBV support for more item types</p></div>
<div class="toot" id="closed-960"><h2>Issue #960 closed<span class="toot-id"> #closed-960</span></h2><div class="pubdate">12 Mar at 17:17:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/960">https://github.com/qt4cg/qtspecs/issues/960</a></div><p>Should ??KS flatten the results</p></div>
<div class="toot" id="closed-961"><h2>Issue #961 closed<span class="toot-id"> #closed-961</span></h2><div class="pubdate">12 Mar at 17:17:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/961">https://github.com/qt4cg/qtspecs/issues/961</a></div><p>Simulating Objects: Performance</p></div>
<div class="toot" id="closed-1037"><h2>Issue #1037 closed<span class="toot-id"> #closed-1037</span></h2><div class="pubdate">12 Mar at 17:16:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1037">https://github.com/qt4cg/qtspecs/issues/1037</a></div><p>fn:json-to-xml: 'number-parser' option</p></div>
<div class="toot" id="closed-1058"><h2>Issue #1058 closed<span class="toot-id"> #closed-1058</span></h2><div class="pubdate">12 Mar at 17:15:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1058">https://github.com/qt4cg/qtspecs/pull/1058</a></div><p>1037 fn:json-to-xml: 'number-parser' option</p></div>
<div class="toot" id="agenda-03-12"><h2>QT4 CG meeting 069 draft agenda<span class="toot-id"> #agenda-03-12</span></h2><div class="pubdate">11 Mar at 14:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/03-12">https://qt4cg.org/meeting/agenda/2024/03-12</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1070"><h2>Issue #1070 created<span class="toot-id"> #created-1070</span></h2><div class="pubdate">08 Mar at 23:10:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1070">https://github.com/qt4cg/qtspecs/issues/1070</a></div><details><summary>Concise syntax for map construction</summary><div class="markup"><p>It has been suggested that we should allow a "bare braces" syntax for map construction. This would reduce visual clutter especially when defining options arguments, as in</p>
<p><code>serialize($result, map{"method": "adaptive", "indent": true()})</code></p>
<p>I believe there are no syntactic obstacles to dropping the "map" keyword. The main reason it is there was because there was competition for the construct with people doing so-called scripting extensions who wanted "bare braces" to represent blocks of statements.</p>
<p>Allowing <code>{"method": "adaptive"}</code> would align with JSON.</p>
<p>But I think we should go a step further and drop the quotes:</p>
<p><code>{method: "adaptive"}</code></p>
<p>except that we could allow a string literal if the key isn't an NCName, as with record type syntax.</p>
<p>Could we do this and still allow computed or non-string keys? I don't think we need to, the existing syntax remains available.</p>
<p>So I propose we allow:</p>
<p><code>serialize($result, {method: "adaptive", indent: true()})</code></p>
<p>While we're about it, is there any enthusiasm for allowing</p>
<p><code>serialize($result, {method: "adaptive", indent: ✅})</code>  (: U+2705 :)</p>
</div></details></div>
<div class="toot" id="closed-596"><h2>Issue #596 closed<span class="toot-id"> #closed-596</span></h2><div class="pubdate">08 Mar at 22:45:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/596">https://github.com/qt4cg/qtspecs/issues/596</a></div><p>Pinned values: Transforming Trees</p></div>
<div class="toot" id="created-1069"><h2>Issue #1069 created<span class="toot-id"> #created-1069</span></h2><div class="pubdate">08 Mar at 03:58:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1069">https://github.com/qt4cg/qtspecs/issues/1069</a></div><details><summary>fn:ucd</summary><div class="markup"><p>This issue floats the idea of a new function, <code>fn:ucd</code> (for Unicode character database).</p>
<p>The working signature would be <code>fn:ucd($codepoint as xs:positiveInteger) as map(*)?</code>.  In the returned map, each entry would have a key that is a Unicode property name (full or abbreviated) and a value that reflects the property of <code>$character</code> in the Unicode character database.</p>
<p>What would users get? Access to a deep store of character data not otherwise (easily) available, such as name, name alias, bidirectional properties, age (when it entered Unicode), breaks (word, sentence, grapheme), scripts, and dozens of other properties. See <a href="https://www.unicode.org/reports/tr44/#Property_Index">Unicode TR 44</a>. Although many properties are of specialized interest, I think most people would find at least a few of these properties of significance.</p>
<p>Can't we already do this with regular expressions? Well, no. Category escapes in XPath regular expressions, e.g., <code>\p{Lm}</code>, are based upon general categories, but the properties mentioned above cut across these general categories. For example, general category <code>Pd</code> dash is not coterminous with the property <code>Dash</code>. Property <code>Quotation_Mark</code> crosses many subcategories of <code>P</code> Punctuation.</p>
<p>A few use cases:</p>
<p><strong>Extrapolation</strong>
<code>string-to-codepoints('ɑϞ') ! ('U+' || dec-to-hex(.) || ': ' || ucd(.)('Name'))</code> would return <code>('U+251: LATIN SMALL LETTER ALPHA', 'U+3DE: GREEK LETTER KOPPA')</code></p>
<p><strong>Filtering</strong>
<code>if (some $i in string-to-codepoints($text) satisfies ucd($i)('Soft_Dotted')) then...</code></p>
<p><strong>Annotating</strong></p>
<pre><code>&lt;div class="{myfunc:most-frequent((string-to-codepoints($text) ! ucd(.)('Script')))}"&gt;
    &lt;xsl:value-of select="$text"/&gt;
&lt;/div&gt;
</code></pre>
<p>might produce</p>
<pre><code>&lt;div class="Syriac"&gt;ܡܠܟܘܬܐ ܕܫܡܝܐ ܐܝܬܝܗ̇. ܠܐ ܚܫܘܫܘܬܐ ܕܢܦܫܐ܆ ܥܡ ܝܕܥܬܐ ܕܫܪܪܐ ܕܗܠܝܢ ܕܐܝܬܝܗܝܢ&lt;/div&gt;
</code></pre>
<p>And so forth. I can think of dozens of different types of operations where <code>fn:ucd</code> might be significant.</p>
<p>Thoughts?</p>
</div></details></div>
<div class="toot" id="created-1068"><h2>Pull request #1068 created<span class="toot-id"> #created-1068</span></h2><div class="pubdate">08 Mar at 01:51:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1068">https://github.com/qt4cg/qtspecs/pull/1068</a></div><details><summary>73 fn:graphemes</summary><div class="markup"><p>First draft of <code>fn:graphemes</code>, in response to discussion at #73 .</p>
<p>A battery of tests will be submitted as a PR to the qt4tests repository.</p>
</div></details></div>
<div class="toot" id="closed-1067"><h2>Issue #1067 closed<span class="toot-id"> #closed-1067</span></h2><div class="pubdate">07 Mar at 13:48:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1067">https://github.com/qt4cg/qtspecs/issues/1067</a></div><p>fn:deep-equal: significant children</p></div>
<div class="toot" id="created-1067"><h2>Issue #1067 created<span class="toot-id"> #created-1067</span></h2><div class="pubdate">07 Mar at 12:22:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1067">https://github.com/qt4cg/qtspecs/issues/1067</a></div><details><summary>fn:deep-equal: significant children</summary><div class="markup"><p>The current rules of <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-deep-equal">fn:deep-equal</a> are:</p>
<blockquote>
<p>e. Let <code>significant-children($parent)</code> be the sequence of nodes obtained by applying the following steps to the children of <code>$parent</code>, in turn:
&nbsp;&nbsp;i. Comment nodes are discarded if the option <code>comments</code> is false.
&nbsp;&nbsp;ii. Processing instruction nodes are discarded if the option <code>processing-instructions</code> is false.
&nbsp;&nbsp;iii. Adjacent text nodes are merged.
…
…the sequence <code>significant-children($i1)</code> is deep-equal to the sequence <code>significant-children($i2)</code>.</p>
</blockquote>
<p>If my interpretation is correct, the following expression is now expected to return <code>true</code>…</p>
<pre><code class="language-xquery">deep-equal(
  &lt;e&gt;A&lt;!----&gt;B&lt;/e&gt;,
  &lt;e&gt;AB&lt;/e&gt;
)
</code></pre>
<p>…and we need to update various test cases (e.g. <a href="https://github.com/qt4cg/qt4tests/blob/af7640a513bd7bda9f301a0cc8334a58bb5ea78e/fn/deep-equal.xml#L2390-L2398">K2-SeqDeepEqualFunc-22</a>).</p>
</div></details></div>
<div class="toot" id="created-1066"><h2>Pull request #1066 created<span class="toot-id"> #created-1066</span></h2><div class="pubdate">06 Mar at 22:03:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1066">https://github.com/qt4cg/qtspecs/pull/1066</a></div><details><summary>1052 Simplify the results of parse-csv</summary><div class="markup"><p>Changes parse-csv to deliver the results in a simpler format:</p>
<p>(a) the result structure is less deeply nested: one record with four entries
(b) the actual data is delivered as a sequence of arrays of strings, closely aligned with the result of <code>csv-to-arrays</code></p>
<p>The rules in the spec have also been rearranged to reflect this, so the rules are now organised according to the values delivered for each of these four fields.</p>
<p>The examples in the spec are changed to reflect the new output format; in addition they have been editorially reorganized so each example is more self-contained, avoiding the need for extensive scrolling to find the values of variables referenced in each example.</p>
<p>Fix issue #1052</p>
</div></details></div>
<div class="toot" id="created-1065"><h2>Issue #1065 created<span class="toot-id"> #created-1065</span></h2><div class="pubdate">06 Mar at 12:34:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1065">https://github.com/qt4cg/qtspecs/issues/1065</a></div><details><summary>fn:format-number: further notes</summary><div class="markup"><p>This issue summarizes suggestions for <code>fn:format-number</code> from the <a href="https://qt4cg.org/meeting/minutes/2024/03-05.html">QT4 Meeting 068</a> that have not yet been incorporated into the current draft:</p>
<ul>
<li>The <a href="https://cldr.unicode.org/translation/number-currency-formats/number-and-currency-patterns">Unicode Common Locale Data Repository</a> (CLDR) should be referenced; it has recommendations for all of the languages in Unicode and some variants.</li>
<li>We could consider introducing an options map so that we can just add more things later (such as e.g. an option for using the default decimal format for parsing the picture string, see https://github.com/qt4cg/qtspecs/issues/1048#issuecomment-1978869499).</li>
</ul>
</div></details></div>
<div class="toot" id="closed-919"><h2>Issue #919 closed<span class="toot-id"> #closed-919</span></h2><div class="pubdate">06 Mar at 12:06:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/919">https://github.com/qt4cg/qtspecs/issues/919</a></div><p>Should predicate callbacks use EBV?</p></div>
<div class="toot" id="closed-944"><h2>Issue #944 closed<span class="toot-id"> #closed-944</span></h2><div class="pubdate">06 Mar at 12:04:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/944">https://github.com/qt4cg/qtspecs/issues/944</a></div><p>Coercion rules: implicit types</p></div>
<div class="toot" id="closed-1047"><h2>Issue #1047 closed<span class="toot-id"> #closed-1047</span></h2><div class="pubdate">06 Mar at 12:02:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1047">https://github.com/qt4cg/qtspecs/issues/1047</a></div><p>Incorrect note for `fn:some` and `fn:every`</p></div>
<div class="toot" id="closed-1064"><h2>Issue #1064 closed<span class="toot-id"> #closed-1064</span></h2><div class="pubdate">06 Mar at 09:56:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1064">https://github.com/qt4cg/qtspecs/pull/1064</a></div><p>340-editorial fn:format-number</p></div>
<div class="toot" id="created-1064"><h2>Pull request #1064 created<span class="toot-id"> #created-1064</span></h2><div class="pubdate">06 Mar at 09:56:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1064">https://github.com/qt4cg/qtspecs/pull/1064</a></div><details><summary>340-editorial fn:format-number</summary><div class="markup"><p>…an addendum to the editorial change I made yesterday; will be merged in a minute.</p>
</div></details></div>
<div class="toot" id="closed-1054"><h2>Issue #1054 closed<span class="toot-id"> #closed-1054</span></h2><div class="pubdate">06 Mar at 09:45:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1054">https://github.com/qt4cg/qtspecs/issues/1054</a></div><p>Spec fn:message #id using old name fn:log</p></div>
<div class="toot" id="closed-1057"><h2>Issue #1057 closed<span class="toot-id"> #closed-1057</span></h2><div class="pubdate">06 Mar at 09:45:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1057">https://github.com/qt4cg/qtspecs/pull/1057</a></div><p>1054 Spec fn:message #id using old name fn:log</p></div>
<div class="toot" id="created-1063"><h2>Issue #1063 created<span class="toot-id"> #created-1063</span></h2><div class="pubdate">05 Mar at 23:20:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1063">https://github.com/qt4cg/qtspecs/issues/1063</a></div><details><summary>deep-equal() - option to compare functions liberally</summary><div class="markup"><p>We have changed deep-equal() so it no longer automatically treats functions as not equal.</p>
<p>However, it is still in practice infeasible to use deep-equal() for comparison of test results that include function items because it is not in general possible to supply an expected result that compares true to the function item actually returned. Since comparison of test results is an important use case for deep-equal, this is a serious limitation. It affects our own process that checks that output from examples in the spec is correct: the examples for parse-csv, for example, are artificially adjusted to make test comparison feasible by eliminating the function items in the result, which reduces the pedagogical value of the examples.</p>
<p>There should be an option such as <code>strict-function-comparison=true|false</code>. If set to false, then the function properties such as name, arity, and signature are compared, but the function body is ignored and assumed equal.</p>
</div></details></div>
<div class="toot" id="minutes-03-05"><h2>QT4 CG meeting 068 draft minutes<span class="toot-id"> #minutes-03-05</span></h2><div class="pubdate">05 Mar at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/03-05">https://qt4cg.org/meeting/minutes/2024/03-05</a></div><p>Draft minutes published.</p></div></div><p>See 2067
            more statuses in yearly archives.</p></article></main></body></html>