<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="closed-1016"><h2>Issue #1016 closed<span class="toot-id"> #closed-1016</span></h2><div class="pubdate">27 Feb at 17:31:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1016">https://github.com/qt4cg/qtspecs/issues/1016</a></div><p>Editorial comments on fn:parse-csv()</p></div>
<div class="toot" id="closed-1042"><h2>Issue #1042 closed<span class="toot-id"> #closed-1042</span></h2><div class="pubdate">27 Feb at 17:30:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1042">https://github.com/qt4cg/qtspecs/pull/1042</a></div><p>1016 Editorial cleanup - csv-to-arrays</p></div>
<div class="toot" id="closed-236"><h2>Issue #236 closed<span class="toot-id"> #closed-236</span></h2><div class="pubdate">27 Feb at 17:28:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/236">https://github.com/qt4cg/qtspecs/issues/236</a></div><p>map:build: sequence of keys</p></div>
<div class="toot" id="closed-1041"><h2>Issue #1041 closed<span class="toot-id"> #closed-1041</span></h2><div class="pubdate">27 Feb at 17:28:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1041">https://github.com/qt4cg/qtspecs/pull/1041</a></div><p>236 map:build: sequence of keys</p></div>
<div class="toot" id="closed-988"><h2>Issue #988 closed<span class="toot-id"> #closed-988</span></h2><div class="pubdate">27 Feb at 17:22:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/988">https://github.com/qt4cg/qtspecs/pull/988</a></div><p>960 Pinned and labeled values</p></div>
<div class="toot" id="minutes-02-27"><h2>QT4 CG meeting 067 draft minutes<span class="toot-id"> #minutes-02-27</span></h2><div class="pubdate">27 Feb at 17:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/02-27">https://qt4cg.org/meeting/minutes/2024/02-27</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-485"><h2>Issue #485 closed<span class="toot-id"> #closed-485</span></h2><div class="pubdate">27 Feb at 17:19:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/485">https://github.com/qt4cg/qtspecs/issues/485</a></div><p>Predeclared namespaces in XQuery</p></div>
<div class="toot" id="closed-1040"><h2>Issue #1040 closed<span class="toot-id"> #closed-1040</span></h2><div class="pubdate">27 Feb at 17:18:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1040">https://github.com/qt4cg/qtspecs/pull/1040</a></div><p>485 Predeclared namespaces in XQuery: output</p></div>
<div class="toot" id="closed-1029"><h2>Issue #1029 closed<span class="toot-id"> #closed-1029</span></h2><div class="pubdate">27 Feb at 17:14:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1029">https://github.com/qt4cg/qtspecs/issues/1029</a></div><p>Make argument of fn:void optional</p></div>
<div class="toot" id="closed-1032"><h2>Issue #1032 closed<span class="toot-id"> #closed-1032</span></h2><div class="pubdate">27 Feb at 17:14:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1032">https://github.com/qt4cg/qtspecs/pull/1032</a></div><p>1029 Make argument of fn:void optional</p></div>
<div class="toot" id="closed-1033"><h2>Issue #1033 closed<span class="toot-id"> #closed-1033</span></h2><div class="pubdate">27 Feb at 17:09:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1033">https://github.com/qt4cg/qtspecs/pull/1033</a></div><p>QT4CG-066-01 Add note that whitespace and comments in regexen are lexical constructs</p></div>
<div class="toot" id="closed-356"><h2>Issue #356 closed<span class="toot-id"> #closed-356</span></h2><div class="pubdate">27 Feb at 17:08:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/356">https://github.com/qt4cg/qtspecs/issues/356</a></div><p>array:leaves</p></div>
<div class="toot" id="closed-843"><h2>Issue #843 closed<span class="toot-id"> #closed-843</span></h2><div class="pubdate">27 Feb at 17:08:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/843">https://github.com/qt4cg/qtspecs/issues/843</a></div><p>Standard, array &amp; map functions: Equivalencies</p></div>
<div class="toot" id="closed-872"><h2>Issue #872 closed<span class="toot-id"> #closed-872</span></h2><div class="pubdate">27 Feb at 17:08:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/872">https://github.com/qt4cg/qtspecs/issues/872</a></div><p>Symmetry: fn:items-at â†’ fn:get</p></div>
<div class="toot" id="closed-990"><h2>Issue #990 closed<span class="toot-id"> #closed-990</span></h2><div class="pubdate">27 Feb at 17:08:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/990">https://github.com/qt4cg/qtspecs/issues/990</a></div><p>Transitive closure on non-nodes</p></div>
<div class="toot" id="closed-1007"><h2>Issue #1007 closed<span class="toot-id"> #closed-1007</span></h2><div class="pubdate">27 Feb at 17:08:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1007">https://github.com/qt4cg/qtspecs/issues/1007</a></div><p>How to invert a predicate function</p></div>
<div class="toot" id="closed-1030"><h2>Issue #1030 closed<span class="toot-id"> #closed-1030</span></h2><div class="pubdate">27 Feb at 17:07:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1030">https://github.com/qt4cg/qtspecs/issues/1030</a></div><p>allow pattern matches in axis expression</p></div>
<div class="toot" id="closed-1034"><h2>Issue #1034 closed<span class="toot-id"> #closed-1034</span></h2><div class="pubdate">27 Feb at 17:05:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1034">https://github.com/qt4cg/qtspecs/pull/1034</a></div><p>QT4CG-066-xx Add note regarding absence of drop-while / skip-while</p></div>
<div class="toot" id="closed-1024"><h2>Issue #1024 closed<span class="toot-id"> #closed-1024</span></h2><div class="pubdate">27 Feb at 17:00:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1024">https://github.com/qt4cg/qtspecs/issues/1024</a></div><p>Precedence of `otherwise` operator</p></div>
<div class="toot" id="closed-1031"><h2>Issue #1031 closed<span class="toot-id"> #closed-1031</span></h2><div class="pubdate">27 Feb at 17:00:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1031">https://github.com/qt4cg/qtspecs/pull/1031</a></div><p>1024 Change precedence of 'otherwise' operator</p></div>
<div class="toot" id="closed-1003"><h2>Issue #1003 closed<span class="toot-id"> #closed-1003</span></h2><div class="pubdate">27 Feb at 17:00:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1003">https://github.com/qt4cg/qtspecs/pull/1003</a></div><p>919 Use EBV in boolean callbacks</p></div>
<div class="toot" id="created-1045"><h2>Issue #1045 created<span class="toot-id"> #created-1045</span></h2><div class="pubdate">26 Feb at 13:22:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1045">https://github.com/qt4cg/qtspecs/issues/1045</a></div><details><summary>Functions to manage namespace usage</summary><div class="markup"><p>Prior to saving XML generated in XQuery I often tweak the namespace usage.
This makes the XML lighter and clearer for the casual reader and is sometimes mandated by users and systems.
I think providing builtin solutions for these cases would ease these tasks.</p>
<p>Common cases are:</p>
<ol>
<li>
<p>Remove unused prefixes
Example: the function presented at https://stackoverflow.com/questions/23002655/xquery-how-to-remove-unused-namespace-in-xml-node</p>
</li>
<li>
<p>Make a namespace the default wherever it is used.
Example: <code>functx:change-element-ns-deep($nodes,$targetns,"")</code><br>
See  http://www.xqueryfunctions.com/xq/functx_change-element-ns-deep.html</p>
</li>
<li>
<p>Remove the use of all/some namespaces
Example: BaseX https://docs.basex.org/wiki/Utility_Module#util:strip-namespaces</p>
</li>
</ol>
<p>A somewhat related issue https://github.com/qt4cg/qtspecs/issues/266</p>
</div></details></div>
<div class="toot" id="agenda-02-27"><h2>QT4 CG meeting 067 draft agenda<span class="toot-id"> #agenda-02-27</span></h2><div class="pubdate">26 Feb at 11:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/02-27">https://qt4cg.org/meeting/agenda/2024/02-27</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1044"><h2>Issue #1044 created<span class="toot-id"> #created-1044</span></h2><div class="pubdate">26 Feb at 10:50:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1044">https://github.com/qt4cg/qtspecs/issues/1044</a></div><details><summary>CSV row delimiter - allowed values</summary><div class="markup"><p>Section 15.4.2.1 says:</p>
<blockquote>
<p>The row delimiter defaults to matching any of CRLF (
), LF (
), or CR (
). Valid values for the row delimiter are a single Unicode character, or one of CRLF, LF, or CR, that has not been marked for use as the column delimiter. Implementations must raise [[err:FOCV0002](] if the row-delimiter option is set to a multi-character string other than CRLF (
)</p>
</blockquote>
<ol>
<li>It's not entirely clear to me what this is saying. Are alternative row delimiters other than newline delimiters allowed (<code>row-delimiter:('|','/')</code>?</li>
<li>The statement in this section doesn't align with the error conditions appearing in the actual function specs, which says: "A dynamic error [[err:FOCV0002] occurs if one or more of the values for field-delimiter or quote-character are specified and are not a single character." - no mention here of the row-delimiter.</li>
</ol>
</div></details></div>
<div class="toot" id="created-1043"><h2>Issue #1043 created<span class="toot-id"> #created-1043</span></h2><div class="pubdate">26 Feb at 08:59:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1043">https://github.com/qt4cg/qtspecs/issues/1043</a></div><details><summary>CSV parsing - "blank" rows</summary><div class="markup"><p>The CSV parsing specification states "A blank row is represented as an empty array.".</p>
<ol>
<li>
<p>It's not clear what "blank" means here. Does it depend on the whitespace-trimming option?</p>
</li>
<li>
<p>It would be more logical to return an array containing a single zero-length string, since any other line containing no field delimiter is considered to contain one field.</p>
</li>
<li>
<p>Alternatively, it might make sense to ignore the row entirely.</p>
</li>
</ol>
</div></details></div>
<div class="toot" id="created-1042"><h2>Pull request #1042 created<span class="toot-id"> #created-1042</span></h2><div class="pubdate">26 Feb at 00:11:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1042">https://github.com/qt4cg/qtspecs/pull/1042</a></div><details><summary>1016 Editorial cleanup - csv-to-arrays</summary><div class="markup"><p>The changes here are almost entirely editorial, reordering material, removing duplication and changing some of the language for consistency with the rest of the spec. There is one substantive change - the function <code>csv-to-simple-rows</code> is renamed <code>csv-to-arrays</code>.</p>
<p>Fix #1016</p>
</div></details></div>
<div class="toot" id="created-1041"><h2>Pull request #1041 created<span class="toot-id"> #created-1041</span></h2><div class="pubdate">23 Feb at 10:47:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1041">https://github.com/qt4cg/qtspecs/pull/1041</a></div><details><summary>236 map:build: sequence of keys</summary><div class="markup"><p>Issue: #236</p>
</div></details></div>
<div class="toot" id="created-1040"><h2>Pull request #1040 created<span class="toot-id"> #created-1040</span></h2><div class="pubdate">23 Feb at 09:23:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1040">https://github.com/qt4cg/qtspecs/pull/1040</a></div><details><summary>485 Predeclared namespaces in XQuery: output</summary><div class="markup"><p>Issue: #485</p>
</div></details></div>
<div class="toot" id="created-1039"><h2>Issue #1039 created<span class="toot-id"> #created-1039</span></h2><div class="pubdate">22 Feb at 09:42:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1039">https://github.com/qt4cg/qtspecs/issues/1039</a></div><details><summary>Allow dynamic collations in XQuery "order by" and "group by"</summary><div class="markup"><p>I propose that in "order by" and "group by" clauses, the keyword "collation" should be followed by an expression rather than by a URILiteral.</p>
<p>The only problem this causes is if the expression depends on variables in the tuple stream, because obviously the collation must be selected for the tuple stream as a whole, not for each individual tuple.</p>
<p>We can solve this problem by amending the rules for the scope of variables bound in FLWOR expressions (Â§4.15.1 rule 1) so that collation expressions are excluded from the scope; or perhaps (it might be simpler) to make it a static error if the collation expression refers to a variable bound in the containing FLWOR expression.</p>
<p>If the syntax allows a general expression then a simple <code>"quoted-string"</code> will be interpreted as a <code>StringLiteral</code> rather than a <code>URILiteral</code>. As far as I'm aware the two things are syntactically and semantically identical so this isn't a problem.</p>
</div></details></div>
<div class="toot" id="created-1038"><h2>Issue #1038 created<span class="toot-id"> #created-1038</span></h2><div class="pubdate">21 Feb at 21:03:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1038">https://github.com/qt4cg/qtspecs/issues/1038</a></div><details><summary>Backwards incompatibility caused by use of EBV in callback functions</summary><div class="markup"><p>Changing fn:filter and similar functions that existed in 3.1 to use the EBV of the callback function's result has introduced a backwards incompatibility. In 3.1, the function conversion rules were used to convert the callback function's result to <code>xs:boolean</code>. This involves atomization. If the callback returned the untyped node <code>&lt;a&gt;false&lt;/a&gt;</code>, this is atomised as <code>false()</code>, but its EBV is <code>true()</code>.</p>
<p>Revealed by test case fn:filter-006.</p>
<p>I think it's unlikely to happen much in practice, but it's a bit nasty. Perhaps we shouldn't make the change to use EBV for functions that existed in 3.1?</p>
<p>Perhaps we should even consider reverting the change entirely. It's not exactly essential.</p>
</div></details></div></div><p>See 2008
            more statuses in yearly archives.</p></article></main></body></html>