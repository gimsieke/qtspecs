<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-02-06"><h2>QT4 CG meeting 064 draft minutes<span class="toot-id"> #minutes-02-06</span></h2><div class="pubdate">06 Feb at 18:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/02-06">https://qt4cg.org/meeting/minutes/2024/02-06</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-187"><h2>Issue #187 closed<span class="toot-id"> #closed-187</span></h2><div class="pubdate">06 Feb at 17:50:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/187">https://github.com/qt4cg/qtspecs/issues/187</a></div><p>Add a 'while' clause to FLWOR expressions</p></div>
<div class="toot" id="closed-943"><h2>Issue #943 closed<span class="toot-id"> #closed-943</span></h2><div class="pubdate">06 Feb at 17:49:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/943">https://github.com/qt4cg/qtspecs/pull/943</a></div><p>187 Add FLWOR expression while clause</p></div>
<div class="toot" id="closed-260"><h2>Issue #260 closed<span class="toot-id"> #closed-260</span></h2><div class="pubdate">06 Feb at 17:46:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/260">https://github.com/qt4cg/qtspecs/issues/260</a></div><p>array:index-of</p></div>
<div class="toot" id="closed-968"><h2>Issue #968 closed<span class="toot-id"> #closed-968</span></h2><div class="pubdate">06 Feb at 17:46:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/968">https://github.com/qt4cg/qtspecs/pull/968</a></div><p>260 array:index-of</p></div>
<div class="toot" id="closed-969"><h2>Issue #969 closed<span class="toot-id"> #closed-969</span></h2><div class="pubdate">06 Feb at 17:43:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/969">https://github.com/qt4cg/qtspecs/pull/969</a></div><p>843-partial Standard, array &amp; map functions: Equivalencies</p></div>
<div class="toot" id="closed-973"><h2>Issue #973 closed<span class="toot-id"> #closed-973</span></h2><div class="pubdate">06 Feb at 17:40:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/973">https://github.com/qt4cg/qtspecs/issues/973</a></div><p>fn:parse-json, fn:json-to-xml: `number-parser`, `fallback`</p></div>
<div class="toot" id="closed-975"><h2>Issue #975 closed<span class="toot-id"> #closed-975</span></h2><div class="pubdate">06 Feb at 17:40:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/975">https://github.com/qt4cg/qtspecs/pull/975</a></div><p>973 fn:parse-json, fn:json-to-xml: number-parser, fallback</p></div>
<div class="toot" id="closed-984"><h2>Issue #984 closed<span class="toot-id"> #closed-984</span></h2><div class="pubdate">06 Feb at 17:37:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/984">https://github.com/qt4cg/qtspecs/pull/984</a></div><p>959-partial Add fn:seconds function</p></div>
<div class="toot" id="closed-993"><h2>Issue #993 closed<span class="toot-id"> #closed-993</span></h2><div class="pubdate">06 Feb at 17:34:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/993">https://github.com/qt4cg/qtspecs/pull/993</a></div><p>989 (partial) Allow char() to take integer argument</p></div>
<div class="toot" id="closed-830"><h2>Issue #830 closed<span class="toot-id"> #closed-830</span></h2><div class="pubdate">06 Feb at 17:31:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/830">https://github.com/qt4cg/qtspecs/issues/830</a></div><p>Revise appendix D.4 of F+O: Illustrative user-written functions</p></div>
<div class="toot" id="closed-997"><h2>Issue #997 closed<span class="toot-id"> #closed-997</span></h2><div class="pubdate">06 Feb at 17:31:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/997">https://github.com/qt4cg/qtspecs/pull/997</a></div><p>830 Drop F+O appendix D.4</p></div>
<div class="toot" id="closed-816"><h2>Issue #816 closed<span class="toot-id"> #closed-816</span></h2><div class="pubdate">06 Feb at 17:28:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/816">https://github.com/qt4cg/qtspecs/issues/816</a></div><p>Predicates: Support for numeric sequences </p></div>
<div class="toot" id="closed-996"><h2>Issue #996 closed<span class="toot-id"> #closed-996</span></h2><div class="pubdate">06 Feb at 17:28:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/996">https://github.com/qt4cg/qtspecs/pull/996</a></div><p>816 Allow a predicate in a filter expression to be a sequence of numbers</p></div>
<div class="toot" id="closed-995"><h2>Issue #995 closed<span class="toot-id"> #closed-995</span></h2><div class="pubdate">06 Feb at 17:25:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/995">https://github.com/qt4cg/qtspecs/pull/995</a></div><p>937 revised in light of CG feedback</p></div>
<div class="toot" id="closed-628"><h2>Issue #628 closed<span class="toot-id"> #closed-628</span></h2><div class="pubdate">06 Feb at 17:22:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/628">https://github.com/qt4cg/qtspecs/issues/628</a></div><p>distinct-values and duplicate-values: order of results</p></div>
<div class="toot" id="closed-987"><h2>Issue #987 closed<span class="toot-id"> #closed-987</span></h2><div class="pubdate">06 Feb at 17:22:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/987">https://github.com/qt4cg/qtspecs/pull/987</a></div><p>628 Define result order for distinct-values and duplicate-values</p></div>
<div class="toot" id="closed-911"><h2>Issue #911 closed<span class="toot-id"> #closed-911</span></h2><div class="pubdate">06 Feb at 17:19:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/911">https://github.com/qt4cg/qtspecs/issues/911</a></div><p>Type "Promotion" in the coercion rules</p></div>
<div class="toot" id="closed-980"><h2>Issue #980 closed<span class="toot-id"> #closed-980</span></h2><div class="pubdate">06 Feb at 17:19:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/980">https://github.com/qt4cg/qtspecs/pull/980</a></div><p>911 Coercion to allow double to decimal etc</p></div>
<div class="toot" id="closed-966"><h2>Issue #966 closed<span class="toot-id"> #closed-966</span></h2><div class="pubdate">06 Feb at 17:14:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/966">https://github.com/qt4cg/qtspecs/issues/966</a></div><p>Rewrite spec of deep lookup operator: edits</p></div>
<div class="toot" id="closed-979"><h2>Issue #979 closed<span class="toot-id"> #closed-979</span></h2><div class="pubdate">06 Feb at 17:14:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/979">https://github.com/qt4cg/qtspecs/pull/979</a></div><p>966 Minor fixes to deep lookup </p></div>
<div class="toot" id="closed-964"><h2>Issue #964 closed<span class="toot-id"> #closed-964</span></h2><div class="pubdate">06 Feb at 17:12:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/964">https://github.com/qt4cg/qtspecs/issues/964</a></div><p>fn:has-attributes</p></div>
<div class="toot" id="closed-970"><h2>Issue #970 closed<span class="toot-id"> #closed-970</span></h2><div class="pubdate">06 Feb at 17:11:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/970">https://github.com/qt4cg/qtspecs/issues/970</a></div><p>XQFO: Context item → value</p></div>
<div class="toot" id="closed-971"><h2>Issue #971 closed<span class="toot-id"> #closed-971</span></h2><div class="pubdate">06 Feb at 17:11:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/971">https://github.com/qt4cg/qtspecs/pull/971</a></div><p>970 XQFO: Context item → value</p></div>
<div class="toot" id="created-1002"><h2>Issue #1002 created<span class="toot-id"> #created-1002</span></h2><div class="pubdate">06 Feb at 10:10:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1002">https://github.com/qt4cg/qtspecs/issues/1002</a></div><details><summary>Reinstate subsequence-before</summary><div class="markup"><p>There's a question on StackOverflow today:</p>
<p>https://stackoverflow.com/questions/77944304/</p>
<p>that makes me think dropping <code>subsequence-before</code> might have been a mistake (the replacement, <code>subsequence-where</code>, doesn't allow the end condition to be exclusive).</p>
<p>The question is how to find all the consecutive <code>list</code> elements that follow a given <code>para</code> element. That would be solved with <code>subsequence-before(following-sibling::*, fn{not(self::list)})</code>. Doing it with <code>subsequence-where</code> is much harder - you need to drop the final element in the result if it is not a <code>list</code> element, while also taking into account that the result might be empty.</p>
<p>I would like to propose reinstating subsequence-before; or perhaps inverting the predicate and naming it <code>subsequence-while()</code>, so it becomes <code>subsequence-while(following-sibling::*, fn{self::list})</code> assuming we accept the proposal in issue #919 to allow a callback predicate to use EBV.</p>
</div></details></div>
<div class="toot" id="created-1001"><h2>Issue #1001 created<span class="toot-id"> #created-1001</span></h2><div class="pubdate">05 Feb at 13:32:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1001">https://github.com/qt4cg/qtspecs/issues/1001</a></div><details><summary>fn:subsequence-where: equivalent `fn:slice` expression</summary><div class="markup"><p>I probably should have tagged #940 with »Request Changes«, as I believe the equivalent expression with <code>fn:slice</code> needs to be fixed (or removed if it turns out to be too quirky): https://github.com/qt4cg/qtspecs/pull/940#issuecomment-1919399348.</p>
</div></details></div>
<div class="toot" id="agenda-02-06"><h2>QT4 CG meeting 064 draft agenda<span class="toot-id"> #agenda-02-06</span></h2><div class="pubdate">05 Feb at 12:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/02-06">https://qt4cg.org/meeting/agenda/2024/02-06</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-940"><h2>Issue #940 closed<span class="toot-id"> #closed-940</span></h2><div class="pubdate">05 Feb at 12:19:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/940">https://github.com/qt4cg/qtspecs/pull/940</a></div><p>878 Add subsequence-where function</p></div>
<div class="toot" id="created-1000"><h2>Issue #1000 created<span class="toot-id"> #created-1000</span></h2><div class="pubdate">04 Feb at 08:34:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1000">https://github.com/qt4cg/qtspecs/issues/1000</a></div><details><summary>XQFO Code in the Rules sections</summary><div class="markup"><p>In #978, it’s being discussed what is the best language for presenting code in the Rules sections of the XQFO specification. Currently, XPath is used for compact equivalencies, for example…</p>
<pre><code class="language-xquery">(: array:size :)
count(array:members($array))

(: fn:remove :)
$input[not(position() = $positions)].
</code></pre>
<p>...while XQuery is used for more complex expressions, including function declarations, or when the XPath representation would be syntactically more complex. Examples:</p>
<pre><code class="language-xquery">(: fn:deep-equal :)
declare function equal-strings(
  $string1   as xs:string,
  $string2   as xs:string, 
  $collation as xs:string,
  $options   as map(*)
) as xs:boolean {
  let $n1 := if ($options?whitespace = "normalize"))
             then normalize-unicode(?, $options?normalization-form) 
             else identity#1
  let $n2 := if ($options?normalize-space)
             then normalize-space#1 
             else identity#1               
  return compare($n1($n2($string1)), $n1($n2($string2)), $collation) eq 0    
}

(: fn:index-where :)
for $item at $pos in $input
where $predicate($item, $pos)
return $pos

(: …flatten, fold-left, while-do, others :)
</code></pre>
<p>Finally, we have many cases in which XPath/XQuery code is omitted, either because the presented feature is basic enough, because the equivalent code would get too complicated, or (e.g., for <code>fn:doc</code>) because it does not provide means to express the feature.</p>
<p>We should strive for consistency and decide which language(s) the majority of us believes is the best choice…</p>
<ol>
<li>XPath &amp; XQuery (what we currently have)</li>
<li>XPath only</li>
<li>XPath, XQuery and XSLT (whatever seems most appropriate)</li>
<li>Other pseudocode</li>
</ol>
</div></details></div>
<div class="toot" id="created-999"><h2>Issue #999 created<span class="toot-id"> #created-999</span></h2><div class="pubdate">04 Feb at 04:00:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/999">https://github.com/qt4cg/qtspecs/issues/999</a></div><details><summary>regular expression addition - comments</summary><div class="markup"><p>The original Perl regular expression syntax allows comments with the x flag. They use # to introduce comments up to a newline.</p>
<p>Maybe we could support XPath-style comments in regular expressions, such as <code>(:#.......#:)</code> when the x flag is present?</p>
<p>Today i use <code>(?:comment: stuff here )?</code> but this requires that "stuff here" can be compiled into a regular expression!</p>
</div></details></div></div><p>See 1900
            more statuses in yearly archives.</p></article></main></body></html>