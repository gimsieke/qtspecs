<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-818"><h2>Issue #818 created<span class="toot-id"> #created-818</span></h2><div class="pubdate">07 Nov at 14:46:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/818">https://github.com/qt4cg/qtspecs/issues/818</a></div><details><summary>Foxpath integration</summary><div class="markup"><p>This is a placeholder issue for Syd Bauman’s <a href="https://app.slack.com/client/T011VK9115Z/C01GVC3JLHE">suggestion on Slack</a> to integrate Foxpath, or parts of it, in the standard.</p>
</div></details></div>
<div class="toot" id="created-817"><h2>Issue #817 created<span class="toot-id"> #created-817</span></h2><div class="pubdate">06 Nov at 20:31:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/817">https://github.com/qt4cg/qtspecs/issues/817</a></div><details><summary>EBV 4.0</summary><div class="markup"><p>Yes, I dare to question the semantics of effective boolean values. The reason is that I never learned to fully like them. It seems obvious where the rules come from, and why they have been reasonable in previous versions of the language. From today’s perspective, I think there’s really some need to simplify and unify the rules, and I believe it’s possible with little effort and without endangering backward compatibility (provided that we are willing to drop errors and return results).</p>
<p>Some examples for the somewhat strange nature of the current rules:</p>
<ul>
<li><code>boolean((&lt;_&gt;x&lt;/_&gt;, &lt;_&gt;y&lt;/_&gt;))</code> returns <code>true</code>, whereas <code>boolean(('x', 'y'))</code> raises an error.</li>
<li><code>boolean(xs:NCName('x'))</code> returns <code>true</code>, whereas <code>boolean(xs:QName('x'))</code> raises an error.</li>
<li><code>boolean((&lt;a/&gt;, 1))</code> and <code>boolean((1, &lt;a/&gt;))</code> may either return <code>true</code> or raise an error, depending on the implementation.</li>
</ul>
<p>I believe it will make much more sense to</p>
<ol>
<li>check all values of the input equally (in analogy to the existential semantics of general comparisons), and</li>
<li>use existence checks for more types instead of raising a clueless error.</li>
</ol>
<p>The semantics would be tidied up a lot, it could look like this…</p>
<pre><code class="language-xquery">declare function ebv($input as item()*) as xs:boolean {
  some $item in $input satisfies typeswitch($item) {
    case xs:untypedAtomic | xs:string | xs:anyURI  return $item != ''
    case xs:numeric                                return $item != 0
    case xs:boolean                                return $item
    default                                        return true()
  }
};
</code></pre>
<p>…or, if we include more types, like this:</p>
<pre><code class="language-xquery">declare function ebv($input as item()*) as xs:boolean {
  some $item in $input satisfies typeswitch($item) {
    case xs:untypedAtomic | xs:string | xs:anyURI  return $item != ''
    case xs:numeric                                return $item != 0
    case xs:boolean                                return $item
    case xs:base64Binary                           return $item != xs:base64Binary('')
    case xs:hexBinary                              return $item != xs:hexBinary('')
    case array(*)                                  return array:size($item) != 0
    case map(*)                                    return map:size($item) != 0
    default                                        return true()
  }
};
</code></pre>
<p>(If we believe that it’s too progressive to accept all types, we could still raise an error for some specific types… although I don’t think that anyone would benefit from this choice).</p>
<p>As a result, EBV checks could also be used to check more than one item:</p>
<pre><code class="language-xquery">(: true if at least one tokenized string is non-empty :)
if(tokenize('a/', '/')) then ...
(: true if at least one number is unequal to 0 :)
if($numbers) then ...
(: true if at least one Boolean is true :)
if(false(), true(), true()) then ...
</code></pre>
<p>Nothing would change for the classical EBV checks: <code>if($node/*)</code>, <code>if($x = $y)</code>, <code>if($ok)</code>, …</p>
<p>Regarding “1. check all values of the input equally”, one could argue that this might affect performance. I don’t actually think so: For node sequences, it will still be sufficient to retrieve only the first item. For mixed-type sequences, errors were raised in the past.</p>
<p>The resulting EBV could be easily combined with revised predicate semantics (#816).</p>
</div></details></div>
<div class="toot" id="created-816"><h2>Issue #816 created<span class="toot-id"> #created-816</span></h2><div class="pubdate">06 Nov at 15:43:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/816">https://github.com/qt4cg/qtspecs/issues/816</a></div><details><summary>Predicates: Support for numeric sequences </summary><div class="markup"><p>Predicates provide a compact syntax for positional access to sequences but only single numbers are supported.</p>
<p>It would be handy to allow <code>E[1, 2, 3]</code> (<code>E[3, 2, 1]</code>, <code>E[1 to 3]</code>, etc.) as a shortcut for <code>E[position() = (1, 2, 3)]</code> (MarkLogic offers this possibility, if I remember correctly). We shouldn’t change the EBV syntax, and we should continue raising an error  if the predicate sequence contains items other than numbers. Examples:</p>
<p>Expression | Result
--- | ---
<code>(1 to 5)[2, 3]</code> | <code>2, 3</code>
<code>(1 to 5)[3, 2]</code> | <code>2, 3</code>
<code>(1 to 5)[2 to 3]</code> | <code>2, 3</code>
<code>(1 to 5)[6, 'x']</code> | <em>error</em>
<code>(1 to 5)[1 to 5, 'x']</code> | <code>1, 2, 3, 4, 5</code> or <em>error</em> (up to the implementation, similar to sequences that start with a node)</p>
<p>I bet this has already been discussed in the past…</p>
</div></details></div>
<div class="toot" id="agenda-11-07"><h2>QT4 CG meeting 053 draft agenda<span class="toot-id"> #agenda-11-07</span></h2><div class="pubdate">06 Nov at 09:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/11-07">https://qt4cg.org/meeting/agenda/2023/11-07</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-538"><h2>Issue #538 closed<span class="toot-id"> #closed-538</span></h2><div class="pubdate">06 Nov at 09:21:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/538">https://github.com/qt4cg/qtspecs/pull/538</a></div><p>480: Attempt to allow xs:string to be 'promoted to' xs:anyURI</p></div>
<div class="toot" id="created-815"><h2>Pull request #815 created<span class="toot-id"> #created-815</span></h2><div class="pubdate">03 Nov at 18:15:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/815">https://github.com/qt4cg/qtspecs/pull/815</a></div><details><summary>130 Binary Promotion</summary><div class="markup"><p>Introduces mutual promotion between xs:base64Binary and xs:hexBinary. Fix #130.</p>
<p>Reorganises the material on type promotion. Supersedes PR #538.</p>
</div></details></div>
<div class="toot" id="created-814"><h2>Issue #814 created<span class="toot-id"> #created-814</span></h2><div class="pubdate">03 Nov at 08:53:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/814">https://github.com/qt4cg/qtspecs/issues/814</a></div><details><summary>XSLT: Rules for on-no-match="shallow-copy-all"</summary><div class="markup"><p>There are some details missing for the error handling of the built-in template processing for <code>shallow-copy-all</code>.</p>
<p>When the built-in template processes an array, the built-in rule constructs a value record for each member, and applies-templates to this value record, expecting the result to be a value record.</p>
<ul>
<li>It's not stated whether the "value record" is extensible, that is, whether it can contain fields other than "value"</li>
<li>No error code is given, and it's not identified explicitly as a type error.</li>
</ul>
<p>Similarly when a map is processed, the result is expected to be a key-value record, but the details of the error are not spelled out.</p>
</div></details></div>
<div class="toot" id="created-813"><h2>Pull request #813 created<span class="toot-id"> #created-813</span></h2><div class="pubdate">02 Nov at 18:47:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/813">https://github.com/qt4cg/qtspecs/pull/813</a></div><details><summary>809 Move fn:atomic-equal to section 14.2</summary><div class="markup"><p>Fix #809</p>
</div></details></div>
<div class="toot" id="created-812"><h2>Issue #812 created<span class="toot-id"> #created-812</span></h2><div class="pubdate">02 Nov at 10:59:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/812">https://github.com/qt4cg/qtspecs/issues/812</a></div><details><summary>Coercion Rules: Unifications</summary><div class="markup"><p>It has always been a challenge to teach the difference between a conversion, coercion, promotion, casts and treats. Of course, we cannot get rid of the complexity, but I think it’s a good step forward that the conversion rules have recently been unified in the specification.</p>
<p>Maybe we can push it even further. I would suggest…</p>
<ol>
<li>renaming “Coercion Rules” to “Type Coercion” (…most other sections contain rules as well),</li>
<li>making “Function Coercion” a subsection of “Type Coercion”, and</li>
<li>making “Type Promotion” another subsection of “Type Coercion”.</li>
</ol>
<p>I’m the wrong person to decide this, but maybe the full section can be moved to the Appendix, as it’s referenced all around the documents.</p>
</div></details></div>
<div class="toot" id="closed-811"><h2>Issue #811 closed<span class="toot-id"> #closed-811</span></h2><div class="pubdate">01 Nov at 19:16:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/811">https://github.com/qt4cg/qtspecs/pull/811</a></div><p>Highlight changed functions in the ToCs and headings</p></div>
<div class="toot" id="created-811"><h2>Pull request #811 created<span class="toot-id"> #created-811</span></h2><div class="pubdate">01 Nov at 19:16:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/811">https://github.com/qt4cg/qtspecs/pull/811</a></div><details><summary>Highlight changed functions in the ToCs and headings</summary><div class="markup"><p>Obviously, I should have done icons for functions that have changed as well. So now I have. I'm not convinced that the 🆙 emoji is sufficiently different from the 🆕 emoji. Maybe I should try to make them different colors or something. But it's a start.</p>
</div></details></div>
<div class="toot" id="closed-810"><h2>Issue #810 closed<span class="toot-id"> #closed-810</span></h2><div class="pubdate">01 Nov at 16:23:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/810">https://github.com/qt4cg/qtspecs/pull/810</a></div><p>Fix line endings</p></div>
<div class="toot" id="created-810"><h2>Pull request #810 created<span class="toot-id"> #created-810</span></h2><div class="pubdate">01 Nov at 16:23:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/810">https://github.com/qt4cg/qtspecs/pull/810</a></div><details><summary>Fix line endings</summary><div class="markup"><p>This PR adds a <code>.gitattributes</code> file that identifies some files explicitly as text files (and others explicitly as binary files).</p>
<p>After this PR is merged, I believe it will be the case that end-of-line handling will be correct on a per-platform basis. That is, if a Windows user checks out the repository, all the files will have PC-style line endings (CR followed by LF). If a Mac or Unix user checks out the repository, all the files will have Unix-style line endings (LF).</p>
<p>Commits should "do the right thing" to preserve the line endings appropriately.</p>
<p>Fingers crossed!</p>
</div></details></div>
<div class="toot" id="created-809"><h2>Issue #809 created<span class="toot-id"> #created-809</span></h2><div class="pubdate">01 Nov at 14:35:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/809">https://github.com/qt4cg/qtspecs/issues/809</a></div><details><summary>Placement of fn:atomic-equal in the specification</summary><div class="markup"><p>On the XML.com slack, Pieter Lamers observes that <code>fn:atomic-equal</code> looks a little out of place in chapter 18 with the other map functions.</p>
</div></details></div>
<div class="toot" id="closed-808"><h2>Issue #808 closed<span class="toot-id"> #closed-808</span></h2><div class="pubdate">01 Nov at 13:22:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/808">https://github.com/qt4cg/qtspecs/pull/808</a></div><p>Tweaks to highlight new functions in F&amp;O</p></div>
<div class="toot" id="created-808"><h2>Pull request #808 created<span class="toot-id"> #created-808</span></h2><div class="pubdate">01 Nov at 13:21:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/808">https://github.com/qt4cg/qtspecs/pull/808</a></div><details><summary>Tweaks to highlight new functions in F&amp;O</summary><div class="markup"><p>Following a discussion on the XML.com slack, this is a little lunchtime hackery...</p>
<p>Any function listed in the <code>new-functions</code> section of the changes appendix or identified with an <code>ednote</code> that contains the string <code>New in 4.0</code> will be marked as 🆕 in the specification. The 🆕 occurs in the ToC, the drop-down function list, and to the left of the section title.</p>
<p>(I'm just going to merge this as it has no spec changes and the effect won't be visible in the PR anyway.)</p>
</div></details></div>
<div class="toot" id="created-807"><h2>Pull request #807 created<span class="toot-id"> #created-807</span></h2><div class="pubdate">01 Nov at 10:40:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/807">https://github.com/qt4cg/qtspecs/pull/807</a></div><details><summary>789 Serialization terminology [editorial]</summary><div class="markup"><p>"Instance of the data model" generally becomes "input tree"</p>
<p>An instance of the data model used to hold serialization parameters is now referred to as a "parameter document".</p>
<p>Fix #789</p>
</div></details></div>
<div class="toot" id="created-806"><h2>Pull request #806 created<span class="toot-id"> #created-806</span></h2><div class="pubdate">01 Nov at 09:43:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/806">https://github.com/qt4cg/qtspecs/pull/806</a></div><details><summary>566 A few minor fixes for parse-uri</summary><div class="markup"><p>As CG observes in <a href="https://github.com/qt4cg/qtspecs/issues/566#issuecomment-1787666119">issue 566</a>, there are still a couple of small problems with <code>fn:parse-uri()</code>.</p>
<ol>
<li>The regular expressions used to parse the fragment identifier and query are incorrect. The URI specification allows <code>?</code> to appear in a query string and <code>#</code> to appear in a fragment identifier, so the expressions have been rewritten to match everything after the first <code>?</code> and <code>#</code>, respectively, even if they contain additional <code>?</code> or <code>#</code> characters.</li>
<li>The description of how to interpret the regular expression for parsing a Windows file path preceded by slashes was incorrect. It caused the leading "/" to be lost. That's been corrected.</li>
</ol>
</div></details></div>
<div class="toot" id="closed-805"><h2>Issue #805 closed<span class="toot-id"> #closed-805</span></h2><div class="pubdate">01 Nov at 08:42:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/805">https://github.com/qt4cg/qtspecs/pull/805</a></div><p>Improve formatting of FO examples</p></div>
<div class="toot" id="created-805"><h2>Pull request #805 created<span class="toot-id"> #created-805</span></h2><div class="pubdate">31 Oct at 22:02:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/805">https://github.com/qt4cg/qtspecs/pull/805</a></div><details><summary>Improve formatting of FO examples</summary><div class="markup"><p>Stylesheet changes to improve the formatting of F&amp;O examples. (But they still aren't perfect...!)</p>
<ol>
<li>
<p>Variables used by the examples are pulled out under a separate heading.</p>
</li>
<li>
<p>If any examples include long lines, then single-column ("wide") format is used automatically.</p>
</li>
<li>
<p>In two-column layout, if the left-hand column uses "eg" format, then so does the right-hand column. (But it would be nice to get rid of the grey background for this case).</p>
</li>
</ol>
</div></details></div>
<div class="toot" id="created-804"><h2>Pull request #804 created<span class="toot-id"> #created-804</span></h2><div class="pubdate">31 Oct at 21:32:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/804">https://github.com/qt4cg/qtspecs/pull/804</a></div><details><summary>Minor edits, XQFO chh. 7, 8</summary><div class="markup"><p>In addition to a minor typo, note the following:</p>
<ul>
<li>rearrangement of a rule for <code>$input</code> (the original syntax, mixing types and derived types, confused me)</li>
<li>examples in <code>X-from-Y</code> duration functions to help illustrate the problem when mixing the two components of a duration.</li>
</ul>
</div></details></div>
<div class="toot" id="closed-753"><h2>Issue #753 closed<span class="toot-id"> #closed-753</span></h2><div class="pubdate">31 Oct at 19:22:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/753">https://github.com/qt4cg/qtspecs/pull/753</a></div><p>65: Allow xmlns="xxx" to NOT change the default namespace for NameTests</p></div>
<div class="toot" id="minutes-10-31"><h2>QT4 CG meeting 052 draft minutes<span class="toot-id"> #minutes-10-31</span></h2><div class="pubdate">31 Oct at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/10-31">https://qt4cg.org/meeting/minutes/2023/10-31</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-770"><h2>Issue #770 closed<span class="toot-id"> #closed-770</span></h2><div class="pubdate">31 Oct at 17:12:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/770">https://github.com/qt4cg/qtspecs/pull/770</a></div><p>566: Use fn:decode-from-uri in fn:parse-uri</p></div>
<div class="toot" id="closed-469"><h2>Issue #469 closed<span class="toot-id"> #closed-469</span></h2><div class="pubdate">31 Oct at 17:11:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/469">https://github.com/qt4cg/qtspecs/issues/469</a></div><p>array:of-members, map:of-pairs: Signatures, Examples</p></div>
<div class="toot" id="closed-782"><h2>Issue #782 closed<span class="toot-id"> #closed-782</span></h2><div class="pubdate">31 Oct at 17:11:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/782">https://github.com/qt4cg/qtspecs/pull/782</a></div><p>469: array:of-members, map:of-pairs: Signatures, Examples</p></div>
<div class="toot" id="closed-778"><h2>Issue #778 closed<span class="toot-id"> #closed-778</span></h2><div class="pubdate">31 Oct at 17:11:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/778">https://github.com/qt4cg/qtspecs/pull/778</a></div><p>XQFO edits 5.4-5.6</p></div>
<div class="toot" id="closed-784"><h2>Issue #784 closed<span class="toot-id"> #closed-784</span></h2><div class="pubdate">31 Oct at 17:11:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/784">https://github.com/qt4cg/qtspecs/pull/784</a></div><p>fos xsd</p></div>
<div class="toot" id="closed-785"><h2>Issue #785 closed<span class="toot-id"> #closed-785</span></h2><div class="pubdate">31 Oct at 17:11:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/785">https://github.com/qt4cg/qtspecs/pull/785</a></div><p>777: updated history</p></div>
<div class="toot" id="closed-786"><h2>Issue #786 closed<span class="toot-id"> #closed-786</span></h2><div class="pubdate">31 Oct at 17:10:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/786">https://github.com/qt4cg/qtspecs/pull/786</a></div><p>695: Added xref to fn:slice()</p></div></div><p>See 1496
            more statuses in yearly archives.</p></article></main></body></html>