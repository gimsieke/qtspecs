<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="closed-1093"><h2>Issue #1093 closed<span class="toot-id"> #closed-1093</span></h2><div class="pubdate">09 Apr at 16:32:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1093">https://github.com/qt4cg/qtspecs/pull/1093</a></div><p>1091 Add fn:collation function</p></div>
<div class="toot" id="closed-1091"><h2>Issue #1091 closed<span class="toot-id"> #closed-1091</span></h2><div class="pubdate">09 Apr at 16:32:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1091">https://github.com/qt4cg/qtspecs/issues/1091</a></div><p>Convenience function to construct a collation URI</p></div>
<div class="toot" id="closed-99"><h2>Issue #99 closed<span class="toot-id"> #closed-99</span></h2><div class="pubdate">09 Apr at 16:29:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/99">https://github.com/qt4cg/qtspecs/issues/99</a></div><p>Functions that determine equality of two sequences or equality of two arrays</p></div>
<div class="toot" id="closed-1063"><h2>Issue #1063 closed<span class="toot-id"> #closed-1063</span></h2><div class="pubdate">09 Apr at 16:29:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1063">https://github.com/qt4cg/qtspecs/issues/1063</a></div><p>deep-equal() - option to compare functions liberally</p></div>
<div class="toot" id="closed-1120"><h2>Issue #1120 closed<span class="toot-id"> #closed-1120</span></h2><div class="pubdate">09 Apr at 16:29:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1120">https://github.com/qt4cg/qtspecs/pull/1120</a></div><p>99v2 deep equal with callback</p></div>
<div class="toot" id="closed-122"><h2>Issue #122 closed<span class="toot-id"> #closed-122</span></h2><div class="pubdate">09 Apr at 16:26:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/122">https://github.com/qt4cg/qtspecs/issues/122</a></div><p>Support general union sequence types</p></div>
<div class="toot" id="closed-1132"><h2>Issue #1132 closed<span class="toot-id"> #closed-1132</span></h2><div class="pubdate">09 Apr at 16:26:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1132">https://github.com/qt4cg/qtspecs/pull/1132</a></div><p>122 Choice item types (generalizing local union types)</p></div>
<div class="toot" id="closed-1112"><h2>Issue #1112 closed<span class="toot-id"> #closed-1112</span></h2><div class="pubdate">09 Apr at 16:23:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1112">https://github.com/qt4cg/qtspecs/pull/1112</a></div><p>1110-partial New error codes</p></div>
<div class="toot" id="closed-1118"><h2>Issue #1118 closed<span class="toot-id"> #closed-1118</span></h2><div class="pubdate">09 Apr at 16:20:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1118">https://github.com/qt4cg/qtspecs/issues/1118</a></div><p>Use new map{} syntax in adaptive output method</p></div>
<div class="toot" id="closed-1123"><h2>Issue #1123 closed<span class="toot-id"> #closed-1123</span></h2><div class="pubdate">09 Apr at 16:20:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1123">https://github.com/qt4cg/qtspecs/pull/1123</a></div><p>1118 Drop the "map" keyword in adaptive serialization output</p></div>
<div class="toot" id="closed-1128"><h2>Issue #1128 closed<span class="toot-id"> #closed-1128</span></h2><div class="pubdate">09 Apr at 16:17:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1128">https://github.com/qt4cg/qtspecs/pull/1128</a></div><p>1020 Further notes on the consequences of function coercion</p></div>
<div class="toot" id="closed-1133"><h2>Issue #1133 closed<span class="toot-id"> #closed-1133</span></h2><div class="pubdate">09 Apr at 16:14:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1133">https://github.com/qt4cg/qtspecs/issues/1133</a></div><p>fn:filter why predicate as map(*)</p></div>
<div class="toot" id="closed-1134"><h2>Issue #1134 closed<span class="toot-id"> #closed-1134</span></h2><div class="pubdate">09 Apr at 16:14:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1134">https://github.com/qt4cg/qtspecs/pull/1134</a></div><p>1133 Correct map:filter callback signature</p></div>
<div class="toot" id="created-1139"><h2>Issue #1139 created<span class="toot-id"> #created-1139</span></h2><div class="pubdate">09 Apr at 11:00:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1139">https://github.com/qt4cg/qtspecs/issues/1139</a></div><details><summary>let clause: function coercion</summary><div class="markup"><p>@michaelhkay I should be careful (as I regularly miss changes and additions in the 4.0 drafts), but it seems that the application of the function coercion rules for typed <code>let</code> clauses (https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-binding-rules) is not mentioned in the list of substantive changes at the end of the document. Would it be useful to add it, or does this change fall into a different category?</p>
</div></details></div>
<div class="toot" id="agenda-04-09"><h2>QT4 CG meeting 072 draft agenda<span class="toot-id"> #agenda-04-09</span></h2><div class="pubdate">08 Apr at 11:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/04-09">https://qt4cg.org/meeting/agenda/2024/04-09</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1138"><h2>Issue #1138 created<span class="toot-id"> #created-1138</span></h2><div class="pubdate">07 Apr at 23:01:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1138">https://github.com/qt4cg/qtspecs/issues/1138</a></div><details><summary>format-number arguments</summary><div class="markup"><p>Given the availability of choice item types, I propose that we merge the <code>format</code> and <code>format-name</code> parameters of <code>fn:format-number</code> into a single parameter of type <code>(xs:string | xs:QName | map(*))</code>. This seems a better design when parameters are mutually exclusive and perform a related role.</p>
</div></details></div>
<div class="toot" id="created-1137"><h2>Pull request #1137 created<span class="toot-id"> #created-1137</span></h2><div class="pubdate">07 Apr at 15:27:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1137">https://github.com/qt4cg/qtspecs/pull/1137</a></div><details><summary>161 Variadic functions</summary><div class="markup"><p>Fix #161</p>
<p>This proposal attempts to do the minimum necessary to allow the variable-arity nature of the fn:concat function to be reproduced for other functions including user-defined functions. The idea is that fn:concat should no longer be treated as a special case.</p>
<p>The proposal is deliberately less ambitious than some of the ideas discussed in the referenced issue. It's generally easier to get something into the language if we take smaller steps.</p>
<p>For an overview see section 4.5.3 of the XQuery spec.</p>
</div></details></div>
<div class="toot" id="created-1136"><h2>Issue #1136 created<span class="toot-id"> #created-1136</span></h2><div class="pubdate">07 Apr at 11:34:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1136">https://github.com/qt4cg/qtspecs/issues/1136</a></div><details><summary>Defining names for parameters on typed function tests</summary><div class="markup"><p>When defining the type of a higher-order function parameter, you cannot currently specify the names of the parameters of that higher-order function.</p>
<p>Allowing this can be useful for variou reasons:</p>
<ol>
<li>documenting the parameter names in the function signature -- this makes it clear looking at the function in an IDE, etc. what the parameters are;</li>
<li>making the specs clearer by referring to the parameters by name;</li>
<li>allowing a processor to provide better error messages by referring to the parameters names, e.g. when there is a type conversion error;</li>
<li>allowing a user to reference the parameter by name if we enable this to resolve named keyword argments (which is currently being discussed in #1114).</li>
</ol>
<p>Thus, you could declare e.g. <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-index-where">index-where</a> like this:</p>
<pre><code class="language-xquery">declare function fn:index-where(
  $input as&nbsp;item()*,
  $predicate as&nbsp;function(
    $item as item(),
    $position as xs:integer
  ) as xs:boolean
)&nbsp;as&nbsp;xs:integer* {
  (: ... :)
};
</code></pre>
</div></details></div>
<div class="toot" id="created-1135"><h2>Issue #1135 created<span class="toot-id"> #created-1135</span></h2><div class="pubdate">06 Apr at 12:08:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1135">https://github.com/qt4cg/qtspecs/issues/1135</a></div><details><summary>Definition of focus functions</summary><div class="markup"><p>ยง5.4.2.6 states</p>
<blockquote>
<p>The expression function { EXPR } (or fn { EXPR }) is a syntactic shorthand for the expression function($Z as item()<em>) as item()</em> { $Z ! (EXPR) }, where $Z is a variable name that is otherwise unused. Note that the function body (EXPR) is evaluated with a [fixed focus]: the context position and context size will always be 1 (one).</p>
</blockquote>
<p>This is no longer true now since generalization of the context item to context value. EXPR is evaluated once with the entire sequence $Z as the context value, it is not evaluated once for each item in $Z.</p>
<p>We have no direct way of expressing this in the absence of a resolution to issue #755.</p>
</div></details></div>
<div class="toot" id="created-1134"><h2>Pull request #1134 created<span class="toot-id"> #created-1134</span></h2><div class="pubdate">05 Apr at 15:45:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1134">https://github.com/qt4cg/qtspecs/pull/1134</a></div><details><summary>1133 Correct map:filter callback signature</summary><div class="markup"><p>Fix #1133</p>
</div></details></div>
<div class="toot" id="created-1133"><h2>Issue #1133 created<span class="toot-id"> #created-1133</span></h2><div class="pubdate">05 Apr at 15:23:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1133">https://github.com/qt4cg/qtspecs/issues/1133</a></div><details><summary>fn:filter why predicate as map(*)</summary><div class="markup"><p><code>fn:filter</code> is defined like this :</p>
<pre><code>map:filter(
  $map as map(*),	
  $predicate as function(xs:anyAtomicType, item()*) as map(*)	
) as map(*)
</code></pre>
<p>Why the predicate function is not returning a <code>xs:boolean</code> ?</p>
</div></details></div>
<div class="toot" id="created-1132"><h2>Pull request #1132 created<span class="toot-id"> #created-1132</span></h2><div class="pubdate">05 Apr at 11:26:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1132">https://github.com/qt4cg/qtspecs/pull/1132</a></div><details><summary>122 Choice item types (generalizing local union types)</summary><div class="markup"><p>Fix #122.</p>
<p>Allows the new item type syntax <code>(A | B)</code>, replacing <code>union(A, B)</code>; the alternatives are no longer restricted to be atomic types. The choice item type is a generalized atomic type if and only if all the alternatives are generalized atomic types.</p>
<p>Note that #122 also proposed unions of sequence types. While that is also viable, I found that unions of item types handled pretty well all practical use cases, and it seems excessive to offer both. Unions of item types proved (a) more useful (b) easier to combine with the existing feature of local union types, and (c) easier to handle in the coercion rules. Providing both is also tricky to handle in the grammar.</p>
</div></details></div>
<div class="toot" id="closed-1044"><h2>Issue #1044 closed<span class="toot-id"> #closed-1044</span></h2><div class="pubdate">04 Apr at 08:51:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1044">https://github.com/qt4cg/qtspecs/issues/1044</a></div><p>CSV row delimiter - allowed values</p></div>
<div class="toot" id="closed-1104"><h2>Issue #1104 closed<span class="toot-id"> #closed-1104</span></h2><div class="pubdate">04 Apr at 08:49:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1104">https://github.com/qt4cg/qtspecs/issues/1104</a></div><p>TypeTest expressions</p></div>
<div class="toot" id="created-1131"><h2>Pull request #1131 created<span class="toot-id"> #created-1131</span></h2><div class="pubdate">31 Mar at 22:29:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1131">https://github.com/qt4cg/qtspecs/pull/1131</a></div><details><summary>796,231 - Extend XPath for and let expressions</summary><div class="markup"><p>Fix #796
Fix #231</p>
<p>Extends "for" and "let" expressions in XPath to allow a larger subset of XQuery FLWOR expression syntax. Specifically:</p>
<ul>
<li>Allow positional variables (<code>at $pos</code>)</li>
<li>Allow type declarations (<code>as type</code>)</li>
<li>Allow let/for clauses to be mixed without an intervening <code>return</code>.</li>
</ul>
</div></details></div>
<div class="toot" id="closed-1122"><h2>Issue #1122 closed<span class="toot-id"> #closed-1122</span></h2><div class="pubdate">28 Mar at 14:10:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1122">https://github.com/qt4cg/qtspecs/issues/1122</a></div><p>Rendering xspecref</p></div>
<div class="toot" id="closed-1130"><h2>Issue #1130 closed<span class="toot-id"> #closed-1130</span></h2><div class="pubdate">28 Mar at 14:10:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1130">https://github.com/qt4cg/qtspecs/pull/1130</a></div><p>Fix xspecref to production</p></div>
<div class="toot" id="created-1130"><h2>Pull request #1130 created<span class="toot-id"> #created-1130</span></h2><div class="pubdate">28 Mar at 14:10:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1130">https://github.com/qt4cg/qtspecs/pull/1130</a></div><details><summary>Fix xspecref to production</summary><div class="markup"><p>Fix #1122</p>
<p>This is (apparently) the first use of an <code>xspecref</code> to a production.</p>
</div></details></div>
<div class="toot" id="closed-1129"><h2>Issue #1129 closed<span class="toot-id"> #closed-1129</span></h2><div class="pubdate">28 Mar at 13:22:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1129">https://github.com/qt4cg/qtspecs/pull/1129</a></div><p>Fix Norm's affiliation</p></div>
<div class="toot" id="created-1129"><h2>Pull request #1129 created<span class="toot-id"> #created-1129</span></h2><div class="pubdate">28 Mar at 13:22:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1129">https://github.com/qt4cg/qtspecs/pull/1129</a></div><details><summary>Fix Norm's affiliation</summary><div class="markup"><p>Someone preparing a QT4 status talk for a conference observed that my affiliation on the data model spec was out-of-date.</p>
<p>I'm just going to merge this one without any fanfare.</p>
</div></details></div></div><p>See 2210
            more statuses in yearly archives.</p></article></main></body></html>