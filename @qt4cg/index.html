<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="closed-1019"><h2>Issue #1019 closed<span class="toot-id"> #closed-1019</span></h2><div class="pubdate">26 Mar at 17:26:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1019">https://github.com/qt4cg/qtspecs/issues/1019</a></div><p>XQFO: Unknown option parameters</p></div>
<div class="toot" id="closed-1059"><h2>Issue #1059 closed<span class="toot-id"> #closed-1059</span></h2><div class="pubdate">26 Mar at 17:26:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1059">https://github.com/qt4cg/qtspecs/pull/1059</a></div><p>1019 XQFO: Unknown option parameters</p></div>
<div class="toot" id="closed-1077"><h2>Issue #1077 closed<span class="toot-id"> #closed-1077</span></h2><div class="pubdate">26 Mar at 17:23:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1077">https://github.com/qt4cg/qtspecs/pull/1077</a></div><p>Correct the status of new language features</p></div>
<div class="toot" id="closed-1074"><h2>Issue #1074 closed<span class="toot-id"> #closed-1074</span></h2><div class="pubdate">26 Mar at 17:20:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1074">https://github.com/qt4cg/qtspecs/pull/1074</a></div><p>Confirm status of provisional functions</p></div>
<div class="toot" id="closed-1097"><h2>Issue #1097 closed<span class="toot-id"> #closed-1097</span></h2><div class="pubdate">26 Mar at 17:17:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1097">https://github.com/qt4cg/qtspecs/pull/1097</a></div><p>566-partial Fix colon issue in URI parsing</p></div>
<div class="toot" id="closed-1107"><h2>Issue #1107 closed<span class="toot-id"> #closed-1107</span></h2><div class="pubdate">26 Mar at 17:14:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1107">https://github.com/qt4cg/qtspecs/issues/1107</a></div><p>Grammar discrepancy on fn:pin() examples</p></div>
<div class="toot" id="closed-1060"><h2>Issue #1060 closed<span class="toot-id"> #closed-1060</span></h2><div class="pubdate">26 Mar at 17:14:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1060">https://github.com/qt4cg/qtspecs/issues/1060</a></div><p>Formatting XPath/XQuery</p></div>
<div class="toot" id="closed-1078"><h2>Issue #1078 closed<span class="toot-id"> #closed-1078</span></h2><div class="pubdate">26 Mar at 17:14:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1078">https://github.com/qt4cg/qtspecs/pull/1078</a></div><p>1060 Formatting XPath/XQuery</p></div>
<div class="toot" id="closed-1076"><h2>Issue #1076 closed<span class="toot-id"> #closed-1076</span></h2><div class="pubdate">26 Mar at 17:10:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1076">https://github.com/qt4cg/qtspecs/pull/1076</a></div><p>1075 Drop 'with' expressions</p></div>
<div class="toot" id="closed-1075"><h2>Issue #1075 closed<span class="toot-id"> #closed-1075</span></h2><div class="pubdate">26 Mar at 17:10:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1075">https://github.com/qt4cg/qtspecs/issues/1075</a></div><p>Drop "with" expressions</p></div>
<div class="toot" id="closed-1109"><h2>Issue #1109 closed<span class="toot-id"> #closed-1109</span></h2><div class="pubdate">26 Mar at 02:17:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1109">https://github.com/qt4cg/qtspecs/issues/1109</a></div><p>Discrepancies in fn:hash() published examples</p></div>
<div class="toot" id="created-1117"><h2>Pull request #1117 created<span class="toot-id"> #created-1117</span></h2><div class="pubdate">26 Mar at 00:04:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1117">https://github.com/qt4cg/qtspecs/pull/1117</a></div><details><summary>1116 Add options param to unparsed-text</summary><div class="markup"><p>Reverts the change to unparsed-text and unparsed-text-lines so they no longer normalise line endings by default.</p>
<p>Instead an options parameter is added to select this as a non-default behaviour.</p>
<p>At the same time, we add an option to control whether the function is deterministic (that is, returns the same content if called repeatedly with the same URI). In 3.1 the spec stated that implementations might provide an option to do this, but did not provide an interoperable way of setting this option. For compatibility, the default is still to be deterministic.</p>
<p>Fix #1116</p>
</div></details></div>
<div class="toot" id="created-1116"><h2>Issue #1116 created<span class="toot-id"> #created-1116</span></h2><div class="pubdate">25 Mar at 15:43:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1116">https://github.com/qt4cg/qtspecs/issues/1116</a></div><details><summary>unparsed-text() end-of-line normalization</summary><div class="markup"><p>I'm uncomfortable with the backwards-incompatible change we have made to <code>unparsed-text()</code> which now normalizes line endings.</p>
<p>I think it's unlikely that there are many users who care about the difference between LF and CRLF line endings and want to preserve that difference; but I think it's very likely that there are users who have written application code that expects the line ending to be CRLF, where the application will break if the line ending changes.</p>
<p>I would be more comfortable with the change if there were an option setting to revert to the 3.1 behaviour. But my preference would be to add the option and keep the default compatible with 3.1.</p>
<p>Also, for users who want to treat the file as a sequence of lines, we already introduced <code>unparsed-text-lines()</code> so they don't have to worry about different representations of line endings.</p>
</div></details></div>
<div class="toot" id="agenda-03-26"><h2>QT4 CG meeting 071 draft agenda<span class="toot-id"> #agenda-03-26</span></h2><div class="pubdate">25 Mar at 14:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/03-26">https://qt4cg.org/meeting/agenda/2024/03-26</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1115"><h2>Issue #1115 created<span class="toot-id"> #created-1115</span></h2><div class="pubdate">25 Mar at 14:11:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1115">https://github.com/qt4cg/qtspecs/issues/1115</a></div><details><summary>XSLT - ability to call a function from xslt (not just xpath)</summary><div class="markup"><p>I don't think this is possible in 3.0 and I don't think its yet suggested (whats the easiest way to find out)....if it has then close.</p>
<p>I wonder in passing many times why I ever use</p>
<p><code>&lt;xsl:call-template.../&gt;</code></p>
<p>when functions exist?
I never use the data context inside a named template...feels dangerous.</p>
<p>So the only reason I do it, is because I can embed literal XML elements e.g.</p>
<pre><code>&lt;xsl:call-template name='foo'&gt;
   &lt;xsl:with-param name='barElement' as='element(barElement)'&gt;
     &lt;barElement/&gt;
   &lt;xsl:with-param/&gt;


</code></pre>
<p>but if I could do</p>
<pre><code>&lt;xsl:call-function name='foo'&gt;
   &lt;xsl:with-param name='barElement' as='element(barElement)'&gt;
     &lt;barElement/&gt;
   &lt;xsl:with-param/&gt;

</code></pre>
<p>then i would use functions always in preference to named templates.</p>
<p>motivation</p>
<ul>
<li>language simplification (though you'd have to keep named templates for legacy)</li>
<li>you explicitly remove the data context (which I think is error prone in practice).</li>
<li>if people used functions in preference to named templates then you would be able to use more of your code directly from x-path expressions.</li>
</ul>
</div></details></div>
<div class="toot" id="created-1114"><h2>Issue #1114 created<span class="toot-id"> #created-1114</span></h2><div class="pubdate">25 Mar at 13:32:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1114">https://github.com/qt4cg/qtspecs/issues/1114</a></div><details><summary>Partial function application: Keywords and placeholders</summary><div class="markup"><p>The test suite contains test cases – <a href="https://github.com/qt4cg/qt4tests/blob/e633f879db71b4bac91ac304fa13fd28619d0e1b/prod/FunctionCall.xml#L1178-L1240">FunctionCall-414 … FunctionCall-417</a> – for partially applied functions with keywords and placeholders:</p>
<pre><code class="language-xml">&lt;test-case name="FunctionCall-414" covers-40="keywords"&gt;
  &lt;description&gt;Use of keyword arguments with placeholders on user-defined function&lt;/description&gt;
  &lt;created by="Michael Kay" on="2023-03-13"/&gt;
  &lt;modified by="Michael Kay" on="2023-12-13" change="do what the description says"/&gt;
  &lt;dependency type="spec" value="XQ40+"/&gt;
  &lt;test&gt;&lt;![CDATA[
     declare function local:diff ($s as xs:integer, $t as xs:integer) as xs:integer { 
        $s - $t
     };  
     local:diff(s := 12, t := ?)(8)
  ]]&gt;&lt;/test&gt;
  &lt;result&gt;
    &lt;assert-eq&gt;4&lt;/assert-eq&gt;
  &lt;/result&gt;
&lt;/test-case&gt;
...
</code></pre>
<p>I didn’t find information on this feature combination in the spec; is it already covered? If yes, is it also possible to partially apply function items with keywords?…</p>
<pre><code class="language-xquery">declare function local:f($s, $t) { $s - $t };
local:f#2(s := 12, t := ?)(8),
local:f(?, ?)(s := 12, t := ?)(8)
...
</code></pre>
<p>If 2x yes, I can try to add some more test cases (for example, I assume that <code>$f(t := 12, ?)</code> is illegal, as arguments without keywords probably need to be placed first).</p>
</div></details></div>
<div class="toot" id="created-1113"><h2>Issue #1113 created<span class="toot-id"> #created-1113</span></h2><div class="pubdate">25 Mar at 10:40:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1113">https://github.com/qt4cg/qtspecs/issues/1113</a></div><details><summary>Misleading rendering BiDi text in parse-integer example</summary><div class="markup"><p>In fuction index one example of fn:parse-integer() is using parameters containing arabic letters. This leads to wrong display of parameters as 1st and 2nd parameter look like switched because browser renders both of them from left to right. It is this example:</p>
<pre><code>&lt;fos:test&gt;
               &lt;fos:expression&gt;&lt;eg&gt;translate('٢٠٢٣', '٠١٢٣٤٥٦٧٨٩', '0123456789')
=&gt; parse-integer()&lt;/eg&gt;&lt;/fos:expression&gt;
               &lt;fos:result&gt;2023&lt;/fos:result&gt;
            &lt;/fos:test&gt;
</code></pre>
<p>This looks confusing. I don't know what will be the best fix. Maybe storing '٠١٢٣٤٥٦٧٨٩' into variable would help and prevent the issue.</p>
</div></details></div>
<div class="toot" id="created-1112"><h2>Pull request #1112 created<span class="toot-id"> #created-1112</span></h2><div class="pubdate">25 Mar at 08:15:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1112">https://github.com/qt4cg/qtspecs/pull/1112</a></div><details><summary>1110-partial New error codes</summary><div class="markup"><p>Issue: #1110.</p>
<ul>
<li><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview-diff.html#func-hash">fn:hash</a>: I added <code>FOHA0001</code> as error code.</li>
<li><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview-diff.html#func-op">fn:op</a>: I used <code>XPTY0004</code> as error code, as the allowed operators could also be defined as string enumeration.</li>
<li><a href="https://qt4cg.org/specifications/xquery-40/xquery-40-diff.html#id-map-test">XQuery, Map Test</a>: Not included in this PR.</li>
</ul>
</div></details></div>
<div class="toot" id="created-1111"><h2>Issue #1111 created<span class="toot-id"> #created-1111</span></h2><div class="pubdate">24 Mar at 08:40:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1111">https://github.com/qt4cg/qtspecs/issues/1111</a></div><details><summary>xsl:pipeline</summary><div class="markup"><p>In XSLT 3.0 it is not possible to write a multi-phase streaming transformation, where two are more phases each operate in streaming mode and the result of one phase is piped into the next. Such transformations can only be written as multiple stylesheets, coordinated by some calling application.</p>
<p>A non-streamed multiphase transformation typically uses variables for the intermediate results:</p>
<pre><code>&lt;xsl:variable name="temp1"&gt;
   &lt;xsl:apply-templates mode="phase1"/&gt;
&lt;/xsl:variable&gt;
&lt;xsl:variable name="temp2"&gt;
   &lt;xsl:apply-templates select="$temp1" mode="phase2"/&gt;
&lt;/xsl:variable&gt;
&lt;xsl:apply-templates select="$temp2"/&gt;
</code></pre>
<p>This cannot be streamed because variables cannot hold streamed nodes.</p>
<p>The idea is to allow this to be written:</p>
<pre><code>&lt;xsl:pipeline streamable="yes"&gt;
   &lt;xsl:apply-templates mode="phase1"/&gt;
   &lt;xsl:apply-templates select="." mode="phase2"/&gt;
   &lt;xsl:apply-templates select="." mode="phase3"/&gt;
&lt;/xsl:pipeline&gt;
</code></pre>
<p>where each instruction in the pipeline takes as its context value the result of the previous instruction.</p>
<p>Even when no streaming is involved, the xsl:pipeline instruction brings usability benefits: it's much clearer to the reader what is going on.</p>
<p>(Triggered by a support request from a user wanting to make an existing pipelined transformation streamable; but the idea was considered and "postponed to v.next" during XSLT 3.0 development. The replacement of "context item" by "context value" removes one of the obstacles.)</p>
</div></details></div>
<div class="toot" id="created-1110"><h2>Issue #1110 created<span class="toot-id"> #created-1110</span></h2><div class="pubdate">23 Mar at 17:40:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1110">https://github.com/qt4cg/qtspecs/issues/1110</a></div><details><summary>New error codes</summary><div class="markup"><p>The XQFO spec includes various “[TODO: error code]” comments. Should we add error codes when finalizing PRs, or does a master plan exist to add them at the very end?</p>
</div></details></div>
<div class="toot" id="created-1109"><h2>Issue #1109 created<span class="toot-id"> #created-1109</span></h2><div class="pubdate">23 Mar at 15:46:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1109">https://github.com/qt4cg/qtspecs/issues/1109</a></div><details><summary>Discrepancies in fn:hash() published examples</summary><div class="markup"><p>In the third example:</p>
<p><code>hash("") </code></p>
<p>the expected result has a spurious trailing letter "o". That's trivial and I will fix it.</p>
<p>In the seventh example:</p>
<p><code>hash(serialize($doc), map{"algorithm": "sha-1"}) </code></p>
<p>I am getting a completely different result, which I suspect is because I am getting a different result from <code>serialize()</code>. Perhaps the difference is something like a trailing newline, I don't know.</p>
<p>In my case the result of <code>serialize($doc)</code> is the 14-character string <code>"&lt;doc&gt;abc&lt;/doc&gt;"</code>, which I believe is correct, but I suspect there might be other results of <code>serialize($doc)</code> that would also be conformant with the spec.</p>
</div></details></div>
<div class="toot" id="created-1108"><h2>Pull request #1108 created<span class="toot-id"> #created-1108</span></h2><div class="pubdate">22 Mar at 17:06:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1108">https://github.com/qt4cg/qtspecs/pull/1108</a></div><details><summary>566-partial Describe a less aggressive %-encoding for fn:build-uri</summary><div class="markup"><p>My proposal seemed to meet with general approval, so here is my attempt to implement it in the spec.</p>
</div></details></div>
<div class="toot" id="created-1107"><h2>Issue #1107 created<span class="toot-id"> #created-1107</span></h2><div class="pubdate">22 Mar at 16:27:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1107">https://github.com/qt4cg/qtspecs/issues/1107</a></div><details><summary>Grammar discrepancy on fn:pin() examples</summary><div class="markup"><p>I'm probably getting the wrong end of the stick, but I can't see how the example for <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-pin">fn:pin():</a></p>
<pre><code>pin(["a","b","c"])?1 =&gt; label()?parent =&gt; array:foot()
</code></pre>
<p>meets the current EBNF. (I know bits of this area may be in flux, so this may be just for the record .)</p>
<pre><code>pin(["a","b","c"])?1 =&gt; label()
</code></pre>
<p>meets the production for <code>ArrowExpr</code>, and the RHS of an <code>ArrowExpr</code> is, in this case, an <code>ArrowStaticFunction</code> <code>ArgumentList</code> pair, which doesn't encompass the subsequent lookup.</p>
<p>But for <code>LookupExpr</code> to include the <code>?parent</code> requires <code>PostfixExpr</code> as its first term, and <code>PostfixExpr</code> can only include <code>ArrowExpr</code> via <code>PrimaryExpr/ParenthesizedExpr</code>, i.e. with brackets.</p>
</div></details></div>
<div class="toot" id="closed-1052"><h2>Issue #1052 closed<span class="toot-id"> #closed-1052</span></h2><div class="pubdate">21 Mar at 12:51:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1052">https://github.com/qt4cg/qtspecs/issues/1052</a></div><p>parse-csv() - simplify output</p></div>
<div class="toot" id="created-1106"><h2>Pull request #1106 created<span class="toot-id"> #created-1106</span></h2><div class="pubdate">21 Mar at 12:41:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1106">https://github.com/qt4cg/qtspecs/pull/1106</a></div><details><summary>859 lookup syntax problems</summary><div class="markup"><p>Fix the syntax ambiguity identified in issue #859 by dropping the troublesome construct.</p>
<p>It is hoped something else will be introduced in its place.</p>
<p>Fix #859</p>
</div></details></div>
<div class="toot" id="created-1105"><h2>Issue #1105 created<span class="toot-id"> #created-1105</span></h2><div class="pubdate">21 Mar at 11:53:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1105">https://github.com/qt4cg/qtspecs/issues/1105</a></div><details><summary>Casting to numerical type from strings with underscores</summary><div class="markup"><p>The <a href="https://qt4cg.org/specifications/xquery-40/xpath-40.html#prod-xpath40-Digits">Digits</a> production now permits underscores as separators in long numerical character sequences.
However in casting to numerical types, either by operator or by function:</p>
<pre><code>'12_345_678' as xs:integer
number('12.345_678')
</code></pre>
<p>am I correct that this should fail according to <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#casting-from-strings">Casting from xs:string and xs:untypedAtomic</a>, even though a static resolution/rewrite would be possible?</p>
</div></details></div>
<div class="toot" id="created-1104"><h2>Issue #1104 created<span class="toot-id"> #created-1104</span></h2><div class="pubdate">21 Mar at 10:06:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1104">https://github.com/qt4cg/qtspecs/issues/1104</a></div><details><summary>TypeTest expressions</summary><div class="markup"><p>Our current status quo text allows the result of a lookup expression to be filtered by type:</p>
<p><code>[[1,2], [3,4], 5, 6]?*::array(*)?1</code></p>
<p>and issue #859 points out that this doesn't work because of a syntax ambiguity involving occurrence indicators ('?' is both an occurrence indicator and a lookup operator).</p>
<p>This issue addresses that problem by re-examining the requirements, and pulling in a number of other issues at the same time.</p>
<p>In path expressions we have a shorthand syntax for selecting nodes, called the node test, and the proposed syntax <code>::array(*)</code> was modelled on this. Node tests have a considerable overlap with types, but there are limitations. For example the <code>self</code> axis is often used to turn a node test into a general predicate, but <code>[self::XX]</code> can only be used to test elements, not attributes. However, the popularity of node tests and the self axis illustrates the need for a concise filtering operation.</p>
<p>Of course it's always possible to write <code>[. instance of array(*)]</code> but this gets extremely verbose.</p>
<p>In XSLT 3.0, template rules matching maps and arrays could only be written as <code>match=".[. instance of array(*)]"</code>, which gets really ugly, so we have proposed an alternative in 4.0. Specifically, you can match any type using <code>match="type(ItemType)"</code>, and for many types such as arrays and maps you can abbreviate this to, for example <code>match="array(*)"</code>. But this feels clumsy because the type() wrapper is sometimes needed and sometimes not.</p>
<p>I would like to propose an expression that has concise syntax, whose effect is equivalent to <code>. instance of T</code>. I propose to use the <code>~</code> symbol. This is available as both a binary and unary operator, so we can define a binary form <code>$z ~ T</code> which is syntactic shorthand for <code>$z instance of T</code>, and a unary form <code>~T</code> which is shorthand for <code>. ~ T</code>.</p>
<p>First, in the case of lookup expressions, we can now write:</p>
<p><code>[[1,2], [3,4], 5, 6]?*[~array(*)]?1</code></p>
<p>TypeTests will often be used within predicates in this way, and of course the usage is completely general.</p>
<p>Here's an example used for array:filter: <code>array:filter($array, fn{~xs:integer+})</code> which selects all members of the array comprising one or more integers.</p>
<p>In XSLT 4.0 the syntax <code>~T</code> replaces the current TypePattern, giving a much more uniform way of matching items by type.</p>
<p>In XPath and XSLT conditionals the construct can be used as an equivalent to XQuery's TypeswitchExpr:</p>
<pre><code>&lt;xsl:choose&gt;
  &lt;xsl:when test="~xs:integer"&gt;...&lt;/xsl:when&gt;
  &lt;xsl:when test="~xs:string"&gt;...&lt;/xsl:when&gt;
  ...
&lt;/xsl:choose&gt;
</code></pre>
<p>The choice of tilde for this operator is motivated by:</p>
<ul>
<li>There are not many symbols available</li>
<li>Tilde has many different uses in mathematics and computing, some of which represent a boolean test applied to a value (for example testing whether it is similar to another value or whether it matches some pattern), which is not dissimilar to this proposed usage</li>
<li>The alliteration between "tilde" and "type" has some mnemonic value (cf. the use of <code>@</code> for the attribute axis).</li>
</ul>
</div></details></div>
<div class="toot" id="created-1103"><h2>Issue #1103 created<span class="toot-id"> #created-1103</span></h2><div class="pubdate">19 Mar at 18:24:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1103">https://github.com/qt4cg/qtspecs/issues/1103</a></div><details><summary>CSV Parsing - handling line ending normalization</summary><div class="markup"><p>During discussion of PR #1066 there was much debate about how best to handle normalization of (typically CRLF) line endings.</p>
<p>Perhaps it's very unlikely that CRLF line endings will make it as far as the parse-csv() function, because they will already have been normalized for example by unparsed-text(). But data can also be read in other ways, for example bin:read-binary() or sql:query() extension functions, or passed in as a string-valued parameter to a transformation.</p>
<p>Perhaps we should have a separate mechanism for normalizing line endings in any data, independent of CSV parsing? (But perhaps it's important to retain CRLF in quoted strings?)</p>
<p>Perhaps CSV parsing should normalise CRLF unconditionally, without needing to set a special option for it?</p>
</div></details></div>
<div class="toot" id="closed-1101"><h2>Issue #1101 closed<span class="toot-id"> #closed-1101</span></h2><div class="pubdate">19 Mar at 18:21:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1101">https://github.com/qt4cg/qtspecs/issues/1101</a></div><p>XQuery: Normalize line endings</p></div>
<div class="toot" id="closed-1089"><h2>Issue #1089 closed<span class="toot-id"> #closed-1089</span></h2><div class="pubdate">19 Mar at 17:49:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1089">https://github.com/qt4cg/qtspecs/issues/1089</a></div><p>Rounding when casting string to date/time or duration types</p></div></div><p>See 2158
            more statuses in yearly archives.</p></article></main></body></html>