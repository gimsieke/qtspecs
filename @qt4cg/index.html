<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-07-18"><h2>QT4 CG meeting 042 draft agenda<span class="toot-id"> #agenda-07-18</span></h2><div class="pubdate">17 Jul at 13:00:05 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/07-18">https://qt4cg.org/meeting/agenda/2023/07-18</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-491"><h2>Issue #491 closed<span class="toot-id"> #closed-491</span></h2><div class="pubdate">17 Jul at 11:40:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/491">https://github.com/qt4cg/qtspecs/pull/491</a></div><p>Fix more examples in the FO 4.0 spec</p></div>
<div class="toot" id="created-614"><h2>Pull request #614 created<span class="toot-id"> #created-614</span></h2><div class="pubdate">17 Jul at 11:38:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/614">https://github.com/qt4cg/qtspecs/pull/614</a></div><details><summary>123: fn:duplicate-values</summary><div class="markup"><p>I decided to create a PR for the initial proposal of this function, as I came across at least two other use cases for it since the issue was created.</p>
<p>I believe that the <code>group by</code> clause is the best choice for more complex operations, such as advanced comparisons or creating histograms.</p>
</div></details></div>
<div class="toot" id="created-613"><h2>Issue #613 created<span class="toot-id"> #created-613</span></h2><div class="pubdate">17 Jul at 08:02:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/613">https://github.com/qt4cg/qtspecs/issues/613</a></div><details><summary>Allow "union" as synonym for "|" everywhere</summary><div class="markup"><p>It seems silly to allow "union" as a synonym for "|" in some places and not others. For example it's not allowed in a "case" clause of a typeswitch, nor in a catch clause of try/catch.</p>
<p>We've introduced the ability to write <code>child::(a|b)</code> as a synonym for <code>child::a | child::b</code>, but we don't allow <code>child::(a union b)</code> as a synonym for <code>child::a union child::b</code>.</p>
</div></details></div>
<div class="toot" id="created-612"><h2>Pull request #612 created<span class="toot-id"> #created-612</span></h2><div class="pubdate">16 Jul at 14:39:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/612">https://github.com/qt4cg/qtspecs/pull/612</a></div><p>128: fn:replace: Tweaks</p></div>
<div class="toot" id="created-611"><h2>Pull request #611 created<span class="toot-id"> #created-611</span></h2><div class="pubdate">16 Jul at 14:04:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/611">https://github.com/qt4cg/qtspecs/pull/611</a></div><p>329: Keyword parameters: Error codes</p></div>
<div class="toot" id="created-610"><h2>Pull request #610 created<span class="toot-id"> #created-610</span></h2><div class="pubdate">16 Jul at 13:51:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/610">https://github.com/qt4cg/qtspecs/pull/610</a></div><p>506: fn:error: parameter names</p></div>
<div class="toot" id="created-609"><h2>Pull request #609 created<span class="toot-id"> #created-609</span></h2><div class="pubdate">16 Jul at 13:36:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/609">https://github.com/qt4cg/qtspecs/pull/609</a></div><details><summary>508: New Map &amp; Array Functions: Inconsistencies</summary><div class="markup"><ol>
<li><code>map:of</code> renamed to <code>map:of-pairs</code> (as a hint that the input must match a specific format)</li>
<li><code>array:of</code> renamed to <code>array:of-members</code> (as a hint…)</li>
<li>add <code>map:pair</code> for creating a single pair</li>
<li>add <code>array:split</code> for decomposing arrays to singleton arrays</li>
</ol>
</div></details></div>
<div class="toot" id="created-608"><h2>Issue #608 created<span class="toot-id"> #created-608</span></h2><div class="pubdate">15 Jul at 14:25:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/608">https://github.com/qt4cg/qtspecs/issues/608</a></div><details><summary>Formatting Monospace (II)</summary><div class="markup"><p>Bugging you again, @ndw …</p>
<p>My feedback has been triggered by #607. I’ve moved various code examples into <code>eg</code> blocks. In principle, the result is promising, but it produces cases such as the following one (see https://qt4cg.org/pr/607/xpath-functions-40/Overview.html):</p>
<img src="https://github.com/qt4cg/qtspecs/assets/196589/d64fd37a-2918-487c-967c-08570208d6c8" width="500">
<p>Maybe the result is better to read if single-line and multi-line monospace is formatted identically (i.e., without lines at the top and bottom, and with a transparent background)?</p>
<p>Next, it would be fine if we could get rid of the scrollbars. Often, it’s not apparent from the rendering that the presentation includes results at all:</p>
<img src="https://github.com/qt4cg/qtspecs/assets/196589/b86d688b-fbdc-4a54-bd22-fa47e027dec2" width="500">
<p>We could possibly fix it by wrapping even more examples manually. That can be challenging, though, for example if long strings are used (such as <code>"http://www.w3.org/2013/collation/UCA?lang=en;alternate=blanked;strength=primary"</code>).</p>
<p>Finally, the formatting on mobile devices (here: an Android tablet with a Chrome renderer) differs from the desktop view: code blocks are rendered much smaller than the rest. – That’s just to mention it; I’d probably be annoyed if I was tasked with fixing that.</p>
<img src="https://github.com/qt4cg/qtspecs/assets/196589/b2dd898a-cd20-4ba2-a3d6-cc87c9e4e835" width="400">
</div></details></div>
<div class="toot" id="created-607"><h2>Pull request #607 created<span class="toot-id"> #created-607</span></h2><div class="pubdate">15 Jul at 11:57:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/607">https://github.com/qt4cg/qtspecs/pull/607</a></div><details><summary>XQFO Examples: Fixes, Formatting</summary><div class="markup"><p>This PR contains lots of fixes in the XQFO examples and improves the formatting of examples with nested arguments and multiline expressions.</p>
<p>It’s probably helpful to merge it as soon as possible to avoid conflicts with other PRs.</p>
</div></details></div>
<div class="toot" id="created-606"><h2>Pull request #606 created<span class="toot-id"> #created-606</span></h2><div class="pubdate">14 Jul at 17:15:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/606">https://github.com/qt4cg/qtspecs/pull/606</a></div><details><summary>Allow element(A|B) and attribute(A|B)</summary><div class="markup"><p>Fix #23</p>
</div></details></div>
<div class="toot" id="created-605"><h2>Pull request #605 created<span class="toot-id"> #created-605</span></h2><div class="pubdate">14 Jul at 15:12:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/605">https://github.com/qt4cg/qtspecs/pull/605</a></div><details><summary>21: Revise appendix for reserved function names</summary><div class="markup"><p>Fix #21</p>
</div></details></div>
<div class="toot" id="created-604"><h2>Pull request #604 created<span class="toot-id"> #created-604</span></h2><div class="pubdate">14 Jul at 14:23:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/604">https://github.com/qt4cg/qtspecs/pull/604</a></div><details><summary>[Editorial] Drop the unused symbol URILiteral from the XPath grammar appendix</summary><div class="markup"><p>Fix #39</p>
</div></details></div>
<div class="toot" id="created-603"><h2>Pull request #603 created<span class="toot-id"> #created-603</span></h2><div class="pubdate">13 Jul at 11:08:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/603">https://github.com/qt4cg/qtspecs/pull/603</a></div><details><summary>602 Implausible Expressions</summary><div class="markup"><p>Fix #602</p>
</div></details></div>
<div class="toot" id="created-602"><h2>Issue #602 created<span class="toot-id"> #created-602</span></h2><div class="pubdate">13 Jul at 06:55:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/602">https://github.com/qt4cg/qtspecs/issues/602</a></div><details><summary>Semi-strict static typing: reporting implausible expressions</summary><div class="markup"><p>Strict <em>static typing</em>, as originally defined for XQuery 1.0, was not a success, because it prohibits too many constructs that are perfectly reasonable to write. However, the alternative, pure <em>dynamic typing</em>, prevents a processor reporting many obvious errors at compile time. A compromise is <em>optimistic static typing</em>, where the processor is allowed to report a type error statically in the cases where it can be shown that evaluation of an expression is bound to fail at run-time.</p>
<p>Optimistic static typing has proved a reasonably successful compromise, but there are a number of cases where things that are obviously user mistakes cannot be reported as static errors.  I propose that a processor should be allowed (not required) to treat some of these conditions as static errors.</p>
<p>The first of these conditions is exemplified by passing an argument whose static type is <code>xs:integer*</code> to a function where the declared parameter type is <code>xs:string*</code>. Under optimistic static typing this cannot be reported as a static error, because it is not bound to fail; if the actual value at run-time turns out to be an empty sequence, the call will succeed. So the proposal is that where the inferred supplied type and the required sequence types are both emptiable (that is, occurrence indicator is "?" or "*"), but their respective item types are disjoint, the processor should be allowed to report a static error.</p>
<p>The second condition is what I call a <em>void path expression</em>. Specifically, if we know statically that the result of <code>$A/B</code>, or <code>$A!B</code>, or <code>$A?B</code> will be an empty sequence for any possible value of $A (given its inferred type), this almost certainly means the user has made a mistake, and we should be allowed to report a static error. This extends to the unary or implicit forms of these operators, based on the inferred type of the context item. This is most likely to occur with schema-aware code, where it should be possible to report a path such as A/B/C/D as incorrect if the schema does not allow such a path. But it also arises for example for <code>$A?B</code> if the inferred type of $A is a non-extensible record type and B is not one of its known fields; and it arises for inappropriate combinations of axes such as <code>@code/text()</code>.</p>
<p>Note that I'm not proposing (as XQuery 1.0 static typing did) that <em>any</em> expression whose result is bound to be empty is a static error; the rule is confined to a few specific operators.</p>
<p>Perhaps, for backwards compatibility and interoperability, we should require processors to provide an option to switch this kind of static error detection off. (For example, XSLT 1.0 code sometimes deliberately uses <code>/..</code> to represent an empty sequence, and this construct would be flagged under these rules.)</p>
</div></details></div>
<div class="toot" id="created-601"><h2>Issue #601 created<span class="toot-id"> #created-601</span></h2><div class="pubdate">13 Jul at 06:46:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/601">https://github.com/qt4cg/qtspecs/issues/601</a></div><details><summary>fn:all → fn:every?</summary><div class="markup"><p>Feedback we got (translated):</p>
<p>There are the <code>every</code> and <code>some</code> keywords, and there are the new functions <code>fn:some</code> and <code>fn:all</code>. They appear to be more or less similar, so it would be consistent if <code>fn:all</code> was renamed to <code>fn:every</code>.</p>
<p>If <code>fn:all</code> is called this way because there’s also <code>fn:all-different</code> and <code>fn:all-equal</code>, we should also have <code>fn:some-different</code> and <code>fn:some-equal</code>.</p>
</div></details></div>
<div class="toot" id="closed-585"><h2>Issue #585 closed<span class="toot-id"> #closed-585</span></h2><div class="pubdate">12 Jul at 08:23:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/585">https://github.com/qt4cg/qtspecs/issues/585</a></div><p>Editorial: dynamic function calls</p></div>
<div class="toot" id="closed-597"><h2>Issue #597 closed<span class="toot-id"> #closed-597</span></h2><div class="pubdate">11 Jul at 16:39:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/597">https://github.com/qt4cg/qtspecs/pull/597</a></div><p>Editorial fixes from #566</p></div>
<div class="toot" id="closed-588"><h2>Issue #588 closed<span class="toot-id"> #closed-588</span></h2><div class="pubdate">11 Jul at 16:39:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/588">https://github.com/qt4cg/qtspecs/issues/588</a></div><p>Incompleteness of xsl:sort specification</p></div>
<div class="toot" id="closed-595"><h2>Issue #595 closed<span class="toot-id"> #closed-595</span></h2><div class="pubdate">11 Jul at 16:39:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/595">https://github.com/qt4cg/qtspecs/pull/595</a></div><p>588: (Editorial, XSLT) minor clarifications regarding xsl:sort</p></div>
<div class="toot" id="closed-592"><h2>Issue #592 closed<span class="toot-id"> #closed-592</span></h2><div class="pubdate">11 Jul at 16:39:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/592">https://github.com/qt4cg/qtspecs/issues/592</a></div><p>XSLT §5.6 xsl:decimal-format - no explanation of exponent-separator</p></div>
<div class="toot" id="closed-594"><h2>Issue #594 closed<span class="toot-id"> #closed-594</span></h2><div class="pubdate">11 Jul at 16:39:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/594">https://github.com/qt4cg/qtspecs/pull/594</a></div><p>592: (XSLT, Editorial) Add missing description of exponent-separator</p></div>
<div class="toot" id="closed-591"><h2>Issue #591 closed<span class="toot-id"> #closed-591</span></h2><div class="pubdate">11 Jul at 16:38:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/591">https://github.com/qt4cg/qtspecs/issues/591</a></div><p>Show defaults in XSLT element templates</p></div>
<div class="toot" id="closed-593"><h2>Issue #593 closed<span class="toot-id"> #closed-593</span></h2><div class="pubdate">11 Jul at 16:38:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/593">https://github.com/qt4cg/qtspecs/pull/593</a></div><p>591: [XSLT, editorial] Add defaults to XSLT element syntax summaries</p></div>
<div class="toot" id="closed-343"><h2>Issue #343 closed<span class="toot-id"> #closed-343</span></h2><div class="pubdate">11 Jul at 16:38:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/343">https://github.com/qt4cg/qtspecs/issues/343</a></div><p>$collation argument: Unification</p></div>
<div class="toot" id="closed-590"><h2>Issue #590 closed<span class="toot-id"> #closed-590</span></h2><div class="pubdate">11 Jul at 16:38:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/590">https://github.com/qt4cg/qtspecs/pull/590</a></div><p>343: make $collation uniformly optional</p></div>
<div class="toot" id="closed-365"><h2>Issue #365 closed<span class="toot-id"> #closed-365</span></h2><div class="pubdate">11 Jul at 16:38:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/365">https://github.com/qt4cg/qtspecs/issues/365</a></div><p>switch, typeswitch: Optional braces</p></div>
<div class="toot" id="closed-587"><h2>Issue #587 closed<span class="toot-id"> #closed-587</span></h2><div class="pubdate">11 Jul at 16:38:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/587">https://github.com/qt4cg/qtspecs/pull/587</a></div><p>365: Allow braces in switch and typeswitch expressions</p></div>
<div class="toot" id="closed-586"><h2>Issue #586 closed<span class="toot-id"> #closed-586</span></h2><div class="pubdate">11 Jul at 16:37:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/586">https://github.com/qt4cg/qtspecs/pull/586</a></div><p>585: [Editorial] Rearrange text (and grammar) for dynamic function calls</p></div>
<div class="toot" id="closed-584"><h2>Issue #584 closed<span class="toot-id"> #closed-584</span></h2><div class="pubdate">11 Jul at 16:37:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/584">https://github.com/qt4cg/qtspecs/pull/584</a></div><p>Editorial: Correction to map:filter examples</p></div></div><p>See 1105
            more statuses in yearly archives.</p></article></main></body></html>