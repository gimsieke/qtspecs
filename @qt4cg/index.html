<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-05-14"><h2>QT4 CG meeting 077 draft agenda<span class="toot-id"> #agenda-05-14</span></h2><div class="pubdate">13 May at 13:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/05-14">https://qt4cg.org/meeting/agenda/2024/05-14</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="minutes-05-07"><h2>QT4 CG meeting 076 draft minutes<span class="toot-id"> #minutes-05-07</span></h2><div class="pubdate">13 May at 13:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/05-07">https://qt4cg.org/meeting/minutes/2024/05-07</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-1208"><h2>Issue #1208 created<span class="toot-id"> #created-1208</span></h2><div class="pubdate">13 May at 10:13:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1208">https://github.com/qt4cg/qtspecs/issues/1208</a></div><details><summary>Reserved Function Names: item, empty-sequence</summary><div class="markup"><p>The keywords <code>item</code> and <code>empty-sequence</code> have been dropped from the list of reversed function names:</p>
<ul>
<li>https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-reserved-fn-names</li>
<li>https://www.w3.org/TR/2017/REC-xquery-31-20170321/#id-reserved-fn-names</li>
</ul>
<p>A note exists only for the dropped <code>map</code> and <code>array</code> keywords.</p>
</div></details></div>
<div class="toot" id="created-1207"><h2>Issue #1207 created<span class="toot-id"> #created-1207</span></h2><div class="pubdate">13 May at 10:03:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1207">https://github.com/qt4cg/qtspecs/issues/1207</a></div><details><summary>Array filter: Positional access</summary><div class="markup"><p>I apologize for warming up an already accepted feature, but I have mixed feelings about the deviating rules for filters and array filters. People can do…</p>
<pre><code class="language-xquery">for $n in $numbers[1 to 5]
return $n + 1
</code></pre>
<p>…but they won’t be able to do…</p>
<pre><code class="language-xquery">for member $n in $numbers?[1 to 5]
return $n + 1
</code></pre>
<p>Of course you can always use <code>array:subarray</code>, <code>array:slice</code>, etc., but from the perspective of symmetry and usability, it’s just not obvious why positions are exclusively allowed for sequences. Even if we regard numeric predicates as a design error, we should rather <em>deliberately repeat other people’s mistakes</em>…</p>
</div></details></div>
<div class="toot" id="created-1206"><h2>Pull request #1206 created<span class="toot-id"> #created-1206</span></h2><div class="pubdate">13 May at 08:28:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1206">https://github.com/qt4cg/qtspecs/pull/1206</a></div><details><summary>1195 Hash Function: CRC-32</summary><div class="markup"><p>Issue: #1195</p>
</div></details></div>
<div class="toot" id="created-1205"><h2>Pull request #1205 created<span class="toot-id"> #created-1205</span></h2><div class="pubdate">13 May at 07:31:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1205">https://github.com/qt4cg/qtspecs/pull/1205</a></div><details><summary>1196 Math Functions: math:e, math:sinh, math:cosh, math:tanh</summary><div class="markup"><p>Issue: #1196</p>
</div></details></div>
<div class="toot" id="created-1204"><h2>Pull request #1204 created<span class="toot-id"> #created-1204</span></h2><div class="pubdate">11 May at 18:44:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1204">https://github.com/qt4cg/qtspecs/pull/1204</a></div><details><summary>1203 Define out-of-range conditions in CSV get function</summary><div class="markup"><p>Fix #1203</p>
</div></details></div>
<div class="toot" id="created-1203"><h2>Issue #1203 created<span class="toot-id"> #created-1203</span></h2><div class="pubdate">11 May at 18:01:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1203">https://github.com/qt4cg/qtspecs/issues/1203</a></div><details><summary>CSV parsing: in call of get($R, $Z), what if $R is out of range</summary><div class="markup"><p>In the description of the <code>?get($R, $Z)</code> callback function, it is stated what happens if $Z doesn't identify an actual column (error when $Z is a string, return "" when it is an integer), but it's not stated what happens when $R (the row number) is out of range.</p>
<p>The existing text could also be improved because it talks of "the argument" to the function, when there are two.</p>
<p>The Saxon implementation currently returns "" and I proposed to say that unless anyone objects.</p>
</div></details></div>
<div class="toot" id="created-1202"><h2>Issue #1202 created<span class="toot-id"> #created-1202</span></h2><div class="pubdate">10 May at 11:58:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1202">https://github.com/qt4cg/qtspecs/issues/1202</a></div><details><summary>XQFO: Updated Functions updated?</summary><div class="markup"><p>It’s not always clear in the XQFO draft what has been updated when a function is marked as such. In the attached examples (there are several cases), either the <code>Changed</code> section is missing, or the renderer fails to detect that the function has not actually changed:</p>
<hr>
<p><img src="https://github.com/qt4cg/qtspecs/assets/196589/0c616f31-278a-4147-9266-8d8f5d51378d" alt="image"></p>
</div></details></div>
<div class="toot" id="closed-1201"><h2>Issue #1201 closed<span class="toot-id"> #closed-1201</span></h2><div class="pubdate">09 May at 05:13:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1201">https://github.com/qt4cg/qtspecs/pull/1201</a></div><p>Update the Saxonica EE repo</p></div>
<div class="toot" id="created-1201"><h2>Pull request #1201 created<span class="toot-id"> #created-1201</span></h2><div class="pubdate">09 May at 05:13:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1201">https://github.com/qt4cg/qtspecs/pull/1201</a></div><details><summary>Update the Saxonica EE repo</summary><div class="markup"><p>This should be harmless and I would have thought unnecessary, but there were reports of trouble reading Saxon EE 12.2 from Maven. This PR just updates the maven EE repo URI. The old URI redirects to the new one, but maybe that's causing a problem somehow?</p>
</div></details></div>
<div class="toot" id="closed-1162"><h2>Issue #1162 closed<span class="toot-id"> #closed-1162</span></h2><div class="pubdate">08 May at 18:09:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1162">https://github.com/qt4cg/qtspecs/issues/1162</a></div><p>Revert strict type for positional variables (xs:integer → xs:positiveInteger)</p></div>
<div class="toot" id="closed-1165"><h2>Issue #1165 closed<span class="toot-id"> #closed-1165</span></h2><div class="pubdate">08 May at 18:07:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1165">https://github.com/qt4cg/qtspecs/issues/1165</a></div><p>[Editorial] References to numeric codepoints in prose: consistency</p></div>
<div class="toot" id="created-1200"><h2>Pull request #1200 created<span class="toot-id"> #created-1200</span></h2><div class="pubdate">08 May at 17:36:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1200">https://github.com/qt4cg/qtspecs/pull/1200</a></div><details><summary>QT4CG-075-02 Define the term sequence concatenation</summary><div class="markup"><p>Purely editorial</p>
</div></details></div>
<div class="toot" id="created-1199"><h2>Issue #1199 created<span class="toot-id"> #created-1199</span></h2><div class="pubdate">08 May at 14:29:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1199">https://github.com/qt4cg/qtspecs/issues/1199</a></div><details><summary>In F+O function signatures, show some indication that a function is variadic.</summary><div class="markup"><p>Currently the markup indicates that a function is variadic, but this is not flagged in the displayed signature.</p>
</div></details></div>
<div class="toot" id="created-1198"><h2>Pull request #1198 created<span class="toot-id"> #created-1198</span></h2><div class="pubdate">08 May at 14:28:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1198">https://github.com/qt4cg/qtspecs/pull/1198</a></div><details><summary>1189 distinct document order</summary><div class="markup"><p>Add distinct-document-order function.</p>
<p>(Somehow this PR also includes changes to XSLT examples consequent on allowing "fn" as a synonym for "function")</p>
</div></details></div>
<div class="toot" id="created-1197"><h2>Pull request #1197 created<span class="toot-id"> #created-1197</span></h2><div class="pubdate">08 May at 13:30:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1197">https://github.com/qt4cg/qtspecs/pull/1197</a></div><details><summary>1192 Allow fn as abbreviation for function</summary><div class="markup"><p>Brings function tests into line with inline function syntax</p>
</div></details></div>
<div class="toot" id="created-1196"><h2>Issue #1196 created<span class="toot-id"> #created-1196</span></h2><div class="pubdate">08 May at 10:58:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1196">https://github.com/qt4cg/qtspecs/issues/1196</a></div><details><summary>Math Functions: `math:e`, `math:sinh`, `math:cosh`, `math:tanh`</summary><div class="markup"><p>The functions <code>math:e</code>, <code>math:sinh</code>, <code>math:cosh</code> and <code>math:tanh</code> might have been missed in the past, and would be simple to add.</p>
</div></details></div>
<div class="toot" id="created-1195"><h2>Issue #1195 created<span class="toot-id"> #created-1195</span></h2><div class="pubdate">08 May at 10:47:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1195">https://github.com/qt4cg/qtspecs/issues/1195</a></div><details><summary>Hash Function: CRC-32</summary><div class="markup"><p>I discovered only now that <code>fn:hash</code> mentions that the function can also be used for computing cyclic redundancy checks.</p>
<p>Shouldn’t we add the basic <code>CRC-32</code> algorithm to the list of mandatory algorithms?</p>
</div></details></div>
<div class="toot" id="created-1194"><h2>Issue #1194 created<span class="toot-id"> #created-1194</span></h2><div class="pubdate">08 May at 09:10:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1194">https://github.com/qt4cg/qtspecs/issues/1194</a></div><details><summary>New function fn:query()</summary><div class="markup"><p>I propose a new function <code>fn:query()</code> to perform dynamic XQuery/XPath evaluation: a similar role to fn:transform() and xsl:evaluate.</p>
<p>I propose a design based on the design of fn:invisible-xml() - fn:query should take a query string as its argument, and return a function item that can be called to evaluate the query.</p>
<p>The fn:query() function will need an options map to supply significant aspects of the static context, for example the base URI. But I don't think we need to support everything. Public functions in the calling module should probably be made available automatically, in which case we don't need to support "import module".</p>
<p>The dynamic evaluation function will need an options map to supply significant aspects of the dynamic context, notably the context value and values of external parameters. The query result should be returned in "raw" (ie. unserialized) form.</p>
<p>Perhaps there should be an option language="xpath" to say that the "query" is actually an XPath expression; some implementations might find that easier to support, especially when the processor is itself an XPath processor.</p>
<p>(Motivation: Saxon has a pair of ancient extension functions <code>saxon:compile-query</code> and <code>saxon:query</code> and the design needs modernising, and bridging across to additional platforms. We might as well get it into the standard if we're doing that.)</p>
</div></details></div>
<div class="toot" id="closed-1143"><h2>Issue #1143 closed<span class="toot-id"> #closed-1143</span></h2><div class="pubdate">07 May at 18:24:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1143">https://github.com/qt4cg/qtspecs/issues/1143</a></div><p>Coercion Rules for Choice Item Types</p></div>
<div class="toot" id="closed-1148"><h2>Issue #1148 closed<span class="toot-id"> #closed-1148</span></h2><div class="pubdate">07 May at 18:24:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1148">https://github.com/qt4cg/qtspecs/pull/1148</a></div><p>1143 Coercion rules: handle choice types before atomization</p></div>
<div class="toot" id="closed-1184"><h2>Issue #1184 closed<span class="toot-id"> #closed-1184</span></h2><div class="pubdate">07 May at 17:44:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1184">https://github.com/qt4cg/qtspecs/pull/1184</a></div><p>1165-Use Unicode-style character references</p></div>
<div class="toot" id="closed-1171"><h2>Issue #1171 closed<span class="toot-id"> #closed-1171</span></h2><div class="pubdate">07 May at 16:08:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1171">https://github.com/qt4cg/qtspecs/issues/1171</a></div><p>Predicates returning xs:boolean vs. xs:boolean?</p></div>
<div class="toot" id="closed-1182"><h2>Issue #1182 closed<span class="toot-id"> #closed-1182</span></h2><div class="pubdate">07 May at 16:06:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1182">https://github.com/qt4cg/qtspecs/pull/1182</a></div><p>1171 Change predicate callbacks to allow empty return value</p></div>
<div class="toot" id="closed-1170"><h2>Issue #1170 closed<span class="toot-id"> #closed-1170</span></h2><div class="pubdate">07 May at 16:05:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1170">https://github.com/qt4cg/qtspecs/issues/1170</a></div><p>Editorial: fn:index-where; parentheses; …</p></div>
<div class="toot" id="closed-1186"><h2>Issue #1186 closed<span class="toot-id"> #closed-1186</span></h2><div class="pubdate">07 May at 16:05:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1186">https://github.com/qt4cg/qtspecs/pull/1186</a></div><p>1170 Editorial: fn:index-where</p></div>
<div class="toot" id="created-1193"><h2>Issue #1193 created<span class="toot-id"> #created-1193</span></h2><div class="pubdate">07 May at 14:34:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1193">https://github.com/qt4cg/qtspecs/issues/1193</a></div><details><summary>Parsing Functions: Empty input</summary><div class="markup"><p>I was asked why some of the parsing functions allow empty input and others don’t:</p>
<p>Function | Input
--- | ---
<code>fn:parse-integer</code> | <code>xs:string</code>
<code>fn:parse-uri</code> | <code>xs:string</code>
<code>fn:parse-ietf-date</code> | <code>xs:string?</code>
<code>fn:parse-QName</code> | <code>xs:string</code>
<code>fn:parse-xml</code> | <code>xs:string?</code>
<code>fn:parse-xml-fragment</code> | <code>xs:string?</code>
<code>fn:parse-html</code> | <code>(xs:string \| xs:hexBinary \| xs:base64Binary)?</code>
<code>fn:parse-json</code> | <code>xs:string?</code>
<code>fn:parse-csv</code> | <code>xs:string?</code></p>
<p>I would assume there is no rationale behind this, and that we should always allow empty input.</p>
</div></details></div>
<div class="toot" id="created-1192"><h2>Issue #1192 created<span class="toot-id"> #created-1192</span></h2><div class="pubdate">07 May at 10:11:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1192">https://github.com/qt4cg/qtspecs/issues/1192</a></div><details><summary>Allow "fn" as abbreviation for "function" in ItemType syntax</summary><div class="markup"><p>The syntax for inline functions is, by design, similar to the syntax for function tests. So it's confusing that you can abbreviate "function" to "fn" in the first case but not the second.</p>
<p>Open question: what about "declare function" in the XQuery prolog? My instinct is to leave that as it is.</p>
</div></details></div>
<div class="toot" id="created-1191"><h2>Pull request #1191 created<span class="toot-id"> #created-1191</span></h2><div class="pubdate">06 May at 22:14:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1191">https://github.com/qt4cg/qtspecs/pull/1191</a></div><details><summary>1167, 934 deep equal merge collations param</summary><div class="markup"><p>Fix #934 String comparisons in fn:deep-equal
Fix #1167 Merge $collation and $options params of fn:deep-equal</p>
</div></details></div></div><p>See 2352
            more statuses in yearly archives.</p></article></main></body></html>