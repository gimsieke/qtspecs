<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-01-16"><h2>QT4 CG meeting 061 draft agenda<span class="toot-id"> #agenda-01-16</span></h2><div class="pubdate">15 Jan at 14:40:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/01-16">https://qt4cg.org/meeting/agenda/2024/01-16</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-947"><h2>Pull request #947 created<span class="toot-id"> #created-947</span></h2><div class="pubdate">15 Jan at 10:39:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/947">https://github.com/qt4cg/qtspecs/pull/947</a></div><details><summary>Reorganise F+O chapter 15 [editorial]</summary><div class="markup"><p>This PR reorganizes the subsections of F+O chapter 15 (the XML/HTML/JSON/CSV/IXML chapter). There is no change to content apart from a couple of introductory sentences. I'm planning to do some fine-grained work on the content in due course, but to make that easier to review it seems best to do the top-level reorganisation first. I'm therefore hoping that this PR will go through quickly "on the nod" so I can use it as a baseline for the detail changes.</p>
</div></details></div>
<div class="toot" id="created-946"><h2>Issue #946 created<span class="toot-id"> #created-946</span></h2><div class="pubdate">12 Jan at 16:10:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/946">https://github.com/qt4cg/qtspecs/issues/946</a></div><details><summary>fn:iterate-while → fn:while-do, fn:do-while</summary><div class="markup"><p>First feedback shows that <code>fn:iterate-while</code> is helpful, but the name needs to be improved: It implies that the first iteration occurs before the invocation of the test… Which could sometimes be helpful, too.</p>
<p>I suggest renaming the function to <code>fn:while-do</code> (“do” is commonly used when while loops are specified), and adding <code>fn:do-while</code>.</p>
</div></details></div>
<div class="toot" id="created-945"><h2>Issue #945 created<span class="toot-id"> #created-945</span></h2><div class="pubdate">12 Jan at 15:41:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/945">https://github.com/qt4cg/qtspecs/issues/945</a></div><details><summary>Module import: apparent contradiction</summary><div class="markup"><p>XQuery 5.12 paragraph 2 says:</p>
<blockquote>
<p>If a module A imports module B, the static context of module A will contain the [in-scope schema definitions]... of module B.</p>
</blockquote>
<p>Paragraph 10 says:</p>
<blockquote>
<p>A [module import] imports only functions, variable declarations, and item type declaratons; it does not import other objects from the imported modules, such as [in-scope schema definitions] or [statically known namespaces].</p>
</blockquote>
<p>They can't both be right, surely?</p>
</div></details></div>
<div class="toot" id="created-944"><h2>Issue #944 created<span class="toot-id"> #created-944</span></h2><div class="pubdate">12 Jan at 11:18:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/944">https://github.com/qt4cg/qtspecs/issues/944</a></div><details><summary>Coercion rules: implicit types</summary><div class="markup"><p>Since 2.0, the coercion rules (formerly function conversion rules) have allowed implicit conversion from decimal to double, decimal to float, and float to double on function calls; other conversions such as double to decimal or float to decimal are not allowed. This has never made very much sense because in some implementations, decimal to float is a lossy conversion whereas float to decimal is not.</p>
<p>One option would be to allow conversion from any numeric type to any other.</p>
<p>The main caveat here is that I don't think it makes sense to allow a double such as 1.5e0 to be supplied where the required type is xs:integer. We have introduced new conversions that make it possible to supply a decimal where an integer is expected, but only if the decimal is in the value space of integer.</p>
<p>A possible formulation would be:</p>
<p>If the required type is a numeric type (that is, xs:decimal, xs:double, xs:float, or any type derived from these), and if the supplied value is a numeric value, then the supplied value is cast to the required primitive type, and if the result is in the value space of the actual required type it is then relabelled as an instance of the actual required type (if not, the conversion fails).</p>
<p>This means that supplying 1.0e0 for an argument expecting xs:integer (or xs:positiveInteger, etc) would work (it would cast to xs:decimal and then relabel as xs:integer), but supplying 1.1e0 would fail.</p>
</div></details></div>
<div class="toot" id="created-943"><h2>Pull request #943 created<span class="toot-id"> #created-943</span></h2><div class="pubdate">11 Jan at 10:28:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/943">https://github.com/qt4cg/qtspecs/pull/943</a></div><details><summary>187 Add FLWOR expression while clause</summary><div class="markup"><p>Fix #187</p>
</div></details></div>
<div class="toot" id="created-942"><h2>Pull request #942 created<span class="toot-id"> #created-942</span></h2><div class="pubdate">10 Jan at 16:42:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/942">https://github.com/qt4cg/qtspecs/pull/942</a></div><details><summary>530 Fix typo, escape-solidus not escape-uri-attributes</summary><div class="markup"><p>Fix #530.</p>
<p>On half a dozen occasions, <code>escape-uri-attributes</code> is used where <code>escape-solidus</code> is clearly intended.</p>
</div></details></div>
<div class="toot" id="closed-886"><h2>Issue #886 closed<span class="toot-id"> #closed-886</span></h2><div class="pubdate">10 Jan at 14:28:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/886">https://github.com/qt4cg/qtspecs/issues/886</a></div><p>Binary map keys</p></div>
<div class="toot" id="created-941"><h2>Pull request #941 created<span class="toot-id"> #created-941</span></h2><div class="pubdate">10 Jan at 12:20:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/941">https://github.com/qt4cg/qtspecs/pull/941</a></div><p>939 Remove fn:numeric-compare</p></div>
<div class="toot" id="created-940"><h2>Pull request #940 created<span class="toot-id"> #created-940</span></h2><div class="pubdate">10 Jan at 12:05:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/940">https://github.com/qt4cg/qtspecs/pull/940</a></div><details><summary>878 Add subsequence-where function</summary><div class="markup"><p>Supersedes PR #874</p>
<p>Following discussion of PR #874 which proposed an extended subsequence() function with options to define the start and end position by predicates, this new PR proposes instead a subsequence-where() function that allows the start and end position to be defined by predicates, leaving the existing subsequence() function unchanged.</p>
<p>The items-before/after/starting-where/ending-where quartet are dropped.</p>
<p>The new function is inclusive at both ends. To start at the item after the one that matches the start condition, apply tail() to the result. To finish before the item that matches the end condition, apply trunk() to the result.</p>
</div></details></div>
<div class="toot" id="closed-893"><h2>Issue #893 closed<span class="toot-id"> #closed-893</span></h2><div class="pubdate">10 Jan at 11:55:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/893">https://github.com/qt4cg/qtspecs/issues/893</a></div><p>fn:compare: Support for arbitrary atomic types</p></div>
<div class="toot" id="closed-918"><h2>Issue #918 closed<span class="toot-id"> #closed-918</span></h2><div class="pubdate">10 Jan at 09:19:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/918">https://github.com/qt4cg/qtspecs/pull/918</a></div><p>Minor cx through chap. 14</p></div>
<div class="toot" id="created-939"><h2>Issue #939 created<span class="toot-id"> #created-939</span></h2><div class="pubdate">10 Jan at 09:12:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/939">https://github.com/qt4cg/qtspecs/issues/939</a></div><details><summary>Remove fn:numeric-compare</summary><div class="markup"><p>Related action: <a href="https://qt4cg.org/meeting/minutes/2024/01-09.html">QT4CG-060-04</a></p>
<p>@michaelhkay I proposed to merge <code>fn:numeric-compare</code> into <code>fn:compare</code> in #866; your response was:</p>
<blockquote>
<p>Folding fn:numeric-compare into fn:compare is more feasible, but you've then got one function that does two different jobs; there's no type safety to ensure that the arguments have compatible types, and you need ad-hoc rules to say which combinations of arguments are valid and which aren't. The merit of two separate functions is that each is a total function over the domain implied by its signature.</p>
</blockquote>
<p>Do you think the concerns are still relevant, or should we tackle this?</p>
</div></details></div>
<div class="toot" id="created-938"><h2>Issue #938 created<span class="toot-id"> #created-938</span></h2><div class="pubdate">10 Jan at 04:30:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/938">https://github.com/qt4cg/qtspecs/issues/938</a></div><details><summary>Canonical serialization</summary><div class="markup"><p>This issue picks up suggestions from #779 regarding canonical serialization, and solicits from the community group input on if such a function is desirable, and what such a function might look like.</p>
<p>In the context of #779, the idea was that two XML documents with different physical representations, but semantically equivalent, could be serialized to a canonical form, with a hash value applied to each confirming identity. Of course, with canonical operation, a simple string comparison would be sufficient, absent any hashing.</p>
<p>XML Signature was suggested as one approach, with some hesitation. I would like to suggest, instead, that we look to implement <a href="https://www.w3.org/TR/xml-c14n/">Canonical XML Version 1.1</a> (herein <strong>CX1.1</strong>), perhaps with map options that calibrate how CX1.1 is implemented. I have no experience using CX1.1, so user input is welcome.</p>
<p>Another point of discussion is whether this merits a new function, e.g., <code>fn:canonical-serialize</code>, or should be built upon <code>fn:serialize</code>. A problem with the latter option, is that such an approach makes no sense without the <code>method</code> option specified as <code>xml</code>. Another approach would be to go deeper, into the serialization spec, and expand the <code>xml</code> method to ensure a canonical option.</p>
<p>I believe that this function would be extremely useful. When preparing test suites, output could be saved as secondary documents as canonical XML, and any subsequent regression tests could adjust comparanda to canonical XML, and very precise node-wise comparisons could be made.</p>
<p>I look forward to everyone's input.</p>
</div></details></div>
<div class="toot" id="created-937"><h2>Pull request #937 created<span class="toot-id"> #created-937</span></h2><div class="pubdate">10 Jan at 04:03:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/937">https://github.com/qt4cg/qtspecs/pull/937</a></div><details><summary>779 hash function</summary><div class="markup"><p>First draft of hash function, proposed in #779.</p>
<p>Error message left as to-do item; guidance from editors appreciated.</p>
<p>I opted to leave out wrapper/cryptographic functionality, such as salting, and to demonstrate via example how it could be done by a developer on their own. In my opinion what we need here is a simple atomic function that can be incorporated into other molecular functions.</p>
<p>I may tinker with the prose description up to CG discussion, so comments are welcome.</p>
</div></details></div>
<div class="toot" id="created-936"><h2>Pull request #936 created<span class="toot-id"> #created-936</span></h2><div class="pubdate">10 Jan at 02:30:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/936">https://github.com/qt4cg/qtspecs/pull/936</a></div><details><summary>877 revised rules for op:binary-less-than</summary><div class="markup"><p>Rule 3 for <code>op:binary-less-than</code> was a bit of a mess (see #877), and needed to be expressed as a recursive operation.</p>
<p>My proposed revision depends of phraseology drawn from <code>fn:decode-from-uri</code>, <code>fn:deep-equal</code>, and 5.3.2 Unicode Codepoint Collation (here slightly adjusted from unordered to ordered list).</p>
</div></details></div>
<div class="toot" id="closed-876"><h2>Issue #876 closed<span class="toot-id"> #closed-876</span></h2><div class="pubdate">10 Jan at 01:24:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/876">https://github.com/qt4cg/qtspecs/issues/876</a></div><p>Placement of fn:in-scope-namespaces(), fn:in-scope-prefixes(), fn:namespace-uri-for-prefix()</p></div>
<div class="toot" id="closed-909"><h2>Issue #909 closed<span class="toot-id"> #closed-909</span></h2><div class="pubdate">09 Jan at 17:54:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/909">https://github.com/qt4cg/qtspecs/pull/909</a></div><p>893 fn:compare: Support for arbitrary atomic types</p></div>
<div class="toot" id="closed-860"><h2>Issue #860 closed<span class="toot-id"> #closed-860</span></h2><div class="pubdate">09 Jan at 17:51:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/860">https://github.com/qt4cg/qtspecs/issues/860</a></div><p>Unary Lookup when the context value is a sequence</p></div>
<div class="toot" id="closed-926"><h2>Issue #926 closed<span class="toot-id"> #closed-926</span></h2><div class="pubdate">09 Jan at 17:51:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/926">https://github.com/qt4cg/qtspecs/pull/926</a></div><p>860 Editorial rearrangement of spec for shallow lookup</p></div>
<div class="toot" id="closed-780"><h2>Issue #780 closed<span class="toot-id"> #closed-780</span></h2><div class="pubdate">09 Jan at 17:42:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/780">https://github.com/qt4cg/qtspecs/issues/780</a></div><p>format-number() etc incompatibility</p></div>
<div class="toot" id="closed-925"><h2>Issue #925 closed<span class="toot-id"> #closed-925</span></h2><div class="pubdate">09 Jan at 17:42:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/925">https://github.com/qt4cg/qtspecs/pull/925</a></div><p>780 Document incompatibility in format-number etc</p></div>
<div class="toot" id="closed-935"><h2>Issue #935 closed<span class="toot-id"> #closed-935</span></h2><div class="pubdate">09 Jan at 17:41:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/935">https://github.com/qt4cg/qtspecs/pull/935</a></div><p>Fix the fo test catalog</p></div>
<div class="toot" id="created-935"><h2>Pull request #935 created<span class="toot-id"> #created-935</span></h2><div class="pubdate">09 Jan at 17:41:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/935">https://github.com/qt4cg/qtspecs/pull/935</a></div><details><summary>Fix the fo test catalog</summary><div class="markup"><p>A duplicate name was introduced.</p>
</div></details></div>
<div class="toot" id="closed-648"><h2>Issue #648 closed<span class="toot-id"> #closed-648</span></h2><div class="pubdate">09 Jan at 17:36:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/648">https://github.com/qt4cg/qtspecs/issues/648</a></div><p>Schema for FN namespace should block extension and substitution</p></div>
<div class="toot" id="closed-924"><h2>Issue #924 closed<span class="toot-id"> #closed-924</span></h2><div class="pubdate">09 Jan at 17:36:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/924">https://github.com/qt4cg/qtspecs/pull/924</a></div><p>648 Disallow user modifications to schema for FN namespace</p></div>
<div class="toot" id="closed-913"><h2>Issue #913 closed<span class="toot-id"> #closed-913</span></h2><div class="pubdate">09 Jan at 17:30:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/913">https://github.com/qt4cg/qtspecs/issues/913</a></div><p>XQFO: under/unused variable apparatus</p></div>
<div class="toot" id="closed-923"><h2>Issue #923 closed<span class="toot-id"> #closed-923</span></h2><div class="pubdate">09 Jan at 17:30:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/923">https://github.com/qt4cg/qtspecs/pull/923</a></div><p>913-new-examples-for-local-name-etc</p></div>
<div class="toot" id="closed-915"><h2>Issue #915 closed<span class="toot-id"> #closed-915</span></h2><div class="pubdate">09 Jan at 17:27:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/915">https://github.com/qt4cg/qtspecs/issues/915</a></div><p>[Editorial] Incorrect terminology: function implementation is now function body</p></div>
<div class="toot" id="closed-922"><h2>Issue #922 closed<span class="toot-id"> #closed-922</span></h2><div class="pubdate">09 Jan at 17:27:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/922">https://github.com/qt4cg/qtspecs/pull/922</a></div><p>915 function body terminology</p></div></div><p>See 1781
            more statuses in yearly archives.</p></article></main></body></html>