<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-04-23"><h2>QT4 CG meeting 074 draft agenda<span class="toot-id"> #agenda-04-23</span></h2><div class="pubdate">22 Apr at 13:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/04-23">https://qt4cg.org/meeting/agenda/2024/04-23</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1165"><h2>Issue #1165 created<span class="toot-id"> #created-1165</span></h2><div class="pubdate">22 Apr at 11:06:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1165">https://github.com/qt4cg/qtspecs/issues/1165</a></div><details><summary>[Editorial] References to numeric codepoints in prose: consistency</summary><div class="markup"><p>A quick glance in F+O finds:</p>
<pre><code> \n (newline, x0A)
π (x3C0)
the glyph ≂̸ which is expressed using the two codepoints #x2242 #x0338
A format token of &amp;#x661; (Arabic-Indic digit one)
the format token &amp;#x2460; (circled digit one, ①)
the actual Unicode character COMBINING DIARESIS (Unicode codepoint U+0308) or &amp;#x0308;
The Latin small letter dotless i (ı, U+0131, used in Turkish)
the Unicode replacement character (U+FFFD)
CRLF (U+000D, U+000A), LF (U+000A), or CR (U+000D)
comma "," (U+002C)
the Unicode quotation mark " (U+0022)
a single newline (U+000A) character
</code></pre>
<p>I feel we could do better...</p>
</div></details></div>
<div class="toot" id="closed-700"><h2>Issue #700 closed<span class="toot-id"> #closed-700</span></h2><div class="pubdate">21 Apr at 22:47:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/700">https://github.com/qt4cg/qtspecs/issues/700</a></div><p>Operators for array mapping and filtering</p></div>
<div class="toot" id="created-1164"><h2>Pull request #1164 created<span class="toot-id"> #created-1164</span></h2><div class="pubdate">21 Apr at 22:16:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1164">https://github.com/qt4cg/qtspecs/pull/1164</a></div><details><summary>1155 Consistency of glossaries</summary><div class="markup"><p>Use a common style for all glossaries.</p>
<p>Add a glossary to F+O.</p>
<p>Fix #1155</p>
</div></details></div>
<div class="toot" id="created-1163"><h2>Pull request #1163 created<span class="toot-id"> #created-1163</span></h2><div class="pubdate">19 Apr at 20:39:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1163">https://github.com/qt4cg/qtspecs/pull/1163</a></div><p>1159 Add filter expressions for maps and arrays</p></div>
<div class="toot" id="created-1162"><h2>Issue #1162 created<span class="toot-id"> #created-1162</span></h2><div class="pubdate">18 Apr at 10:19:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1162">https://github.com/qt4cg/qtspecs/issues/1162</a></div><details><summary>Revert strict type for positional variables (xs:integer → xs:positiveInteger)</summary><div class="markup"><p>I feel that the decision to change <code>xs:integer</code> to <code>xs:positiveInteger</code> was a bit hasty (https://github.com/qt4cg/qtspecs/pull/1131#issuecomment-2051379262):</p>
<p>To be consistent, numerous other expressions and functions would need to be rewritten as well to use stricter types (arbitrary examples: the <code>count</code> clause; <code>$err:line-number</code> in the catch clause; the result type of <code>fn:string-to-codepoints</code>; positions in <code>array:get</code>, <code>fn:parse-integer</code>, etc.; the position parameter in HOF functions, and so on and on). We haven’t done so yet, and I seriously wonder what exactly we would win from the stricter types. In many cases, it would be reasonable to also define a strict upper limit, which is not possible with our types anyway.</p>
<p>Implementations may build heavily on the fact that <code>xs:integer</code> has been the default type for integer values in previous versions of the languages. For example, we use cached instances for the most small integer values, or we rewrite constructs with <code>xs:integer</code> to other constructs accepting the same type.</p>
<p>For all these challenges, as always, technical solutions exist, but the question is if there aren’t more interesting things to focus on than on such corner cases. Queries like <code>count(1 to 1000000000000)</code> are not supported by all implementations either although they may appear trivial to the ordinary user (by coincidence, it’s supported by BaseX, but I doubt it has been used a lot).</p>
<p>In short, I would like us to revert the change in https://github.com/qt4cg/qtspecs/pull/1131/commits/bba6e4f1067e0ef0779688622a58320a5298d440 and stick with <code>xs:integer</code>. If people feel bad about it, I would suggest discussing strict types in a much broader and general way.</p>
</div></details></div>
<div class="toot" id="created-1161"><h2>Issue #1161 created<span class="toot-id"> #created-1161</span></h2><div class="pubdate">18 Apr at 07:49:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1161">https://github.com/qt4cg/qtspecs/issues/1161</a></div><details><summary>More changes to drop the requirement for document-uri() uniqueness</summary><div class="markup"><p>Issue #898 was about dropping this constraint that document-uri()s had to be unique and PR #905 was adopted to resolve it. However, I see that the the XPath specification still contains the following note:</p>
<blockquote>
<p>Note:</p>
<p>This means that given a document node $N, the result of fn:doc(fn:document-uri($N)) is $N will always be true, unless fn:document-uri($N) is an empty sequence.</p>
</blockquote>
<p>I don't believe that applies any longer, so it should be removed.</p>
<p>It's possible that we need to finesse the description of <em>available documents</em> as well. The current description was clearly written from the perspective that document URIs would be unique and there'd be a 1:1 mapping from URIs to documents.</p>
</div></details></div>
<div class="toot" id="minutes-04-16"><h2>QT4 CG meeting 073 draft minutes<span class="toot-id"> #minutes-04-16</span></h2><div class="pubdate">16 Apr at 17:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/04-16">https://qt4cg.org/meeting/minutes/2024/04-16</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-1160"><h2>Issue #1160 created<span class="toot-id"> #created-1160</span></h2><div class="pubdate">16 Apr at 17:38:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1160">https://github.com/qt4cg/qtspecs/issues/1160</a></div><details><summary>fn:is-collation-available</summary><div class="markup"><p>The new function <strong><a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-collation">fn:collation</a></strong> raises an error [<a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#ERRFOCH0002">err:FOCH0002</a>]  in the case when the requested collation is not supported. Or, if the <code>fallback</code> key's value is <code>true()</code>, then the implementation chooses "the most similar supported collation" - which could be perceived as arbitrary and unexpected by the code developer.</p>
<p>This might be OK if the language has try/catch capabilities and <code>fallback="no"</code>  is specified, but may not be the best outcome in a pure XPath evaluation.</p>
<p>A solution to this problem is to provide a function <strong>fn:is-collation-available</strong> that accepts the same argument (<code>$options</code> map) as <code>fn:collation</code>, and also could accept a string argument whose value is the URI of the collation. This function produces a boolean, <code>true()</code> meaning that the collation is available and can be constructed and used, <code>false()</code> - otherwise.</p>
<p><strong>Signature</strong></p>
<p><code>fn:is-collation-available( $descriptor  as&nbsp;xs:string | map(*)  )&nbsp;as&nbsp;xs:boolean</code></p>
</div></details></div>
<div class="toot" id="closed-1140"><h2>Issue #1140 closed<span class="toot-id"> #closed-1140</span></h2><div class="pubdate">16 Apr at 16:31:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1140">https://github.com/qt4cg/qtspecs/issues/1140</a></div><p>Use $target instead of $search for indexing functions</p></div>
<div class="toot" id="closed-1141"><h2>Issue #1141 closed<span class="toot-id"> #closed-1141</span></h2><div class="pubdate">16 Apr at 16:31:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1141">https://github.com/qt4cg/qtspecs/pull/1141</a></div><p>1140 Replace 'search' with 'target' for indexing functions</p></div>
<div class="toot" id="closed-1147"><h2>Issue #1147 closed<span class="toot-id"> #closed-1147</span></h2><div class="pubdate">16 Apr at 16:28:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1147">https://github.com/qt4cg/qtspecs/pull/1147</a></div><p>QT4CG-072-01 Clarify schema type terminology</p></div>
<div class="toot" id="closed-1142"><h2>Issue #1142 closed<span class="toot-id"> #closed-1142</span></h2><div class="pubdate">16 Apr at 16:25:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1142">https://github.com/qt4cg/qtspecs/issues/1142</a></div><p>fn:deep-equal: items-equal</p></div>
<div class="toot" id="closed-1150"><h2>Issue #1150 closed<span class="toot-id"> #closed-1150</span></h2><div class="pubdate">16 Apr at 16:25:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1150">https://github.com/qt4cg/qtspecs/pull/1150</a></div><p>1142 Drop restriction disallowing items-equal with unordered</p></div>
<div class="toot" id="closed-1138"><h2>Issue #1138 closed<span class="toot-id"> #closed-1138</span></h2><div class="pubdate">16 Apr at 16:22:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1138">https://github.com/qt4cg/qtspecs/issues/1138</a></div><p>format-number arguments</p></div>
<div class="toot" id="closed-1151"><h2>Issue #1151 closed<span class="toot-id"> #closed-1151</span></h2><div class="pubdate">16 Apr at 16:22:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1151">https://github.com/qt4cg/qtspecs/pull/1151</a></div><p>1138 Merge format and format-name params of format-number</p></div>
<div class="toot" id="closed-1152"><h2>Issue #1152 closed<span class="toot-id"> #closed-1152</span></h2><div class="pubdate">16 Apr at 16:18:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1152">https://github.com/qt4cg/qtspecs/pull/1152</a></div><p>1146 Inline change log</p></div>
<div class="toot" id="closed-115"><h2>Issue #115 closed<span class="toot-id"> #closed-115</span></h2><div class="pubdate">16 Apr at 16:12:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/115">https://github.com/qt4cg/qtspecs/issues/115</a></div><p>Lookup operator on arrays of maps</p></div>
<div class="toot" id="closed-298"><h2>Issue #298 closed<span class="toot-id"> #closed-298</span></h2><div class="pubdate">16 Apr at 16:12:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/298">https://github.com/qt4cg/qtspecs/issues/298</a></div><p>Abstract supertype for map and array</p></div>
<div class="toot" id="closed-397"><h2>Issue #397 closed<span class="toot-id"> #closed-397</span></h2><div class="pubdate">16 Apr at 16:12:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/397">https://github.com/qt4cg/qtspecs/issues/397</a></div><p>Type names</p></div>
<div class="toot" id="closed-836"><h2>Issue #836 closed<span class="toot-id"> #closed-836</span></h2><div class="pubdate">16 Apr at 16:12:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/836">https://github.com/qt4cg/qtspecs/issues/836</a></div><p>Add support for CSV 'dialect' features covered by the OKFN's Frictionless Data CSV spec in `fn:parse-csv` and related functions</p></div>
<div class="toot" id="closed-1115"><h2>Issue #1115 closed<span class="toot-id"> #closed-1115</span></h2><div class="pubdate">16 Apr at 16:12:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1115">https://github.com/qt4cg/qtspecs/issues/1115</a></div><p>XSLT - ability to call a function from xslt (not just xpath)</p></div>
<div class="toot" id="closed-1154"><h2>Issue #1154 closed<span class="toot-id"> #closed-1154</span></h2><div class="pubdate">16 Apr at 16:10:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1154">https://github.com/qt4cg/qtspecs/issues/1154</a></div><p>[xsl:item-type] error in sample</p></div>
<div class="toot" id="closed-1156"><h2>Issue #1156 closed<span class="toot-id"> #closed-1156</span></h2><div class="pubdate">16 Apr at 16:10:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1156">https://github.com/qt4cg/qtspecs/pull/1156</a></div><p>Fix error in XSLT example</p></div>
<div class="toot" id="closed-1084"><h2>Issue #1084 closed<span class="toot-id"> #closed-1084</span></h2><div class="pubdate">16 Apr at 16:10:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1084">https://github.com/qt4cg/qtspecs/issues/1084</a></div><p>Incorrect rendition of option defaults</p></div>
<div class="toot" id="closed-1149"><h2>Issue #1149 closed<span class="toot-id"> #closed-1149</span></h2><div class="pubdate">16 Apr at 16:10:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1149">https://github.com/qt4cg/qtspecs/pull/1149</a></div><p>1084 Add fos:default-description to support prose descriptions of defaults</p></div>
<div class="toot" id="created-1159"><h2>Issue #1159 created<span class="toot-id"> #created-1159</span></h2><div class="pubdate">15 Apr at 22:41:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1159">https://github.com/qt4cg/qtspecs/issues/1159</a></div><details><summary>Filter operator for arrays</summary><div class="markup"><p>I propose to provide <code>?[...]</code> as a filter operator for arrays.</p>
<p>For example,</p>
<pre><code>let $array := [(1,2,3), (4,5,6,7)]
return $array?[count(.) = 4]
</code></pre>
<p>returns</p>
<p><code>[(4,5,6,7)]</code></p>
<p>I propose that the operator should work exactly like the familiar <code>[]</code> for sequences in its handling of numeric and boolean predicate values. So for example $array?[2,1] in the above example returns <code>[(4,5,6,7), (1,2,3)]</code>. The result is always an array (which may be a little surprising). This means that <code>$array?[3]</code> has the same effect as <code>[$array?3]</code> or <code>[$array(3)]</code>.</p>
</div></details></div>
<div class="toot" id="created-1158"><h2>Issue #1158 created<span class="toot-id"> #created-1158</span></h2><div class="pubdate">15 Apr at 22:33:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1158">https://github.com/qt4cg/qtspecs/issues/1158</a></div><details><summary>Simple mapping operator for arrays</summary><div class="markup"><p>I propose to provide <code>!!</code> as a simple mapping operator for arrays.</p>
<p>For example <code>[(1,2,3), (4.5.6)]!!count(.)</code> returns <code>[3, 3]</code>.</p>
<p>The expression on the LHS must be an array.</p>
<p>The expression on the RHS is evaluated once for every member of the array, with that member as the context value, with the context position set to the position of that member in the array, and with the context size set to the array size.</p>
<p>The result is returned as an array which will always be the same size as the input array.</p>
<p>Note in passing that this provides a solution (though perhaps a clumsy solution) to issue #755, in that the example expression</p>
<p><code>(0 to 4) ~ count(.)</code></p>
<p>can now be written as <code>[(0 to 4)]!!count(.)?*</code></p>
</div></details></div>
<div class="toot" id="created-1157"><h2>Pull request #1157 created<span class="toot-id"> #created-1157</span></h2><div class="pubdate">15 Apr at 17:23:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1157">https://github.com/qt4cg/qtspecs/pull/1157</a></div><details><summary>1135 Correction to definition of focus functions</summary><div class="markup"><p>Fix #1135</p>
</div></details></div>
<div class="toot" id="created-1156"><h2>Pull request #1156 created<span class="toot-id"> #created-1156</span></h2><div class="pubdate">15 Apr at 17:06:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1156">https://github.com/qt4cg/qtspecs/pull/1156</a></div><details><summary>Fix error in XSLT example</summary><div class="markup"><p>Fix #1154</p>
</div></details></div></div><p>See 2273
            more statuses in yearly archives.</p></article></main></body></html>