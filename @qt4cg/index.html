<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-06-20"><h2>QT4 CG meeting 039 draft agenda<span class="toot-id"> #agenda-06-20</span></h2><div class="pubdate">19 Jun at 10:55:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/06-20">https://qt4cg.org/meeting/agenda/2023/06-20</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-512"><h2>Issue #512 closed<span class="toot-id"> #closed-512</span></h2><div class="pubdate">19 Jun at 10:06:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/512">https://github.com/qt4cg/qtspecs/pull/512</a></div><p>256: Context for default function parameter expressions</p></div>
<div class="toot" id="closed-3"><h2>Issue #3 closed<span class="toot-id"> #closed-3</span></h2><div class="pubdate">19 Jun at 09:55:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/3">https://github.com/qt4cg/qtspecs/issues/3</a></div><p>Allow tokens in xsl:mode/@name</p></div>
<div class="toot" id="created-557"><h2>Issue #557 created<span class="toot-id"> #created-557</span></h2><div class="pubdate">17 Jun at 12:31:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/557">https://github.com/qt4cg/qtspecs/issues/557</a></div><details><summary>FO (feature request) accessing and manipulating binary types</summary><div class="markup"><p>Dear All,
When working with binary types currently one has to fall back to string conversions and/or extensions.
A few ideas on nice to have functions that operate on binary types:
-accessing a single byte at a specific position
-splitting binary data at byte boundary (aka binary-subsequence)
-converting to/from a sequence of byte(s)
-joining binary data together
-(optionally) loading data directly as (base64)binary (some extensions are using unparsed-text with proprietary decoding 'x-binarytobase64' to retrieve a base64 castable string)
-standard bit-wise operators and, or, xor, not, rshift, lshift</p>
<p>If considered, then each needs to be discussed in detail separately -ex. which type to support signed/unsigned, 8 bit etc.-, I merely intend as conversation starter in case others encountered similar issues/limitations.</p>
<p><em>p.s.: Not sure if this is the right channel to raise this issue, so feel free to close/move/split accordingly.</em></p>
</div></details></div>
<div class="toot" id="created-556"><h2>Issue #556 created<span class="toot-id"> #created-556</span></h2><div class="pubdate">16 Jun at 02:53:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/556">https://github.com/qt4cg/qtspecs/issues/556</a></div><details><summary>Serialization phase 5 note unclear</summary><div class="markup"><p><a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview-diff.html#serphases">Section 4</a> of the Serialization spects ends with this note:</p>
<blockquote>
<p>Serialization is only defined in terms of encoding the result as a stream of octets. However, a <a href="https://qt4cg.org/specifications/xslt-xquery-serialization-40/Overview-diff.html#serializer">serializer</a> MAY provide an option that allows the encoding phase to be skipped, so that the result of serialization is a stream of Unicode characters.</p>
</blockquote>
<p>What is a stream of Unicode characters? AFAIK, Unicode characters cannot be streamed <em>an sich</em> but require some encoding. And how does would such a stream not consist of bytes/octets of one sort or another? A stream of what exactly?</p>
</div></details></div>
<div class="toot" id="created-555"><h2>Pull request #555 created<span class="toot-id"> #created-555</span></h2><div class="pubdate">16 Jun at 00:02:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/555">https://github.com/qt4cg/qtspecs/pull/555</a></div><details><summary>464: Revised narrative of normalization steps for serialization</summary><div class="markup"><p>This PR acts on #464 by revising the description of steps involved in normalizing a sequence that is input to serialization. I normally would wield a light editorial hand, but the issues raised in #464 as well as closer reading of the prose convinced me that a wholesale revision would be beneficial. For example, new sequences were described as if the reader already knew about them, but they are really only introduced as the last sentence in many steps.</p>
<p>I have capitalized on the original version of step 1's appeal to <code>array:flatten</code> to abbreviate the description for two of the steps.</p>
</div></details></div>
<div class="toot" id="closed-518"><h2>Issue #518 closed<span class="toot-id"> #closed-518</span></h2><div class="pubdate">15 Jun at 02:10:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/518">https://github.com/qt4cg/qtspecs/issues/518</a></div><p>transitive-closure() function</p></div>
<div class="toot" id="created-554"><h2>Issue #554 created<span class="toot-id"> #created-554</span></h2><div class="pubdate">15 Jun at 01:49:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/554">https://github.com/qt4cg/qtspecs/issues/554</a></div><details><summary>The Transitive Closure function produces an incomplete result, completeness/success and number of actual iterations must also be returned</summary><div class="markup"><p>@michaelhkay and CG members,</p>
<p>I initially reopened <strong><a href="https://github.com/qt4cg/qtspecs/issues/518">the original issue</a></strong>, because there is some useful and needed functionality that the PR and the text of the FO specification do not provide, and we missed to discuss this at the June 13th meeting.</p>
<p><strong>I believe that typically a developer would need to know if the "whole" TC was completely produced, or not, and maybe how many iterations were needed</strong>.</p>
<p>This can be provided if the result of the function was for example:</p>
<pre><code class="language-xq">map{ 
        "TC" : $thefinalTCNodeset,
        "WasTCComplete": $boolForTCCompletion,
        "NumberOfIterations: $someInteger
       }
</code></pre>
<p>One could argue that if <strong><em><code>$result? NumberOfIterations &lt; max</code></em></strong>, then we know that the complete TC was produced and thus we don't need the member "WasTCComplete".</p>
<p>However, this is not the case when <strong><em><code>$result? NumberOfIterations eq max</code></em></strong>. In this case both outcomes are possible: the complete TC was produced exactly in <code>max</code> iterations (so the value of <code>"WasTCComplete"</code>  must be <code>true()</code> ), or <code>max</code> iterations were performed and the <code>max + 1</code>st iteration produced additional nodes -- in this case <code>"WasTCComplete"</code> must be <code>false()</code>.</p>
<p><strong>Failure to produce the complete TC in many cases will be regarded as error, and the developer needs to be sure that this was (or this wasn't) the case</strong>.</p>
<p>thus, the current specification of this function needs additional work to accomodate the full needed functionality.</p>
</div></details></div>
<div class="toot" id="created-553"><h2>Issue #553 created<span class="toot-id"> #created-553</span></h2><div class="pubdate">15 Jun at 00:09:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/553">https://github.com/qt4cg/qtspecs/issues/553</a></div><details><summary>New function fn:substitute()</summary><div class="markup"><p>The discussion on the parse-csv() use cases suggests there would be value in a function</p>
<p><code>fn:substitute($value as item()*, $pos as xs:positiveInteger, $mangler as function(item()) as item()) as item()*</code></p>
<p>whose effect is to return the input sequence <code>$value</code> with the item at position <code>$pos</code> replaced by the result of invoking <code>$mangler</code> on that item.</p>
<p>This should be aligned with similar functions for maps and arrays.</p>
</div></details></div>
<div class="toot" id="created-552"><h2>Pull request #552 created<span class="toot-id"> #created-552</span></h2><div class="pubdate">14 Jun at 21:32:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/552">https://github.com/qt4cg/qtspecs/pull/552</a></div><details><summary>Editorial: Updates to back matter and status section of F+O spec</summary><div class="markup"><p>Mainly updates to the changes appendix. Also improve the status section, and correct the bibref to the EXSLT specs.</p>
</div></details></div>
<div class="toot" id="closed-256"><h2>Issue #256 closed<span class="toot-id"> #closed-256</span></h2><div class="pubdate">14 Jun at 20:10:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/256">https://github.com/qt4cg/qtspecs/issues/256</a></div><p>Function declarations: static and dynamic context for default parameter values</p></div>
<div class="toot" id="closed-275"><h2>Issue #275 closed<span class="toot-id"> #closed-275</span></h2><div class="pubdate">14 Jun at 20:08:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/275">https://github.com/qt4cg/qtspecs/issues/275</a></div><p>Problems with nt/xnt links to grammar terms</p></div>
<div class="toot" id="created-551"><h2>Pull request #551 created<span class="toot-id"> #created-551</span></h2><div class="pubdate">14 Jun at 20:04:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/551">https://github.com/qt4cg/qtspecs/pull/551</a></div><details><summary>316: Drop the fn:differences function</summary><div class="markup"><p>Fix #316</p>
<p>The draft specification for fn:differences was added to the spec before we had a review process in place. The spec is complex and incomplete; issue #316 points out some of the difficulties. This PR removes it from the spec.</p>
<p>Note that fn:deep-equal() now has a debug option which outputs diagnostic information in implementation-defined format; although not interoperable, this meets the main use case, which is to discover for diagnostic purposes why and in what way two values are not deep-equal to each other.</p>
</div></details></div>
<div class="toot" id="created-550"><h2>Pull request #550 created<span class="toot-id"> #created-550</span></h2><div class="pubdate">14 Jun at 08:47:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/550">https://github.com/qt4cg/qtspecs/pull/550</a></div><details><summary>548: require parens around lambda arguments</summary><div class="markup"><p>Require parentheses around the parameter list in a lambda expression, even when there is only one parameter, to avoid the problem of needing whitespace before the arrow. Resolves issue #548.</p>
</div></details></div>
<div class="toot" id="closed-327"><h2>Issue #327 closed<span class="toot-id"> #closed-327</span></h2><div class="pubdate">14 Jun at 00:03:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/327">https://github.com/qt4cg/qtspecs/issues/327</a></div><p>Tokenisation</p></div>
<div class="toot" id="closed-333"><h2>Issue #333 closed<span class="toot-id"> #closed-333</span></h2><div class="pubdate">13 Jun at 23:55:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/333">https://github.com/qt4cg/qtspecs/issues/333</a></div><p>Equality of function items</p></div>
<div class="toot" id="closed-382"><h2>Issue #382 closed<span class="toot-id"> #closed-382</span></h2><div class="pubdate">13 Jun at 23:49:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/382">https://github.com/qt4cg/qtspecs/issues/382</a></div><p>Improve whitespace handling in deep-equal</p></div>
<div class="toot" id="closed-536"><h2>Issue #536 closed<span class="toot-id"> #closed-536</span></h2><div class="pubdate">13 Jun at 23:49:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/536">https://github.com/qt4cg/qtspecs/issues/536</a></div><p>Re: Mathematical Operator Symbols</p></div>
<div class="toot" id="closed-513"><h2>Issue #513 closed<span class="toot-id"> #closed-513</span></h2><div class="pubdate">13 Jun at 23:48:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/513">https://github.com/qt4cg/qtspecs/issues/513</a></div><p>Arrow operator: Inline functions without parens</p></div>
<div class="toot" id="created-549"><h2>Pull request #549 created<span class="toot-id"> #created-549</span></h2><div class="pubdate">13 Jun at 23:46:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/549">https://github.com/qt4cg/qtspecs/pull/549</a></div><details><summary>526 load xquery module</summary><div class="markup"><p>Updates the spec of fn:load-query-module to handle functions with optional parameters. Resolves issue #526</p>
</div></details></div>
<div class="toot" id="minutes-06-13"><h2>QT4 CG meeting 038 draft minutes<span class="toot-id"> #minutes-06-13</span></h2><div class="pubdate">13 Jun at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/06-13">https://qt4cg.org/meeting/minutes/2023/06-13</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-521"><h2>Issue #521 closed<span class="toot-id"> #closed-521</span></h2><div class="pubdate">13 Jun at 16:34:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/521">https://github.com/qt4cg/qtspecs/pull/521</a></div><p>518: Add transitive-closure() function</p></div>
<div class="toot" id="closed-545"><h2>Issue #545 closed<span class="toot-id"> #closed-545</span></h2><div class="pubdate">13 Jun at 16:33:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/545">https://github.com/qt4cg/qtspecs/pull/545</a></div><p>513: after arrow operator, inline function no longer needs parens</p></div>
<div class="toot" id="closed-544"><h2>Issue #544 closed<span class="toot-id"> #closed-544</span></h2><div class="pubdate">13 Jun at 16:33:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/544">https://github.com/qt4cg/qtspecs/pull/544</a></div><p>536: disallow mixing of symbols in operator tokens</p></div>
<div class="toot" id="closed-543"><h2>Issue #543 closed<span class="toot-id"> #closed-543</span></h2><div class="pubdate">13 Jun at 16:32:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/543">https://github.com/qt4cg/qtspecs/pull/543</a></div><p>382 simplify rules for whitespace in fn:deep-equal</p></div>
<div class="toot" id="closed-542"><h2>Issue #542 closed<span class="toot-id"> #closed-542</span></h2><div class="pubdate">13 Jun at 16:32:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/542">https://github.com/qt4cg/qtspecs/pull/542</a></div><p>Fixes a simple error in the description of XSLT error XTSE4020</p></div>
<div class="toot" id="closed-541"><h2>Issue #541 closed<span class="toot-id"> #closed-541</span></h2><div class="pubdate">13 Jun at 16:32:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/541">https://github.com/qt4cg/qtspecs/pull/541</a></div><p>Fix typo in XPath §2.4.5 - E1 should be tagged as code not as var.</p></div>
<div class="toot" id="created-548"><h2>Issue #548 created<span class="toot-id"> #created-548</span></h2><div class="pubdate">13 Jun at 07:55:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/548">https://github.com/qt4cg/qtspecs/issues/548</a></div><details><summary>Space separation in lambda expressions</summary><div class="markup"><p>Currently the expression <code>$a -&gt; {$a+1}</code> requires a space before the arrow, because the hyphen is otherwise tokenized as part of the variable name.</p>
<p>Not only is this a very easy trap to fall into, it also tends to result in poor diagnostics because we're in lookahead territory where we are also considering an alternative parse along the lines <code>$a- &gt; EXPR</code> (where the variable name is <code>a-</code>), and this parse only gets disqualified because an expression can't begin with <code>{</code>.</p>
<p>If we later introduce expressions that start with <code>{</code>, writing <code>$a-&gt;{3}</code> with no space would no longer be an error, it would just mean something completely different from what you intended.</p>
<p>One solution, not a very pretty one, is to require parentheses around the argument list even when there is only a single argument. Almost as inconvenient as requiring the space, but with better diagnostics if you forget.</p>
<p>Another solution might be to restrict the parameter name so it can't contain a hyphen. The problem with that is that the tokenization becomes sensitive to the grammatical context, which is not totally unexplored territory, but complicates the fact that we're already in lookahead territory where we are looking at alternative parses. (The Saxon implementation already does the lookahead by retokenizing, so it's not impossible.)</p>
<p>Would it be too horrendous to contemplate a backwards-incompatible change to say variable names cannot end in a hyphen, anywhere? Perhaps with a mode bit for compatibility? After all, all this complication is caused by the need to cater for something which no sane user ever does.</p>
</div></details></div>
<div class="toot" id="created-547"><h2>Pull request #547 created<span class="toot-id"> #created-547</span></h2><div class="pubdate">12 Jun at 15:24:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/547">https://github.com/qt4cg/qtspecs/pull/547</a></div><details><summary>Action QT4CG-036-02: Further elaboration of the rules for function identity</summary><div class="markup"><p>Following review and acceptance of the proposal introducing the concept of function identity (PR #525, Issue #520) this PR makes some refinements in response to comments raised during the review, especially in the following areas:</p>
<ul>
<li>clarification as regards named function references to context-dependent functions</li>
<li>relationship to (in)determinacy of a function</li>
<li>avoiding the phrase "new function item"</li>
<li>stating that the identity of a function item such as fn:count#1 applies even across execution scopes, e.g. calls to fn:transform.</li>
</ul>
</div></details></div>
<div class="toot" id="created-546"><h2>Pull request #546 created<span class="toot-id"> #created-546</span></h2><div class="pubdate">12 Jun at 13:28:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/546">https://github.com/qt4cg/qtspecs/pull/546</a></div><details><summary>414: Attempt to implement expanding the allowed character repertoire</summary><div class="markup"><p>Fix #414</p>
<p>This PR addresses ACTION QT4CG-036-01 on me.</p>
</div></details></div></div><p>See 991
            more statuses in yearly archives.</p></article></main></body></html>